/*! For license information please see main-bundle.js.LICENSE.txt */
(()=>{var t={5248:()=>{window.addEventListener("load",(function(){var t=document.getElementById("dropdown");t.addEventListener("click",(function(e){t.classList.toggle("active")})),window.addEventListener("click",(function(e){null==e.target.closest("#dropdown")&&t.classList.remove("active")}));var e=document.getElementById("home-menu-button");e&&e.addEventListener("click",(function(t){t.preventDefault(),e.parentNode.classList.toggle("open")}))}))},3099:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},6077:(t,e,n)=>{var r=n(111);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},1223:(t,e,n)=>{var r=n(5112),i=n(30),o=n(3070),a=r("unscopables"),s=Array.prototype;null==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),t.exports=function(t){s[a][t]=!0}},1530:(t,e,n)=>{"use strict";var r=n(8710).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},5787:t=>{t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},9670:(t,e,n)=>{var r=n(111);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},8533:(t,e,n)=>{"use strict";var r=n(2092).forEach,i=n(9341),o=n(9207),a=i("forEach"),s=o("forEach");t.exports=a&&s?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},1318:(t,e,n)=>{var r=n(5656),i=n(7466),o=n(1400),a=function(t){return function(e,n,a){var s,u=r(e),c=i(u.length),h=o(a,c);if(t&&n!=n){for(;c>h;)if((s=u[h++])!=s)return!0}else for(;c>h;h++)if((t||h in u)&&u[h]===n)return t||h||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},2092:(t,e,n)=>{var r=n(9974),i=n(8361),o=n(7908),a=n(7466),s=n(5417),u=[].push,c=function(t){var e=1==t,n=2==t,c=3==t,h=4==t,f=6==t,l=7==t,p=5==t||f;return function(d,v,y,m){for(var g,b,w=o(d),I=i(w),_=r(v,y,3),E=a(I.length),T=0,A=m||s,S=e?A(d,E):n||l?A(d,0):void 0;E>T;T++)if((p||T in I)&&(b=_(g=I[T],T,w),t))if(e)S[T]=b;else if(b)switch(t){case 3:return!0;case 5:return g;case 6:return T;case 2:u.call(S,g)}else switch(t){case 4:return!1;case 7:u.call(S,g)}return f?-1:c||h?h:S}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},1194:(t,e,n)=>{var r=n(7293),i=n(5112),o=n(7392),a=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},9341:(t,e,n)=>{"use strict";var r=n(7293);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},9207:(t,e,n)=>{var r=n(9781),i=n(7293),o=n(6656),a=Object.defineProperty,s={},u=function(t){throw t};t.exports=function(t,e){if(o(s,t))return s[t];e||(e={});var n=[][t],c=!!o(e,"ACCESSORS")&&e.ACCESSORS,h=o(e,0)?e[0]:u,f=o(e,1)?e[1]:void 0;return s[t]=!!n&&!i((function(){if(c&&!r)return!0;var t={length:-1};c?a(t,1,{enumerable:!0,get:u}):t[1]=1,n.call(t,h,f)}))}},3671:(t,e,n)=>{var r=n(3099),i=n(7908),o=n(8361),a=n(7466),s=function(t){return function(e,n,s,u){r(n);var c=i(e),h=o(c),f=a(c.length),l=t?f-1:0,p=t?-1:1;if(s<2)for(;;){if(l in h){u=h[l],l+=p;break}if(l+=p,t?l<0:f<=l)throw TypeError("Reduce of empty array with no initial value")}for(;t?l>=0:f>l;l+=p)l in h&&(u=n(u,h[l],l,c));return u}};t.exports={left:s(!1),right:s(!0)}},5417:(t,e,n)=>{var r=n(111),i=n(3157),o=n(5112)("species");t.exports=function(t,e){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},7072:(t,e,n)=>{var r=n(5112)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},4326:t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},648:(t,e,n)=>{var r=n(1694),i=n(4326),o=n(5112)("toStringTag"),a="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:a?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},9920:(t,e,n)=>{var r=n(6656),i=n(3887),o=n(1236),a=n(3070);t.exports=function(t,e){for(var n=i(e),s=a.f,u=o.f,c=0;c<n.length;c++){var h=n[c];r(t,h)||s(t,h,u(e,h))}}},8544:(t,e,n)=>{var r=n(7293);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4994:(t,e,n)=>{"use strict";var r=n(3383).IteratorPrototype,i=n(30),o=n(9114),a=n(8003),s=n(7497),u=function(){return this};t.exports=function(t,e,n){var c=e+" Iterator";return t.prototype=i(r,{next:o(1,n)}),a(t,c,!1,!0),s[c]=u,t}},8880:(t,e,n)=>{var r=n(9781),i=n(3070),o=n(9114);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},9114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6135:(t,e,n)=>{"use strict";var r=n(7593),i=n(3070),o=n(9114);t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,o(0,n)):t[a]=n}},654:(t,e,n)=>{"use strict";var r=n(2109),i=n(4994),o=n(9518),a=n(7674),s=n(8003),u=n(8880),c=n(1320),h=n(5112),f=n(1913),l=n(7497),p=n(3383),d=p.IteratorPrototype,v=p.BUGGY_SAFARI_ITERATORS,y=h("iterator"),m="keys",g="values",b="entries",w=function(){return this};t.exports=function(t,e,n,h,p,I,_){i(n,e,h);var E,T,A,S=function(t){if(t===p&&P)return P;if(!v&&t in N)return N[t];switch(t){case m:case g:case b:return function(){return new n(this,t)}}return function(){return new n(this)}},k=e+" Iterator",x=!1,N=t.prototype,O=N[y]||N["@@iterator"]||p&&N[p],P=!v&&O||S(p),D="Array"==e&&N.entries||O;if(D&&(E=o(D.call(new t)),d!==Object.prototype&&E.next&&(f||o(E)===d||(a?a(E,d):"function"!=typeof E[y]&&u(E,y,w)),s(E,k,!0,!0),f&&(l[k]=w))),p==g&&O&&O.name!==g&&(x=!0,P=function(){return O.call(this)}),f&&!_||N[y]===P||u(N,y,P),l[e]=P,p)if(T={values:S(g),keys:I?P:S(m),entries:S(b)},_)for(A in T)(v||x||!(A in N))&&c(N,A,T[A]);else r({target:e,proto:!0,forced:v||x},T);return T}},9781:(t,e,n)=>{var r=n(7293);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(t,e,n)=>{var r=n(7854),i=n(111),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},8324:t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},6833:(t,e,n)=>{var r=n(8113);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},5268:(t,e,n)=>{var r=n(4326),i=n(7854);t.exports="process"==r(i.process)},8113:(t,e,n)=>{var r=n(5005);t.exports=r("navigator","userAgent")||""},7392:(t,e,n)=>{var r,i,o=n(7854),a=n(8113),s=o.process,u=s&&s.versions,c=u&&u.v8;c?i=(r=c.split("."))[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=r[1]),t.exports=i&&+i},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(t,e,n)=>{var r=n(7854),i=n(1236).f,o=n(8880),a=n(1320),s=n(3505),u=n(9920),c=n(4705);t.exports=function(t,e){var n,h,f,l,p,d=t.target,v=t.global,y=t.stat;if(n=v?r:y?r[d]||s(d,{}):(r[d]||{}).prototype)for(h in e){if(l=e[h],f=t.noTargetGet?(p=i(n,h))&&p.value:n[h],!c(v?h:d+(y?".":"#")+h,t.forced)&&void 0!==f){if(typeof l==typeof f)continue;u(l,f)}(t.sham||f&&f.sham)&&o(l,"sham",!0),a(n,h,l,t)}}},7293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},7007:(t,e,n)=>{"use strict";n(4916);var r=n(1320),i=n(7293),o=n(5112),a=n(2261),s=n(8880),u=o("species"),c=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),h="$0"==="a".replace(/./,"$0"),f=o("replace"),l=!!/./[f]&&""===/./[f]("a","$0"),p=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,f){var d=o(t),v=!i((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),y=v&&!i((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return e=!0,null},n[d](""),!e}));if(!v||!y||"replace"===t&&(!c||!h||l)||"split"===t&&!p){var m=/./[d],g=n(d,""[t],(function(t,e,n,r,i){return e.exec===a?v&&!i?{done:!0,value:m.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:h,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:l}),b=g[0],w=g[1];r(String.prototype,t,b),r(RegExp.prototype,d,2==e?function(t,e){return w.call(t,this,e)}:function(t){return w.call(t,this)})}f&&s(RegExp.prototype[d],"sham",!0)}},9974:(t,e,n)=>{var r=n(3099);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},5005:(t,e,n)=>{var r=n(857),i=n(7854),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t])||o(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},1246:(t,e,n)=>{var r=n(648),i=n(7497),o=n(5112)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},7854:(t,e,n)=>{var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},6656:t=>{var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},3501:t=>{t.exports={}},842:(t,e,n)=>{var r=n(7854);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},490:(t,e,n)=>{var r=n(5005);t.exports=r("document","documentElement")},4664:(t,e,n)=>{var r=n(9781),i=n(7293),o=n(317);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:(t,e,n)=>{var r=n(7293),i=n(4326),o="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},2788:(t,e,n)=>{var r=n(5465),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},9909:(t,e,n)=>{var r,i,o,a=n(8536),s=n(7854),u=n(111),c=n(8880),h=n(6656),f=n(5465),l=n(6200),p=n(3501),d=s.WeakMap;if(a){var v=f.state||(f.state=new d),y=v.get,m=v.has,g=v.set;r=function(t,e){return e.facade=t,g.call(v,t,e),e},i=function(t){return y.call(v,t)||{}},o=function(t){return m.call(v,t)}}else{var b=l("state");p[b]=!0,r=function(t,e){return e.facade=t,c(t,b,e),e},i=function(t){return h(t,b)?t[b]:{}},o=function(t){return h(t,b)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},7659:(t,e,n)=>{var r=n(5112),i=n(7497),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},3157:(t,e,n)=>{var r=n(4326);t.exports=Array.isArray||function(t){return"Array"==r(t)}},4705:(t,e,n)=>{var r=n(7293),i=/#|\.prototype\./,o=function(t,e){var n=s[a(t)];return n==c||n!=u&&("function"==typeof e?r(e):!!e)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},111:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},1913:t=>{t.exports=!1},7850:(t,e,n)=>{var r=n(111),i=n(4326),o=n(5112)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},408:(t,e,n)=>{var r=n(9670),i=n(7659),o=n(7466),a=n(9974),s=n(1246),u=n(9212),c=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,n){var h,f,l,p,d,v,y,m=n&&n.that,g=!(!n||!n.AS_ENTRIES),b=!(!n||!n.IS_ITERATOR),w=!(!n||!n.INTERRUPTED),I=a(e,m,1+g+w),_=function(t){return h&&u(h),new c(!0,t)},E=function(t){return g?(r(t),w?I(t[0],t[1],_):I(t[0],t[1])):w?I(t,_):I(t)};if(b)h=t;else{if("function"!=typeof(f=s(t)))throw TypeError("Target is not iterable");if(i(f)){for(l=0,p=o(t.length);p>l;l++)if((d=E(t[l]))&&d instanceof c)return d;return new c(!1)}h=f.call(t)}for(v=h.next;!(y=v.call(h)).done;){try{d=E(y.value)}catch(t){throw u(h),t}if("object"==typeof d&&d&&d instanceof c)return d}return new c(!1)}},9212:(t,e,n)=>{var r=n(9670);t.exports=function(t){var e=t.return;if(void 0!==e)return r(e.call(t)).value}},3383:(t,e,n)=>{"use strict";var r,i,o,a=n(9518),s=n(8880),u=n(6656),c=n(5112),h=n(1913),f=c("iterator"),l=!1;[].keys&&("next"in(o=[].keys())?(i=a(a(o)))!==Object.prototype&&(r=i):l=!0),null==r&&(r={}),h||u(r,f)||s(r,f,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:l}},7497:t=>{t.exports={}},5948:(t,e,n)=>{var r,i,o,a,s,u,c,h,f=n(7854),l=n(1236).f,p=n(261).set,d=n(6833),v=n(5268),y=f.MutationObserver||f.WebKitMutationObserver,m=f.document,g=f.process,b=f.Promise,w=l(f,"queueMicrotask"),I=w&&w.value;I||(r=function(){var t,e;for(v&&(t=g.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?a():o=void 0,t}}o=void 0,t&&t.enter()},!d&&!v&&y&&m?(s=!0,u=m.createTextNode(""),new y(r).observe(u,{characterData:!0}),a=function(){u.data=s=!s}):b&&b.resolve?(c=b.resolve(void 0),h=c.then,a=function(){h.call(c,r)}):a=v?function(){g.nextTick(r)}:function(){p.call(f,r)}),t.exports=I||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,a()),o=e}},3366:(t,e,n)=>{var r=n(7854);t.exports=r.Promise},133:(t,e,n)=>{var r=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},8536:(t,e,n)=>{var r=n(7854),i=n(2788),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(i(o))},8523:(t,e,n)=>{"use strict";var r=n(3099),i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},30:(t,e,n)=>{var r,i=n(9670),o=n(6048),a=n(748),s=n(3501),u=n(490),c=n(317),h=n(6200)("IE_PROTO"),f=function(){},l=function(t){return"<script>"+t+"<\/script>"},p=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;p=r?function(t){t.write(l("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=c("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(l("document.F=Object")),t.close(),t.F);for(var n=a.length;n--;)delete p.prototype[a[n]];return p()};s[h]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(f.prototype=i(t),n=new f,f.prototype=null,n[h]=t):n=p(),void 0===e?n:o(n,e)}},6048:(t,e,n)=>{var r=n(9781),i=n(3070),o=n(9670),a=n(1956);t.exports=r?Object.defineProperties:function(t,e){o(t);for(var n,r=a(e),s=r.length,u=0;s>u;)i.f(t,n=r[u++],e[n]);return t}},3070:(t,e,n)=>{var r=n(9781),i=n(4664),o=n(9670),a=n(7593),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(o(t),e=a(e,!0),o(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:(t,e,n)=>{var r=n(9781),i=n(5296),o=n(9114),a=n(5656),s=n(7593),u=n(6656),c=n(4664),h=Object.getOwnPropertyDescriptor;e.f=r?h:function(t,e){if(t=a(t),e=s(e,!0),c)try{return h(t,e)}catch(t){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},8006:(t,e,n)=>{var r=n(6324),i=n(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},5181:(t,e)=>{e.f=Object.getOwnPropertySymbols},9518:(t,e,n)=>{var r=n(6656),i=n(7908),o=n(6200),a=n(8544),s=o("IE_PROTO"),u=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=i(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},6324:(t,e,n)=>{var r=n(6656),i=n(5656),o=n(1318).indexOf,a=n(3501);t.exports=function(t,e){var n,s=i(t),u=0,c=[];for(n in s)!r(a,n)&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},1956:(t,e,n)=>{var r=n(6324),i=n(748);t.exports=Object.keys||function(t){return r(t,i)}},5296:(t,e)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},7674:(t,e,n)=>{var r=n(9670),i=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,o){return r(n),i(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},4699:(t,e,n)=>{var r=n(9781),i=n(1956),o=n(5656),a=n(5296).f,s=function(t){return function(e){for(var n,s=o(e),u=i(s),c=u.length,h=0,f=[];c>h;)n=u[h++],r&&!a.call(s,n)||f.push(t?[n,s[n]]:s[n]);return f}};t.exports={entries:s(!0),values:s(!1)}},288:(t,e,n)=>{"use strict";var r=n(1694),i=n(648);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},3887:(t,e,n)=>{var r=n(5005),i=n(8006),o=n(5181),a=n(9670);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(a(t)),n=o.f;return n?e.concat(n(t)):e}},857:(t,e,n)=>{var r=n(7854);t.exports=r},2534:t=>{t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},9478:(t,e,n)=>{var r=n(9670),i=n(111),o=n(8523);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},2248:(t,e,n)=>{var r=n(1320);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},1320:(t,e,n)=>{var r=n(7854),i=n(8880),o=n(6656),a=n(3505),s=n(2788),u=n(9909),c=u.get,h=u.enforce,f=String(String).split("String");(t.exports=function(t,e,n,s){var u,c=!!s&&!!s.unsafe,l=!!s&&!!s.enumerable,p=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||i(n,"name",e),(u=h(n)).source||(u.source=f.join("string"==typeof e?e:""))),t!==r?(c?!p&&t[e]&&(l=!0):delete t[e],l?t[e]=n:i(t,e,n)):l?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},7651:(t,e,n)=>{var r=n(4326),i=n(2261);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},2261:(t,e,n)=>{"use strict";var r,i,o=n(7066),a=n(2999),s=RegExp.prototype.exec,u=String.prototype.replace,c=s,h=(r=/a/,i=/b*/g,s.call(r,"a"),s.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),f=a.UNSUPPORTED_Y||a.BROKEN_CARET,l=void 0!==/()??/.exec("")[1];(h||l||f)&&(c=function(t){var e,n,r,i,a=this,c=f&&a.sticky,p=o.call(a),d=a.source,v=0,y=t;return c&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),y=String(t).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==t[a.lastIndex-1])&&(d="(?: "+d+")",y=" "+y,v++),n=new RegExp("^(?:"+d+")",p)),l&&(n=new RegExp("^"+d+"$(?!\\s)",p)),h&&(e=a.lastIndex),r=s.call(c?n:a,y),c?r?(r.input=r.input.slice(v),r[0]=r[0].slice(v),r.index=a.lastIndex,a.lastIndex+=r[0].length):a.lastIndex=0:h&&r&&(a.lastIndex=a.global?r.index+r[0].length:e),l&&r&&r.length>1&&u.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=c},7066:(t,e,n)=>{"use strict";var r=n(9670);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},2999:(t,e,n)=>{"use strict";var r=n(7293);function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},4488:t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},3505:(t,e,n)=>{var r=n(7854),i=n(8880);t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},6340:(t,e,n)=>{"use strict";var r=n(5005),i=n(3070),o=n(5112),a=n(9781),s=o("species");t.exports=function(t){var e=r(t),n=i.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},8003:(t,e,n)=>{var r=n(3070).f,i=n(6656),o=n(5112)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},6200:(t,e,n)=>{var r=n(2309),i=n(9711),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},5465:(t,e,n)=>{var r=n(7854),i=n(3505),o="__core-js_shared__",a=r[o]||i(o,{});t.exports=a},2309:(t,e,n)=>{var r=n(1913),i=n(5465);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.8.1",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},6707:(t,e,n)=>{var r=n(9670),i=n(3099),o=n(5112)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[o])?e:i(n)}},8710:(t,e,n)=>{var r=n(9958),i=n(4488),o=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},261:(t,e,n)=>{var r,i,o,a=n(7854),s=n(7293),u=n(9974),c=n(490),h=n(317),f=n(6833),l=n(5268),p=a.location,d=a.setImmediate,v=a.clearImmediate,y=a.process,m=a.MessageChannel,g=a.Dispatch,b=0,w={},I=function(t){if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},_=function(t){return function(){I(t)}},E=function(t){I(t.data)},T=function(t){a.postMessage(t+"",p.protocol+"//"+p.host)};d&&v||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return w[++b]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(b),b},v=function(t){delete w[t]},l?r=function(t){y.nextTick(_(t))}:g&&g.now?r=function(t){g.now(_(t))}:m&&!f?(o=(i=new m).port2,i.port1.onmessage=E,r=u(o.postMessage,o,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&p&&"file:"!==p.protocol&&!s(T)?(r=T,a.addEventListener("message",E,!1)):r="onreadystatechange"in h("script")?function(t){c.appendChild(h("script")).onreadystatechange=function(){c.removeChild(this),I(t)}}:function(t){setTimeout(_(t),0)}),t.exports={set:d,clear:v}},1400:(t,e,n)=>{var r=n(9958),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},5656:(t,e,n)=>{var r=n(8361),i=n(4488);t.exports=function(t){return r(i(t))}},9958:t=>{var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},7466:(t,e,n)=>{var r=n(9958),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},7908:(t,e,n)=>{var r=n(4488);t.exports=function(t){return Object(r(t))}},7593:(t,e,n)=>{var r=n(111);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},1694:(t,e,n)=>{var r={};r[n(5112)("toStringTag")]="z",t.exports="[object z]"===String(r)},9711:t=>{var e=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+n).toString(36)}},3307:(t,e,n)=>{var r=n(133);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:(t,e,n)=>{var r=n(7854),i=n(2309),o=n(6656),a=n(9711),s=n(133),u=n(3307),c=i("wks"),h=r.Symbol,f=u?h:h&&h.withoutSetter||a;t.exports=function(t){return o(c,t)||(s&&o(h,t)?c[t]=h[t]:c[t]=f("Symbol."+t)),c[t]}},9554:(t,e,n)=>{"use strict";var r=n(2109),i=n(8533);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},6992:(t,e,n)=>{"use strict";var r=n(5656),i=n(1223),o=n(7497),a=n(9909),s=n(654),u="Array Iterator",c=a.set,h=a.getterFor(u);t.exports=s(Array,"Array",(function(t,e){c(this,{type:u,target:r(t),index:0,kind:e})}),(function(){var t=h(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},9600:(t,e,n)=>{"use strict";var r=n(2109),i=n(8361),o=n(5656),a=n(9341),s=[].join,u=i!=Object,c=a("join",",");r({target:"Array",proto:!0,forced:u||!c},{join:function(t){return s.call(o(this),void 0===t?",":t)}})},5827:(t,e,n)=>{"use strict";var r=n(2109),i=n(3671).left,o=n(9341),a=n(9207),s=n(7392),u=n(5268),c=o("reduce"),h=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!c||!h||!u&&s>79&&s<83},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},7042:(t,e,n)=>{"use strict";var r=n(2109),i=n(111),o=n(3157),a=n(1400),s=n(7466),u=n(5656),c=n(6135),h=n(5112),f=n(1194),l=n(9207),p=f("slice"),d=l("slice",{ACCESSORS:!0,0:0,1:2}),v=h("species"),y=[].slice,m=Math.max;r({target:"Array",proto:!0,forced:!p||!d},{slice:function(t,e){var n,r,h,f=u(this),l=s(f.length),p=a(t,l),d=a(void 0===e?l:e,l);if(o(f)&&("function"!=typeof(n=f.constructor)||n!==Array&&!o(n.prototype)?i(n)&&null===(n=n[v])&&(n=void 0):n=void 0,n===Array||void 0===n))return y.call(f,p,d);for(r=new(void 0===n?Array:n)(m(d-p,0)),h=0;p<d;p++,h++)p in f&&c(r,h,f[p]);return r.length=h,r}})},8309:(t,e,n)=>{var r=n(9781),i=n(3070).f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/,u="name";r&&!(u in o)&&i(o,u,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},9070:(t,e,n)=>{var r=n(2109),i=n(9781);r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:n(3070).f})},9720:(t,e,n)=>{var r=n(2109),i=n(4699).entries;r({target:"Object",stat:!0},{entries:function(t){return i(t)}})},7941:(t,e,n)=>{var r=n(2109),i=n(7908),o=n(1956);r({target:"Object",stat:!0,forced:n(7293)((function(){o(1)}))},{keys:function(t){return o(i(t))}})},1539:(t,e,n)=>{var r=n(1694),i=n(1320),o=n(288);r||i(Object.prototype,"toString",o,{unsafe:!0})},8674:(t,e,n)=>{"use strict";var r,i,o,a,s=n(2109),u=n(1913),c=n(7854),h=n(5005),f=n(3366),l=n(1320),p=n(2248),d=n(8003),v=n(6340),y=n(111),m=n(3099),g=n(5787),b=n(2788),w=n(408),I=n(7072),_=n(6707),E=n(261).set,T=n(5948),A=n(9478),S=n(842),k=n(8523),x=n(2534),N=n(9909),O=n(4705),P=n(5112),D=n(5268),R=n(7392),C=P("species"),L="Promise",M=N.get,j=N.set,V=N.getterFor(L),U=f,F=c.TypeError,q=c.document,z=c.process,H=h("fetch"),B=k.f,G=B,K=!!(q&&q.createEvent&&c.dispatchEvent),W="function"==typeof PromiseRejectionEvent,J="unhandledrejection",X=O(L,(function(){if(b(U)===String(U)){if(66===R)return!0;if(!D&&!W)return!0}if(u&&!U.prototype.finally)return!0;if(R>=51&&/native code/.test(U))return!1;var t=U.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[C]=e,!(t.then((function(){}))instanceof e)})),Y=X||!I((function(t){U.all(t).catch((function(){}))})),$=function(t){var e;return!(!y(t)||"function"!=typeof(e=t.then))&&e},Q=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;T((function(){for(var r=t.value,i=1==t.state,o=0;n.length>o;){var a,s,u,c=n[o++],h=i?c.ok:c.fail,f=c.resolve,l=c.reject,p=c.domain;try{h?(i||(2===t.rejection&&nt(t),t.rejection=1),!0===h?a=r:(p&&p.enter(),a=h(r),p&&(p.exit(),u=!0)),a===c.promise?l(F("Promise-chain cycle")):(s=$(a))?s.call(a,f,l):f(a)):l(r)}catch(t){p&&!u&&p.exit(),l(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&tt(t)}))}},Z=function(t,e,n){var r,i;K?((r=q.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),c.dispatchEvent(r)):r={promise:e,reason:n},!W&&(i=c["on"+t])?i(r):t===J&&S("Unhandled promise rejection",n)},tt=function(t){E.call(c,(function(){var e,n=t.facade,r=t.value;if(et(t)&&(e=x((function(){D?z.emit("unhandledRejection",r,n):Z(J,n,r)})),t.rejection=D||et(t)?2:1,e.error))throw e.value}))},et=function(t){return 1!==t.rejection&&!t.parent},nt=function(t){E.call(c,(function(){var e=t.facade;D?z.emit("rejectionHandled",e):Z("rejectionhandled",e,t.value)}))},rt=function(t,e,n){return function(r){t(e,r,n)}},it=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,Q(t,!0))},ot=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw F("Promise can't be resolved itself");var r=$(e);r?T((function(){var n={done:!1};try{r.call(e,rt(ot,n,t),rt(it,n,t))}catch(e){it(n,e,t)}})):(t.value=e,t.state=1,Q(t,!1))}catch(e){it({done:!1},e,t)}}};X&&(U=function(t){g(this,U,L),m(t),r.call(this);var e=M(this);try{t(rt(ot,e),rt(it,e))}catch(t){it(e,t)}},(r=function(t){j(this,{type:L,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(U.prototype,{then:function(t,e){var n=V(this),r=B(_(this,U));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=D?z.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Q(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r,e=M(t);this.promise=t,this.resolve=rt(ot,e),this.reject=rt(it,e)},k.f=B=function(t){return t===U||t===o?new i(t):G(t)},u||"function"!=typeof f||(a=f.prototype.then,l(f.prototype,"then",(function(t,e){var n=this;return new U((function(t,e){a.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof H&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return A(U,H.apply(c,arguments))}}))),s({global:!0,wrap:!0,forced:X},{Promise:U}),d(U,L,!1,!0),v(L),o=h(L),s({target:L,stat:!0,forced:X},{reject:function(t){var e=B(this);return e.reject.call(void 0,t),e.promise}}),s({target:L,stat:!0,forced:u||X},{resolve:function(t){return A(u&&this===o?U:this,t)}}),s({target:L,stat:!0,forced:Y},{all:function(t){var e=this,n=B(e),r=n.resolve,i=n.reject,o=x((function(){var n=m(e.resolve),o=[],a=0,s=1;w(t,(function(t){var u=a++,c=!1;o.push(void 0),s++,n.call(e,t).then((function(t){c||(c=!0,o[u]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=B(e),r=n.reject,i=x((function(){var i=m(e.resolve);w(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},4916:(t,e,n)=>{"use strict";var r=n(2109),i=n(2261);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},5306:(t,e,n)=>{"use strict";var r=n(7007),i=n(9670),o=n(7908),a=n(7466),s=n(9958),u=n(4488),c=n(1530),h=n(7651),f=Math.max,l=Math.min,p=Math.floor,d=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(t,e,n,r){var y=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,m=r.REPLACE_KEEPS_$0,g=y?"$":"$0";return[function(n,r){var i=u(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):e.call(String(i),n,r)},function(t,r){if(!y&&m||"string"==typeof r&&-1===r.indexOf(g)){var o=n(e,t,this,r);if(o.done)return o.value}var u=i(t),p=String(this),d="function"==typeof r;d||(r=String(r));var v=u.global;if(v){var w=u.unicode;u.lastIndex=0}for(var I=[];;){var _=h(u,p);if(null===_)break;if(I.push(_),!v)break;""===String(_[0])&&(u.lastIndex=c(p,a(u.lastIndex),w))}for(var E,T="",A=0,S=0;S<I.length;S++){_=I[S];for(var k=String(_[0]),x=f(l(s(_.index),p.length),0),N=[],O=1;O<_.length;O++)N.push(void 0===(E=_[O])?E:String(E));var P=_.groups;if(d){var D=[k].concat(N,x,p);void 0!==P&&D.push(P);var R=String(r.apply(void 0,D))}else R=b(k,p,x,N,P,r);x>=A&&(T+=p.slice(A,x)+R,A=x+k.length)}return T+p.slice(A)}];function b(t,n,r,i,a,s){var u=r+t.length,c=i.length,h=v;return void 0!==a&&(a=o(a),h=d),e.call(s,h,(function(e,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(u);case"<":s=a[o.slice(1,-1)];break;default:var h=+o;if(0===h)return e;if(h>c){var f=p(h/10);return 0===f?e:f<=c?void 0===i[f-1]?o.charAt(1):i[f-1]+o.charAt(1):e}s=i[h-1]}return void 0===s?"":s}))}}))},3123:(t,e,n)=>{"use strict";var r=n(7007),i=n(7850),o=n(9670),a=n(4488),s=n(6707),u=n(1530),c=n(7466),h=n(7651),f=n(2261),l=n(7293),p=[].push,d=Math.min,v=4294967295,y=!l((function(){return!RegExp(v,"y")}));r("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(a(this)),o=void 0===n?v:n>>>0;if(0===o)return[];if(void 0===t)return[r];if(!i(t))return e.call(r,t,o);for(var s,u,c,h=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,y=new RegExp(t.source,l+"g");(s=f.call(y,r))&&!((u=y.lastIndex)>d&&(h.push(r.slice(d,s.index)),s.length>1&&s.index<r.length&&p.apply(h,s.slice(1)),c=s[0].length,d=u,h.length>=o));)y.lastIndex===s.index&&y.lastIndex++;return d===r.length?!c&&y.test("")||h.push(""):h.push(r.slice(d)),h.length>o?h.slice(0,o):h}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var i=a(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,i,n):r.call(String(i),e,n)},function(t,i){var a=n(r,t,this,i,r!==e);if(a.done)return a.value;var f=o(t),l=String(this),p=s(f,RegExp),m=f.unicode,g=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(y?"y":"g"),b=new p(y?f:"^(?:"+f.source+")",g),w=void 0===i?v:i>>>0;if(0===w)return[];if(0===l.length)return null===h(b,l)?[l]:[];for(var I=0,_=0,E=[];_<l.length;){b.lastIndex=y?_:0;var T,A=h(b,y?l:l.slice(_));if(null===A||(T=d(c(b.lastIndex+(y?0:_)),l.length))===I)_=u(l,_,m);else{if(E.push(l.slice(I,_)),E.length===w)return E;for(var S=1;S<=A.length-1;S++)if(E.push(A[S]),E.length===w)return E;_=I=T}}return E.push(l.slice(I)),E}]}),!y)},4747:(t,e,n)=>{var r=n(7854),i=n(8324),o=n(8533),a=n(8880);for(var s in i){var u=r[s],c=u&&u.prototype;if(c&&c.forEach!==o)try{a(c,"forEach",o)}catch(t){c.forEach=o}}},3948:(t,e,n)=>{var r=n(7854),i=n(8324),o=n(6992),a=n(8880),s=n(5112),u=s("iterator"),c=s("toStringTag"),h=o.values;for(var f in i){var l=r[f],p=l&&l.prototype;if(p){if(p[u]!==h)try{a(p,u,h)}catch(t){p[u]=h}if(p[c]||a(p,c,f),i[f])for(var d in o)if(p[d]!==o[d])try{a(p,d,o[d])}catch(t){p[d]=o[d]}}}},7388:()=>{var t=function(t,r){var i=document.querySelector("#"+t+" > .particles-js-canvas-el");this.pJS={canvas:{el:i,w:i.offsetWidth,h:i.offsetHeight},particles:{number:{value:400,density:{enable:!0,value_area:800}},color:{value:"#fff"},shape:{type:"circle",stroke:{width:0,color:"#ff0000"},polygon:{nb_sides:5},image:{src:"",width:100,height:100}},opacity:{value:1,random:!1,anim:{enable:!1,speed:2,opacity_min:0,sync:!1}},size:{value:20,random:!1,anim:{enable:!1,speed:20,size_min:0,sync:!1}},line_linked:{enable:!0,distance:100,color:"#fff",opacity:1,width:1},move:{enable:!0,speed:2,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:3e3,rotateY:3e3}},array:[]},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"grab"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:100,line_linked:{opacity:1}},bubble:{distance:200,size:80,duration:.4},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}},mouse:{}},retina_detect:!1,fn:{interact:{},modes:{},vendors:{}},tmp:{}};var o=this.pJS;r&&Object.deepExtend(o,r),o.tmp.obj={size_value:o.particles.size.value,size_anim_speed:o.particles.size.anim.speed,move_speed:o.particles.move.speed,line_linked_distance:o.particles.line_linked.distance,line_linked_width:o.particles.line_linked.width,mode_grab_distance:o.interactivity.modes.grab.distance,mode_bubble_distance:o.interactivity.modes.bubble.distance,mode_bubble_size:o.interactivity.modes.bubble.size,mode_repulse_distance:o.interactivity.modes.repulse.distance},o.fn.retinaInit=function(){o.retina_detect&&window.devicePixelRatio>1?(o.canvas.pxratio=window.devicePixelRatio,o.tmp.retina=!0):(o.canvas.pxratio=1,o.tmp.retina=!1),o.canvas.w=o.canvas.el.offsetWidth*o.canvas.pxratio,o.canvas.h=o.canvas.el.offsetHeight*o.canvas.pxratio,o.particles.size.value=o.tmp.obj.size_value*o.canvas.pxratio,o.particles.size.anim.speed=o.tmp.obj.size_anim_speed*o.canvas.pxratio,o.particles.move.speed=o.tmp.obj.move_speed*o.canvas.pxratio,o.particles.line_linked.distance=o.tmp.obj.line_linked_distance*o.canvas.pxratio,o.interactivity.modes.grab.distance=o.tmp.obj.mode_grab_distance*o.canvas.pxratio,o.interactivity.modes.bubble.distance=o.tmp.obj.mode_bubble_distance*o.canvas.pxratio,o.particles.line_linked.width=o.tmp.obj.line_linked_width*o.canvas.pxratio,o.interactivity.modes.bubble.size=o.tmp.obj.mode_bubble_size*o.canvas.pxratio,o.interactivity.modes.repulse.distance=o.tmp.obj.mode_repulse_distance*o.canvas.pxratio},o.fn.canvasInit=function(){o.canvas.ctx=o.canvas.el.getContext("2d")},o.fn.canvasSize=function(){o.canvas.el.width=o.canvas.w,o.canvas.el.height=o.canvas.h,o&&o.interactivity.events.resize&&window.addEventListener("resize",(function(){o.canvas.w=o.canvas.el.offsetWidth,o.canvas.h=o.canvas.el.offsetHeight,o.tmp.retina&&(o.canvas.w*=o.canvas.pxratio,o.canvas.h*=o.canvas.pxratio),o.canvas.el.width=o.canvas.w,o.canvas.el.height=o.canvas.h,o.particles.move.enable||(o.fn.particlesEmpty(),o.fn.particlesCreate(),o.fn.particlesDraw(),o.fn.vendors.densityAutoParticles()),o.fn.vendors.densityAutoParticles()}))},o.fn.canvasPaint=function(){o.canvas.ctx.fillRect(0,0,o.canvas.w,o.canvas.h)},o.fn.canvasClear=function(){o.canvas.ctx.clearRect(0,0,o.canvas.w,o.canvas.h)},o.fn.particle=function(t,n,r){if(this.radius=(o.particles.size.random?Math.random():1)*o.particles.size.value,o.particles.size.anim.enable&&(this.size_status=!1,this.vs=o.particles.size.anim.speed/100,o.particles.size.anim.sync||(this.vs=this.vs*Math.random())),this.x=r?r.x:Math.random()*o.canvas.w,this.y=r?r.y:Math.random()*o.canvas.h,this.x>o.canvas.w-2*this.radius?this.x=this.x-this.radius:this.x<2*this.radius&&(this.x=this.x+this.radius),this.y>o.canvas.h-2*this.radius?this.y=this.y-this.radius:this.y<2*this.radius&&(this.y=this.y+this.radius),o.particles.move.bounce&&o.fn.vendors.checkOverlap(this,r),this.color={},"object"==typeof t.value)if(t.value instanceof Array){var i=t.value[Math.floor(Math.random()*o.particles.color.value.length)];this.color.rgb=e(i)}else null!=t.value.r&&null!=t.value.g&&null!=t.value.b&&(this.color.rgb={r:t.value.r,g:t.value.g,b:t.value.b}),null!=t.value.h&&null!=t.value.s&&null!=t.value.l&&(this.color.hsl={h:t.value.h,s:t.value.s,l:t.value.l});else"random"==t.value?this.color.rgb={r:Math.floor(256*Math.random())+0,g:Math.floor(256*Math.random())+0,b:Math.floor(256*Math.random())+0}:"string"==typeof t.value&&(this.color=t,this.color.rgb=e(this.color.value));this.opacity=(o.particles.opacity.random?Math.random():1)*o.particles.opacity.value,o.particles.opacity.anim.enable&&(this.opacity_status=!1,this.vo=o.particles.opacity.anim.speed/100,o.particles.opacity.anim.sync||(this.vo=this.vo*Math.random()));var a={};switch(o.particles.move.direction){case"top":a={x:0,y:-1};break;case"top-right":a={x:.5,y:-.5};break;case"right":a={x:1,y:-0};break;case"bottom-right":a={x:.5,y:.5};break;case"bottom":a={x:0,y:1};break;case"bottom-left":a={x:-.5,y:1};break;case"left":a={x:-1,y:0};break;case"top-left":a={x:-.5,y:-.5};break;default:a={x:0,y:0}}o.particles.move.straight?(this.vx=a.x,this.vy=a.y,o.particles.move.random&&(this.vx=this.vx*Math.random(),this.vy=this.vy*Math.random())):(this.vx=a.x+Math.random()-.5,this.vy=a.y+Math.random()-.5),this.vx_i=this.vx,this.vy_i=this.vy;var s=o.particles.shape.type;if("object"==typeof s){if(s instanceof Array){var u=s[Math.floor(Math.random()*s.length)];this.shape=u}}else this.shape=s;if("image"==this.shape){var c=o.particles.shape;this.img={src:c.image.src,ratio:c.image.width/c.image.height},this.img.ratio||(this.img.ratio=1),"svg"==o.tmp.img_type&&null!=o.tmp.source_svg&&(o.fn.vendors.createSvgImg(this),o.tmp.pushing&&(this.img.loaded=!1))}},o.fn.particle.prototype.draw=function(){var t=this;if(null!=t.radius_bubble)var e=t.radius_bubble;else e=t.radius;if(null!=t.opacity_bubble)var n=t.opacity_bubble;else n=t.opacity;if(t.color.rgb)var r="rgba("+t.color.rgb.r+","+t.color.rgb.g+","+t.color.rgb.b+","+n+")";else r="hsla("+t.color.hsl.h+","+t.color.hsl.s+"%,"+t.color.hsl.l+"%,"+n+")";switch(o.canvas.ctx.fillStyle=r,o.canvas.ctx.beginPath(),t.shape){case"circle":o.canvas.ctx.arc(t.x,t.y,e,0,2*Math.PI,!1);break;case"edge":o.canvas.ctx.rect(t.x-e,t.y-e,2*e,2*e);break;case"triangle":o.fn.vendors.drawShape(o.canvas.ctx,t.x-e,t.y+e/1.66,2*e,3,2);break;case"polygon":o.fn.vendors.drawShape(o.canvas.ctx,t.x-e/(o.particles.shape.polygon.nb_sides/3.5),t.y-e/.76,2.66*e/(o.particles.shape.polygon.nb_sides/3),o.particles.shape.polygon.nb_sides,1);break;case"star":o.fn.vendors.drawShape(o.canvas.ctx,t.x-2*e/(o.particles.shape.polygon.nb_sides/4),t.y-e/1.52,2*e*2.66/(o.particles.shape.polygon.nb_sides/3),o.particles.shape.polygon.nb_sides,2);break;case"image":if("svg"==o.tmp.img_type)var i=t.img.obj;else i=o.tmp.img_obj;i&&o.canvas.ctx.drawImage(i,t.x-e,t.y-e,2*e,2*e/t.img.ratio)}o.canvas.ctx.closePath(),o.particles.shape.stroke.width>0&&(o.canvas.ctx.strokeStyle=o.particles.shape.stroke.color,o.canvas.ctx.lineWidth=o.particles.shape.stroke.width,o.canvas.ctx.stroke()),o.canvas.ctx.fill()},o.fn.particlesCreate=function(){for(var t=0;t<o.particles.number.value;t++)o.particles.array.push(new o.fn.particle(o.particles.color,o.particles.opacity.value))},o.fn.particlesUpdate=function(){for(var t=0;t<o.particles.array.length;t++){var e=o.particles.array[t];if(o.particles.move.enable){var r=o.particles.move.speed/2;e.x+=e.vx*r,e.y+=e.vy*r}if(o.particles.opacity.anim.enable&&(1==e.opacity_status?(e.opacity>=o.particles.opacity.value&&(e.opacity_status=!1),e.opacity+=e.vo):(e.opacity<=o.particles.opacity.anim.opacity_min&&(e.opacity_status=!0),e.opacity-=e.vo),e.opacity<0&&(e.opacity=0)),o.particles.size.anim.enable&&(1==e.size_status?(e.radius>=o.particles.size.value&&(e.size_status=!1),e.radius+=e.vs):(e.radius<=o.particles.size.anim.size_min&&(e.size_status=!0),e.radius-=e.vs),e.radius<0&&(e.radius=0)),"bounce"==o.particles.move.out_mode)var i={x_left:e.radius,x_right:o.canvas.w,y_top:e.radius,y_bottom:o.canvas.h};else i={x_left:-e.radius,x_right:o.canvas.w+e.radius,y_top:-e.radius,y_bottom:o.canvas.h+e.radius};switch(e.x-e.radius>o.canvas.w?(e.x=i.x_left,e.y=Math.random()*o.canvas.h):e.x+e.radius<0&&(e.x=i.x_right,e.y=Math.random()*o.canvas.h),e.y-e.radius>o.canvas.h?(e.y=i.y_top,e.x=Math.random()*o.canvas.w):e.y+e.radius<0&&(e.y=i.y_bottom,e.x=Math.random()*o.canvas.w),o.particles.move.out_mode){case"bounce":(e.x+e.radius>o.canvas.w||e.x-e.radius<0)&&(e.vx=-e.vx),(e.y+e.radius>o.canvas.h||e.y-e.radius<0)&&(e.vy=-e.vy)}if(n("grab",o.interactivity.events.onhover.mode)&&o.fn.modes.grabParticle(e),(n("bubble",o.interactivity.events.onhover.mode)||n("bubble",o.interactivity.events.onclick.mode))&&o.fn.modes.bubbleParticle(e),(n("repulse",o.interactivity.events.onhover.mode)||n("repulse",o.interactivity.events.onclick.mode))&&o.fn.modes.repulseParticle(e),o.particles.line_linked.enable||o.particles.move.attract.enable)for(var a=t+1;a<o.particles.array.length;a++){var s=o.particles.array[a];o.particles.line_linked.enable&&o.fn.interact.linkParticles(e,s),o.particles.move.attract.enable&&o.fn.interact.attractParticles(e,s),o.particles.move.bounce&&o.fn.interact.bounceParticles(e,s)}}},o.fn.particlesDraw=function(){o.canvas.ctx.clearRect(0,0,o.canvas.w,o.canvas.h),o.fn.particlesUpdate();for(var t=0;t<o.particles.array.length;t++)o.particles.array[t].draw()},o.fn.particlesEmpty=function(){o.particles.array=[]},o.fn.particlesRefresh=function(){cancelRequestAnimFrame(o.fn.checkAnimFrame),cancelRequestAnimFrame(o.fn.drawAnimFrame),o.tmp.source_svg=void 0,o.tmp.img_obj=void 0,o.tmp.count_svg=0,o.fn.particlesEmpty(),o.fn.canvasClear(),o.fn.vendors.start()},o.fn.interact.linkParticles=function(t,e){var n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);if(i<=o.particles.line_linked.distance){var a=o.particles.line_linked.opacity-i/(1/o.particles.line_linked.opacity)/o.particles.line_linked.distance;if(a>0){var s=o.particles.line_linked.color_rgb_line;o.canvas.ctx.strokeStyle="rgba("+s.r+","+s.g+","+s.b+","+a+")",o.canvas.ctx.lineWidth=o.particles.line_linked.width,o.canvas.ctx.beginPath(),o.canvas.ctx.moveTo(t.x,t.y),o.canvas.ctx.lineTo(e.x,e.y),o.canvas.ctx.stroke(),o.canvas.ctx.closePath()}}},o.fn.interact.attractParticles=function(t,e){var n=t.x-e.x,r=t.y-e.y;if(Math.sqrt(n*n+r*r)<=o.particles.line_linked.distance){var i=n/(1e3*o.particles.move.attract.rotateX),a=r/(1e3*o.particles.move.attract.rotateY);t.vx-=i,t.vy-=a,e.vx+=i,e.vy+=a}},o.fn.interact.bounceParticles=function(t,e){var n=t.x-e.x,r=t.y-e.y;Math.sqrt(n*n+r*r)<=t.radius+e.radius&&(t.vx=-t.vx,t.vy=-t.vy,e.vx=-e.vx,e.vy=-e.vy)},o.fn.modes.pushParticles=function(t,e){o.tmp.pushing=!0;for(var n=0;n<t;n++)o.particles.array.push(new o.fn.particle(o.particles.color,o.particles.opacity.value,{x:e?e.pos_x:Math.random()*o.canvas.w,y:e?e.pos_y:Math.random()*o.canvas.h})),n==t-1&&(o.particles.move.enable||o.fn.particlesDraw(),o.tmp.pushing=!1)},o.fn.modes.removeParticles=function(t){o.particles.array.splice(0,t),o.particles.move.enable||o.fn.particlesDraw()},o.fn.modes.bubbleParticle=function(t){if(o.interactivity.events.onhover.enable&&n("bubble",o.interactivity.events.onhover.mode)){var e=t.x-o.interactivity.mouse.pos_x,r=t.y-o.interactivity.mouse.pos_y,i=1-(h=Math.sqrt(e*e+r*r))/o.interactivity.modes.bubble.distance;function a(){t.opacity_bubble=t.opacity,t.radius_bubble=t.radius}if(h<=o.interactivity.modes.bubble.distance){if(i>=0&&"mousemove"==o.interactivity.status){if(o.interactivity.modes.bubble.size!=o.particles.size.value)if(o.interactivity.modes.bubble.size>o.particles.size.value)(u=t.radius+o.interactivity.modes.bubble.size*i)>=0&&(t.radius_bubble=u);else{var s=t.radius-o.interactivity.modes.bubble.size,u=t.radius-s*i;t.radius_bubble=u>0?u:0}var c;o.interactivity.modes.bubble.opacity!=o.particles.opacity.value&&(o.interactivity.modes.bubble.opacity>o.particles.opacity.value?(c=o.interactivity.modes.bubble.opacity*i)>t.opacity&&c<=o.interactivity.modes.bubble.opacity&&(t.opacity_bubble=c):(c=t.opacity-(o.particles.opacity.value-o.interactivity.modes.bubble.opacity)*i)<t.opacity&&c>=o.interactivity.modes.bubble.opacity&&(t.opacity_bubble=c))}}else a();"mouseleave"==o.interactivity.status&&a()}else if(o.interactivity.events.onclick.enable&&n("bubble",o.interactivity.events.onclick.mode)){if(o.tmp.bubble_clicking){e=t.x-o.interactivity.mouse.click_pos_x,r=t.y-o.interactivity.mouse.click_pos_y;var h=Math.sqrt(e*e+r*r),f=((new Date).getTime()-o.interactivity.mouse.click_time)/1e3;f>o.interactivity.modes.bubble.duration&&(o.tmp.bubble_duration_end=!0),f>2*o.interactivity.modes.bubble.duration&&(o.tmp.bubble_clicking=!1,o.tmp.bubble_duration_end=!1)}function l(e,n,r,i,a){if(e!=n)if(o.tmp.bubble_duration_end)null!=r&&(u=e+(e-(i-f*(i-e)/o.interactivity.modes.bubble.duration)),"size"==a&&(t.radius_bubble=u),"opacity"==a&&(t.opacity_bubble=u));else if(h<=o.interactivity.modes.bubble.distance){if(null!=r)var s=r;else s=i;if(s!=e){var u=i-f*(i-e)/o.interactivity.modes.bubble.duration;"size"==a&&(t.radius_bubble=u),"opacity"==a&&(t.opacity_bubble=u)}}else"size"==a&&(t.radius_bubble=void 0),"opacity"==a&&(t.opacity_bubble=void 0)}o.tmp.bubble_clicking&&(l(o.interactivity.modes.bubble.size,o.particles.size.value,t.radius_bubble,t.radius,"size"),l(o.interactivity.modes.bubble.opacity,o.particles.opacity.value,t.opacity_bubble,t.opacity,"opacity"))}},o.fn.modes.repulseParticle=function(t){if(o.interactivity.events.onhover.enable&&n("repulse",o.interactivity.events.onhover.mode)&&"mousemove"==o.interactivity.status){var e=t.x-o.interactivity.mouse.pos_x,r=t.y-o.interactivity.mouse.pos_y,i=Math.sqrt(e*e+r*r),a={x:e/i,y:r/i},s=o.interactivity.modes.repulse.distance,u=(d=1/s*(-1*Math.pow(i/s,2)+1)*s*100,0,50,Math.min(Math.max(d,0),50)),c={x:t.x+a.x*u,y:t.y+a.y*u};"bounce"==o.particles.move.out_mode?(c.x-t.radius>0&&c.x+t.radius<o.canvas.w&&(t.x=c.x),c.y-t.radius>0&&c.y+t.radius<o.canvas.h&&(t.y=c.y)):(t.x=c.x,t.y=c.y)}else if(o.interactivity.events.onclick.enable&&n("repulse",o.interactivity.events.onclick.mode))if(o.tmp.repulse_finish||(o.tmp.repulse_count++,o.tmp.repulse_count==o.particles.array.length&&(o.tmp.repulse_finish=!0)),o.tmp.repulse_clicking){s=Math.pow(o.interactivity.modes.repulse.distance/6,3);var h=o.interactivity.mouse.click_pos_x-t.x,f=o.interactivity.mouse.click_pos_y-t.y,l=h*h+f*f,p=-s/l*1;l<=s&&function(){var e=Math.atan2(f,h);if(t.vx=p*Math.cos(e),t.vy=p*Math.sin(e),"bounce"==o.particles.move.out_mode){var n={x:t.x+t.vx,y:t.y+t.vy};(n.x+t.radius>o.canvas.w||n.x-t.radius<0)&&(t.vx=-t.vx),(n.y+t.radius>o.canvas.h||n.y-t.radius<0)&&(t.vy=-t.vy)}}()}else 0==o.tmp.repulse_clicking&&(t.vx=t.vx_i,t.vy=t.vy_i);var d},o.fn.modes.grabParticle=function(t){if(o.interactivity.events.onhover.enable&&"mousemove"==o.interactivity.status){var e=t.x-o.interactivity.mouse.pos_x,n=t.y-o.interactivity.mouse.pos_y,r=Math.sqrt(e*e+n*n);if(r<=o.interactivity.modes.grab.distance){var i=o.interactivity.modes.grab.line_linked.opacity-r/(1/o.interactivity.modes.grab.line_linked.opacity)/o.interactivity.modes.grab.distance;if(i>0){var a=o.particles.line_linked.color_rgb_line;o.canvas.ctx.strokeStyle="rgba("+a.r+","+a.g+","+a.b+","+i+")",o.canvas.ctx.lineWidth=o.particles.line_linked.width,o.canvas.ctx.beginPath(),o.canvas.ctx.moveTo(t.x,t.y),o.canvas.ctx.lineTo(o.interactivity.mouse.pos_x,o.interactivity.mouse.pos_y),o.canvas.ctx.stroke(),o.canvas.ctx.closePath()}}}},o.fn.vendors.eventsListeners=function(){"window"==o.interactivity.detect_on?o.interactivity.el=window:o.interactivity.el=o.canvas.el,(o.interactivity.events.onhover.enable||o.interactivity.events.onclick.enable)&&(o.interactivity.el.addEventListener("mousemove",(function(t){if(o.interactivity.el==window)var e=t.clientX,n=t.clientY;else e=t.offsetX||t.clientX,n=t.offsetY||t.clientY;o.interactivity.mouse.pos_x=e,o.interactivity.mouse.pos_y=n,o.tmp.retina&&(o.interactivity.mouse.pos_x*=o.canvas.pxratio,o.interactivity.mouse.pos_y*=o.canvas.pxratio),o.interactivity.status="mousemove"})),o.interactivity.el.addEventListener("mouseleave",(function(t){o.interactivity.mouse.pos_x=null,o.interactivity.mouse.pos_y=null,o.interactivity.status="mouseleave"}))),o.interactivity.events.onclick.enable&&o.interactivity.el.addEventListener("click",(function(){if(o.interactivity.mouse.click_pos_x=o.interactivity.mouse.pos_x,o.interactivity.mouse.click_pos_y=o.interactivity.mouse.pos_y,o.interactivity.mouse.click_time=(new Date).getTime(),o.interactivity.events.onclick.enable)switch(o.interactivity.events.onclick.mode){case"push":o.particles.move.enable||1==o.interactivity.modes.push.particles_nb?o.fn.modes.pushParticles(o.interactivity.modes.push.particles_nb,o.interactivity.mouse):o.interactivity.modes.push.particles_nb>1&&o.fn.modes.pushParticles(o.interactivity.modes.push.particles_nb);break;case"remove":o.fn.modes.removeParticles(o.interactivity.modes.remove.particles_nb);break;case"bubble":o.tmp.bubble_clicking=!0;break;case"repulse":o.tmp.repulse_clicking=!0,o.tmp.repulse_count=0,o.tmp.repulse_finish=!1,setTimeout((function(){o.tmp.repulse_clicking=!1}),1e3*o.interactivity.modes.repulse.duration)}}))},o.fn.vendors.densityAutoParticles=function(){if(o.particles.number.density.enable){var t=o.canvas.el.width*o.canvas.el.height/1e3;o.tmp.retina&&(t/=2*o.canvas.pxratio);var e=t*o.particles.number.value/o.particles.number.density.value_area,n=o.particles.array.length-e;n<0?o.fn.modes.pushParticles(Math.abs(n)):o.fn.modes.removeParticles(n)}},o.fn.vendors.checkOverlap=function(t,e){for(var n=0;n<o.particles.array.length;n++){var r=o.particles.array[n],i=t.x-r.x,a=t.y-r.y;Math.sqrt(i*i+a*a)<=t.radius+r.radius&&(t.x=e?e.x:Math.random()*o.canvas.w,t.y=e?e.y:Math.random()*o.canvas.h,o.fn.vendors.checkOverlap(t))}},o.fn.vendors.createSvgImg=function(t){var e=o.tmp.source_svg.replace(/#([0-9A-F]{3,6})/gi,(function(e,n,r,i){if(t.color.rgb)var o="rgba("+t.color.rgb.r+","+t.color.rgb.g+","+t.color.rgb.b+","+t.opacity+")";else o="hsla("+t.color.hsl.h+","+t.color.hsl.s+"%,"+t.color.hsl.l+"%,"+t.opacity+")";return o})),n=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),r=window.URL||window.webkitURL||window,i=r.createObjectURL(n),a=new Image;a.addEventListener("load",(function(){t.img.obj=a,t.img.loaded=!0,r.revokeObjectURL(i),o.tmp.count_svg++})),a.src=i},o.fn.vendors.destroypJS=function(){cancelAnimationFrame(o.fn.drawAnimFrame),i.remove(),pJSDom=null},o.fn.vendors.drawShape=function(t,e,n,r,i,o){var a=i*o,s=i/o,u=180*(s-2)/s,c=Math.PI-Math.PI*u/180;t.save(),t.beginPath(),t.translate(e,n),t.moveTo(0,0);for(var h=0;h<a;h++)t.lineTo(r,0),t.translate(r,0),t.rotate(c);t.fill(),t.restore()},o.fn.vendors.exportImg=function(){window.open(o.canvas.el.toDataURL("image/png"),"_blank")},o.fn.vendors.loadImg=function(t){if(o.tmp.img_error=void 0,""!=o.particles.shape.image.src)if("svg"==t){var e=new XMLHttpRequest;e.open("GET",o.particles.shape.image.src),e.onreadystatechange=function(t){4==e.readyState&&(200==e.status?(o.tmp.source_svg=t.currentTarget.response,o.fn.vendors.checkBeforeDraw()):(console.log("Error pJS - Image not found"),o.tmp.img_error=!0))},e.send()}else{var n=new Image;n.addEventListener("load",(function(){o.tmp.img_obj=n,o.fn.vendors.checkBeforeDraw()})),n.src=o.particles.shape.image.src}else console.log("Error pJS - No image.src"),o.tmp.img_error=!0},o.fn.vendors.draw=function(){"image"==o.particles.shape.type?"svg"==o.tmp.img_type?o.tmp.count_svg>=o.particles.number.value?(o.fn.particlesDraw(),o.particles.move.enable?o.fn.drawAnimFrame=requestAnimFrame(o.fn.vendors.draw):cancelRequestAnimFrame(o.fn.drawAnimFrame)):o.tmp.img_error||(o.fn.drawAnimFrame=requestAnimFrame(o.fn.vendors.draw)):null!=o.tmp.img_obj?(o.fn.particlesDraw(),o.particles.move.enable?o.fn.drawAnimFrame=requestAnimFrame(o.fn.vendors.draw):cancelRequestAnimFrame(o.fn.drawAnimFrame)):o.tmp.img_error||(o.fn.drawAnimFrame=requestAnimFrame(o.fn.vendors.draw)):(o.fn.particlesDraw(),o.particles.move.enable?o.fn.drawAnimFrame=requestAnimFrame(o.fn.vendors.draw):cancelRequestAnimFrame(o.fn.drawAnimFrame))},o.fn.vendors.checkBeforeDraw=function(){"image"==o.particles.shape.type?"svg"==o.tmp.img_type&&null==o.tmp.source_svg?o.tmp.checkAnimFrame=requestAnimFrame(check):(cancelRequestAnimFrame(o.tmp.checkAnimFrame),o.tmp.img_error||(o.fn.vendors.init(),o.fn.vendors.draw())):(o.fn.vendors.init(),o.fn.vendors.draw())},o.fn.vendors.init=function(){o.fn.retinaInit(),o.fn.canvasInit(),o.fn.canvasSize(),o.fn.canvasPaint(),o.fn.particlesCreate(),o.fn.vendors.densityAutoParticles(),o.particles.line_linked.color_rgb_line=e(o.particles.line_linked.color)},o.fn.vendors.start=function(){n("image",o.particles.shape.type)?(o.tmp.img_type=o.particles.shape.image.src.substr(o.particles.shape.image.src.length-3),o.fn.vendors.loadImg(o.tmp.img_type)):o.fn.vendors.checkBeforeDraw()},o.fn.vendors.eventsListeners(),o.fn.vendors.start()};function e(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,n,r){return e+e+n+n+r+r}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function n(t,e){return e.indexOf(t)>-1}Object.deepExtend=function(t,e){for(var n in e)e[n]&&e[n].constructor&&e[n].constructor===Object?(t[n]=t[n]||{},arguments.callee(t[n],e[n])):t[n]=e[n];return t},window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},window.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,window.pJSDom=[],window.particlesJS=function(e,n){"string"!=typeof e&&(n=e,e="particles-js"),e||(e="particles-js");var r=document.getElementById(e),i="particles-js-canvas-el",o=r.getElementsByClassName(i);if(o.length)for(;o.length>0;)r.removeChild(o[0]);var a=document.createElement("canvas");a.className=i,a.style.width="100%",a.style.height="100%",null!=document.getElementById(e).appendChild(a)&&pJSDom.push(new t(e,n))},window.particlesJS.load=function(t,e,n){var r=new XMLHttpRequest;r.open("GET",e),r.onreadystatechange=function(e){if(4==r.readyState)if(200==r.status){var i=JSON.parse(e.currentTarget.response);window.particlesJS(t,i),n&&n()}else console.log("Error pJS - XMLHttpRequest status: "+r.status),console.log("Error pJS - File config not found")},r.send()}},5666:t=>{var e=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(t,e,n){var r=f;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return O()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=h(t,e,n);if("normal"===u.type){if(r=n.done?d:l,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f="suspendedStart",l="suspendedYield",p="executing",d="completed",v={};function y(){}function m(){}function g(){}var b={};b[o]=function(){return this};var w=Object.getPrototypeOf,I=w&&w(w(N([])));I&&I!==n&&r.call(I,o)&&(b=I);var _=g.prototype=y.prototype=Object.create(b);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function A(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=h(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function N(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:O}}function O(){return{value:e,done:!0}}return m.prototype=_.constructor=g,g.constructor=m,m.displayName=u(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},E(T.prototype),T.prototype[a]=function(){return this},t.AsyncIterator=T,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new T(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(_),u(_,s,"Generator"),_[o]=function(){return this},_.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=N,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}},e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";n(9554),n(8309),n(1539),n(8674),n(4747),n(5666),n(5248),n(7388);var t={particles:{number:{value:80,density:{enable:!0,value_area:800}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.5,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:3,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:1,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1,mode:"repulse"},onclick:{enable:!1,mode:"push"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0};function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}window.addEventListener("load",(function(){particlesJS("particles-js",t,(function(){console.log("callback - particles.js config loaded")}))})),window.addEventListener("load",(function(){document.querySelectorAll(".tabs a").forEach((function(t){t.addEventListener("click",(function(){document.querySelector(".tab-content > #".concat(t.dataset.tab)).style.display="block",document.querySelector(".tab-content > :not(#".concat(t.dataset.tab)).style.display="none",t.classList.add("active"),document.querySelector(".tabs .tab-link:not([data-tab="+t.dataset.tab+"])").classList.remove("active")}))}))})),window.addEventListener("load",(function(){document.querySelectorAll(".team-list article .image-container").forEach((function(t){t.addEventListener("click",(function(){t.classList.toggle("active")}))}))})),n(9070);var r=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.modal=document.getElementById(e),this.modal.querySelector(".close").onclick=function(){n.hide()},window.addEventListener("click",(function(t){t.target===n.modal&&n.hide()})),document.querySelectorAll("*[href='#".concat(e,"']")).forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault(),n.show(t.target.dataset.tab)}))}))}var n,r;return n=t,(r=[{key:"show",value:function(t){this.modal.classList.add("visible"),this.modal.querySelector(".tab-content > #".concat(t)).style.display="block",this.modal.querySelector(".tab-content > :not(#".concat(t,")")).style.display="none",this.modal.querySelector(".tabs a[data-tab='".concat(t,"']")).classList.add("active"),this.modal.querySelector(".tabs a:not([data-tab='".concat(t,"'])")).classList.remove("active")}},{key:"hide",value:function(){this.modal.classList.remove("visible"),this.modal.querySelectorAll("input").forEach((function(t){return t.value=""})),this.modal.querySelectorAll(".errormsg").forEach((function(t){return t.remove()}))}}])&&e(n.prototype,r),t}(),i=(n(7941),function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)});function o(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var a=function(){return(a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function u(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function f(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(h(arguments[e]));return t}function l(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function p(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=p(t[n],e[n]));return t}var d=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function v(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function y(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}var m=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,g.prototype.create),o}return o(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?b(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new m(i,s,r);return u},t}();function b(t,e){return t.replace(w,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var w=/\{\$([^}]+)}/g;function I(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new E(t,e);return n.subscribe.bind(n)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++)r<40?r<20?(o=h^u&(c^h),a=1518500249):(o=u^c^h,a=1859775393):r<60?(o=u&c|h&(u|c),a=2400959708):(o=u^c^h,a=3395469782),i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295,f=h,h=c,c=4294967295&(u<<30|u>>>2),u=s,s=i;this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=T),void 0===r.error&&(r.error=T),void 0===r.complete&&(r.complete=T);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function T(){}var A,S=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),k="[DEFAULT]",x=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=k);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new d;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=a({identifier:k,optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService(i);if(!o){if(r)return null;throw Error("Service "+this.name+" is not available")}return o}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(k)}catch(t){}try{for(var r=c(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=h(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var f=this.getOrInitializeService(u);s.resolve(f)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=k),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return s(this,void 0,void 0,(function(){var t;return u(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(f(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===k?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:k:t},t}(),N=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new x(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();function O(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var P,D=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(P||(P={}));var R,C={debug:P.DEBUG,verbose:P.VERBOSE,info:P.INFO,warn:P.WARN,error:P.ERROR,silent:P.SILENT},L=P.INFO,M=((A={})[P.DEBUG]="log",A[P.VERBOSE]="log",A[P.INFO]="info",A[P.WARN]="warn",A[P.ERROR]="error",A),j=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=M[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,O(["["+i+"]  "+t.name+":"],n))}},V=function(){function t(t){this.name=t,this._logLevel=L,this._logHandler=j,this._userLogHandler=null,D.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in P))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?C[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,O([this,P.DEBUG],t)),this._logHandler.apply(this,O([this,P.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,O([this,P.VERBOSE],t)),this._logHandler.apply(this,O([this,P.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,O([this,P.INFO],t)),this._logHandler.apply(this,O([this,P.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,O([this,P.WARN],t)),this._logHandler.apply(this,O([this,P.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,O([this,P.ERROR],t)),this._logHandler.apply(this,O([this,P.ERROR],t))},t}();function U(t){D.forEach((function(e){e.setLogLevel(t)}))}var F,q=((R={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",R["bad-app-name"]="Illegal App name: '{$appName}",R["duplicate-app"]="Firebase App named '{$appName}' already exists",R["app-deleted"]="Firebase App named '{$appName}' already deleted",R["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",R["invalid-log-argument"]="First argument to `onLog` must be null or a function.",R),z=new g("app","Firebase",q),H="@firebase/app",B="[DEFAULT]",G=((F={})[H]="fire-core",F["@firebase/analytics"]="fire-analytics",F["@firebase/auth"]="fire-auth",F["@firebase/database"]="fire-rtdb",F["@firebase/functions"]="fire-fn",F["@firebase/installations"]="fire-iid",F["@firebase/messaging"]="fire-fcm",F["@firebase/performance"]="fire-perf",F["@firebase/remote-config"]="fire-rc",F["@firebase/storage"]="fire-gcs",F["@firebase/firestore"]="fire-fst",F["fire-js"]="fire-js",F["firebase-wrapper"]="fire-js-all",F),K=new V("@firebase/app"),W=function(){function t(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=p(void 0,t),this.container=new N(e.name),this._addComponent(new S("app",(function(){return o}),"PUBLIC"));try{for(var a=c(this.firebase_.INTERNAL.components.values()),s=a.next();!s.done;s=a.next()){var u=s.value;this._addComponent(u)}}catch(t){r={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=B),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=B),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){K.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw z.create("app-deleted",{appName:this.name_})},t}();W.prototype.name&&W.prototype.options||W.prototype.delete||console.log("dc");var J=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=B);var a=o.name;if("string"!=typeof a||!a)throw z.create("bad-app-name",{appName:String(a)});if(I(e,a))throw z.create("duplicate-app",{appName:a});var s=new t(n,o,r);return e[a]=s,s},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=G[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void K.warn(u.join(" "))}o(new S(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:U,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw z.create("invalid-log-argument",{appName:name});!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=C[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:P[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=D;r<i.length;r++)n(i[r])}(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!I(e,t=t||B))throw z.create("no-app",{appName:t});return e[t]}function o(o){var a,s,u=o.name;if(n.has(u))return K.debug("There were multiple attempts to register component "+u+"."),"PUBLIC"===o.type?r[u]:null;if(n.set(u,o),"PUBLIC"===o.type){var h=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[u])throw z.create("invalid-app-argument",{appName:u});return t[u]()};void 0!==o.serviceProps&&p(h,o.serviceProps),r[u]=h,t.prototype[u]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,u).apply(this,o.multipleInstances?t:[])}}try{for(var f=c(Object.keys(e)),l=f.next();!l.done;l=f.next()){var d=l.value;e[d]._addComponent(o)}}catch(t){a={error:t}}finally{try{l&&!l.done&&(s=f.return)&&s.call(f)}finally{if(a)throw a.error}}return"PUBLIC"===o.type?r[u]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(W);return e.INTERNAL=a(a({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){p(e,t)},createSubscribe:_,ErrorFactory:g,deepExtend:p}),e}(),X=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if("object"==typeof self&&self.self===self&&void 0!==self.firebase){K.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Y=self.firebase.SDK_VERSION;Y&&Y.indexOf("LITE")>=0&&K.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var $=J.initializeApp;J.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return y()&&K.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),$.apply(void 0,t)};var Q=J;!function(t,e){t.INTERNAL.registerComponent(new S("platform-logger",(function(t){return new X(t)}),"PRIVATE")),t.registerVersion(H,"0.6.13",void 0),t.registerVersion("fire-js","")}(Q);const Z=Q;Z.registerVersion("firebase","8.2.1","app"),function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},r=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,t];for(var e=0;e<t.length;++e){var r=t[e];if(r&&r.Math==Math)return r}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,n){if(n){var i=r;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[t=t[t.length-1]]))!=o&&null!=n&&e(i,t,{configurable:!0,writable:!0,value:n})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function i(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var a=r.setTimeout;n.prototype.c=function(t){a(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.v),reject:t(this.g)}},e.prototype.v=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.i(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.i(t)},e.prototype.g=function(t){this.h(2,t)},e.prototype.i=function(t){this.h(1,t)},e.prototype.h=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.s=function(t){var e=this.f();t.Pa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Pa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Pa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=o(t),a=r.next();!a.done;a=r.next())i(a.value).Pa(e,n)}))},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Pa(o(a.length-1),e),r=n.next()}while(!r.done)}))},e}));var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function h(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&u.test(t)?t:""}function f(){}function l(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function p(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==l(t)}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function y(t){return Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++g)}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function I(t,e,n){return(I=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var E=Date.now;function T(t,e){function n(){}n.prototype=e.prototype,t.$a=e.prototype,t.prototype=new n,t.prototype.constructor=t}function A(t){return t}function S(t,e,n){this.code=N+t,this.message=e||O[t]||"",this.a=n||null}function k(t){var e=t&&t.code;return e?new S(e.substring(N.length),t.message,t.serverResponse):null}T(S,Error),S.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},S.prototype.toJSON=function(){return this.w()};var x,N="auth/",O={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},P={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function D(t){for(var e in P)if(P[e].id===t)return{firebaseEndpoint:(t=P[e]).Sa,secureTokenEndpoint:t.Ya,identityPlatformEndpoint:t.Va};return null}function R(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function C(t){if(Error.captureStackTrace)Error.captureStackTrace(this,C);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function L(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");C.call(this,n+t[r])}function M(t,e){throw new L("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function j(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function V(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function U(){this.b=this.a=null}x=D("__EID__")?"__EID__":void 0,T(C,Error),C.prototype.name="CustomError",T(L,C),L.prototype.name="AssertionError",j.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var F=new j((function(){return new z}),(function(t){t.reset()}));function q(){var t=we,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function z(){this.next=this.b=this.a=null}U.prototype.add=function(t,e){var n=F.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},z.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},z.prototype.reset=function(){this.next=this.b=this.a=null};var H=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},B=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},G=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},K=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},W=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function J(t,e){return 0<=H(t,e)}function X(t,e){var n;return(n=0<=(e=H(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Y(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1).length}))}function $(t){return Array.prototype.concat.apply([],arguments)}function Q(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var tt,et=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},nt=/&/g,rt=/</g,it=/>/g,ot=/"/g,at=/'/g,st=/\x00/g,ut=/[\x00&<>"']/;function ct(t,e){return-1!=t.indexOf(e)}function ht(t,e){return t<e?-1:t>e?1:0}t:{var ft=s.navigator;if(ft){var lt=ft.userAgent;if(lt){tt=lt;break t}}tt=""}function pt(t){return ct(tt,t)}function dt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function vt(t){for(var e in t)return!1;return!0}function yt(t){var e,n={};for(e in t)n[e]=t[e];return n}var mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<mt.length;o++)n=mt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(v(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function wt(t,e){this.a=t===Tt&&e||"",this.b=Et}function It(t){return t instanceof wt&&t.constructor===wt&&t.b===Et?t.a:(M("expected object of type Const, got '"+t+"'"),"type_error:Const")}wt.prototype.sa=!0,wt.prototype.ra=function(){return this.a},wt.prototype.toString=function(){return"Const{"+this.a+"}"};var _t,Et={},Tt={};function At(){if(void 0===_t){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:A,createScript:A,createScriptURL:A})}catch(t){s.console&&s.console.error(t.message)}_t=t}else _t=t}return _t}function St(t,e){this.a=e===Pt?t:""}function kt(t){return t instanceof St&&t.constructor===St?t.a:(M("expected object of type TrustedResourceUrl, got '"+t+"' of type "+l(t)),"type_error:TrustedResourceUrl")}function xt(t,e){var n=It(t);if(!Ot.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=At();return new St(t=e?e.createScriptURL(t):t,Pt)}(t=n.replace(Nt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof wt?It(t):encodeURIComponent(String(t))})))}St.prototype.sa=!0,St.prototype.ra=function(){return this.a.toString()},St.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Nt=/%{(\w+)}/g,Ot=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Pt={};function Dt(t,e){this.a=e===Ut?t:""}function Rt(t){return t instanceof Dt&&t.constructor===Dt?t.a:(M("expected object of type SafeUrl, got '"+t+"' of type "+l(t)),"type_error:SafeUrl")}Dt.prototype.sa=!0,Dt.prototype.ra=function(){return this.a.toString()},Dt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ct=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Lt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Mt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function jt(t){if(t instanceof Dt)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Mt.test(t))t=new Dt(t,Ut);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Lt);t=e&&Ct.test(e[1])?new Dt(t,Ut):null}return t}function Vt(t){return t instanceof Dt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Mt.test(t)||(t="about:invalid#zClosurez"),new Dt(t,Ut))}var Ut={},Ft=new Dt("about:invalid#zClosurez",Ut);function qt(t,e,n){this.a=n===zt?t:""}qt.prototype.sa=!0,qt.prototype.ra=function(){return this.a.toString()},qt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var zt={};function Ht(t,e,n,r){return t=t instanceof Dt?t:Vt(t),e=e||s,n=n instanceof wt?It(n):n||"",e.open(Rt(t),n,r,void 0)}function Bt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Gt(t){return ut.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(nt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(rt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(it,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(ot,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(at,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function Kt(t){return Kt[" "](t),t}Kt[" "]=f;var Wt,Jt,Xt=pt("Opera"),Yt=pt("Trident")||pt("MSIE"),$t=pt("Edge"),Qt=$t||Yt,Zt=pt("Gecko")&&!(ct(tt.toLowerCase(),"webkit")&&!pt("Edge"))&&!(pt("Trident")||pt("MSIE"))&&!pt("Edge"),te=ct(tt.toLowerCase(),"webkit")&&!pt("Edge");function ee(){var t=s.document;return t?t.documentMode:void 0}t:{var ne="",re=(Jt=tt,Zt?/rv:([^\);]+)(\)|;)/.exec(Jt):$t?/Edge\/([\d\.]+)/.exec(Jt):Yt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Jt):te?/WebKit\/(\S+)/.exec(Jt):Xt?/(?:Version)[ \/]?(\S+)/.exec(Jt):void 0);if(re&&(ne=re?re[1]:""),Yt){var ie=ee();if(null!=ie&&ie>parseFloat(ne)){Wt=String(ie);break t}}Wt=ne}var oe,ae={};function se(t){return function(t,e){var n=ae;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=et(String(Wt)).split("."),r=et(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=ht(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ht(0==a[2].length,0==s[2].length)||ht(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}s.document&&Yt?oe=ee()||parseInt(Wt,10)||void 0:oe=void 0;var ue=oe;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Jt){}var ce=!Yt||9<=Number(ue);function he(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function fe(t,e){dt(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:de.hasOwnProperty(n)?t.setAttribute(de[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var le,pe,de={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ve(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!p(o)||v(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(v(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(d(o)){a="function"==typeof o.item;break t}}a=!1}B(a?Q(o):o,r)}}}function ye(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function me(t){s.setTimeout((function(){throw t}),0)}function ge(t,e){pe||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);pe=function(){t.then(Ie)}}else pe=function(){var t=Ie;!d(s.setImmediate)||s.Window&&s.Window.prototype&&!pt("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(le||(le=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!pt("Presto")&&(t=function(){var t=ye(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=I((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!pt("Trident")&&!pt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Fb;n.Fb=null,t()}},function(t){r.next={Fb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),le(t)):s.setImmediate(t)}}(),be||(pe(),be=!0),we.add(t,e)}var be=!1,we=new U;function Ie(){for(var t;t=q();){try{t.a.call(t.b)}catch(t){me(t)}V(F,t)}be=!1}function _e(t,e){if(this.a=Ee,this.h=void 0,this.f=this.b=this.c=null,this.g=this.i=!1,t!=f)try{var n=this;t.call(e,(function(t){Me(n,Te,t)}),(function(t){if(!(t instanceof He))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Me(n,Ae,t)}))}catch(t){Me(this,Ae,t)}}var Ee=0,Te=2,Ae=3;function Se(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Se.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var ke=new j((function(){return new Se}),(function(t){t.reset()}));function xe(t,e,n){var r=ke.get();return r.g=t,r.b=e,r.f=n,r}function Ne(t){if(t instanceof _e)return t;var e=new _e(f);return Me(e,Te,t),e}function Oe(t){return new _e((function(e,n){n(t)}))}function Pe(t,e,n){je(t,e,n,null)||ge(_(e,t))}function De(t){return new _e((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Ob:!0,value:o}:{Ob:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Pe(t[o],_(i,o,!0),_(i,o,!1));else e(r)}))}function Re(t,e){if(t.a==Ee)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Ee&&1==r?Re(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Ue(n),Fe(n,i,Ae,e)))}t.c=null}else Me(t,Ae,e)}function Ce(t,e){t.b||t.a!=Te&&t.a!=Ae||Ve(t),t.f?t.f.next=e:t.b=e,t.f=e}function Le(t,e,n,r){var i=xe(null,null,null);return i.a=new _e((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof He?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,Ce(t,i),i.a}function Me(t,e,n){t.a==Ee&&(t===n&&(e=Ae,n=new TypeError("Promise cannot resolve to itself")),t.a=1,je(n,t.Zc,t.$c,t)||(t.h=n,t.a=e,t.c=null,Ve(t),e!=Ae||n instanceof He||function(t,e){t.g=!0,ge((function(){t.g&&ze.call(null,e)}))}(t,n)))}function je(t,e,n,r){if(t instanceof _e)return Ce(t,xe(e||f,n||null,r)),!0;if(R(t))return t.then(e,n,r),!0;if(v(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(i,t))}),o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Ve(t){t.i||(t.i=!0,ge(t.fc,t))}function Ue(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Fe(t,e,n,r){if(n==Ae&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,qe(e,n,r);else try{e.c?e.g.call(e.f):qe(e,n,r)}catch(t){ze.call(null,t)}V(ke,e)}function qe(t,e,n){e==Te?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}_e.prototype.then=function(t,e,n){return Le(this,d(t)?t:null,d(e)?e:null,n)},_e.prototype.$goog_Thenable=!0,(t=_e.prototype).na=function(t,e){return(t=xe(t,t,e)).c=!0,Ce(this,t),this},t.o=function(t,e){return Le(this,null,t,e)},t.cancel=function(t){if(this.a==Ee){var e=new He(t);ge((function(){Re(this,e)}),this)}},t.Zc=function(t){this.a=Ee,Me(this,Te,t)},t.$c=function(t){this.a=Ee,Me(this,Ae,t)},t.fc=function(){for(var t;t=Ue(this);)Fe(this,t,this.a,this.h);this.i=!1};var ze=me;function He(t){C.call(this,t)}function Be(){0!=Ge&&(Ke[y(this)]=this),this.xa=this.xa,this.oa=this.oa}T(He,C),He.prototype.name="cancel";var Ge=0,Ke={};function We(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=Ge)){var e=y(t);if(0!=Ge&&t.oa&&0<t.oa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ke[e]}}Be.prototype.xa=!1,Be.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var Je=Object.freeze||function(t){return t},Xe=!Yt||9<=Number(ue),Ye=Yt&&!se("9"),$e=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",f,e),s.removeEventListener("test",f,e)}catch(t){}return t}();function Qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ze(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Zt){t:{try{Kt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:tn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Qe.prototype.preventDefault=function(){this.defaultPrevented=!0},T(Ze,Qe);var tn=Je({2:"touch",3:"pen",4:"mouse"});Ze.prototype.preventDefault=function(){Ze.$a.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ye)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Ze.prototype.g=function(){return this.a};var en="closure_listenable_"+(1e6*Math.random()|0),nn=0;function rn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ua=i,this.key=++nn,this.va=this.Oa=!1}function on(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Ua=null}function an(t){this.src=t,this.a={},this.b=0}function sn(t,e){var n=e.type;n in t.a&&X(t.a[n],e)&&(on(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function un(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Ua==r)return i}return-1}an.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=un(t,e,r,i);return-1<a?(e=t[a],n||(e.Oa=!1)):((e=new rn(e,this.src,o,!!r,i)).Oa=n,t.push(e)),e};var cn="closure_lm_"+(1e6*Math.random()|0),hn={};function fn(t,e,n,r,i){if(r&&r.once)pn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)fn(t,e[o],n,r,i);else n=_n(n),t&&t[en]?Tn(t,e,n,v(r)?!!r.capture:!!r,i):ln(t,e,n,!1,r,i)}function ln(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=wn(t);if(s||(t[cn]=s=new an(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=bn,e=Xe?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$e||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(yn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function pn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)pn(t,e[o],n,r,i);else n=_n(n),t&&t[en]?An(t,e,n,v(r)?!!r.capture:!!r,i):ln(t,e,n,!0,r,i)}function dn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=_n(n),t&&t[en]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=un(o=t.a[e],n,r,i))&&(on(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=wn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=un(e,n,r,i)),(n=-1<t?e[t]:null)&&vn(n))}function vn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[en])sn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=wn(e))?(sn(n,t),0==n.b&&(n.src=null,e[cn]=null)):on(t)}}}function yn(t){return t in hn?hn[t]:hn[t]="on"+t}function mn(t,e,n,r){var i=!0;if((t=wn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=gn(o,r),i=i&&!1!==o)}return i}function gn(t,e){var n=t.listener,r=t.Ua||t.src;return t.Oa&&vn(t),n.call(r,e)}function bn(t,e){if(t.va)return!0;if(!Xe){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ze(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=mn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=mn(r[i],t,!1,e),n=n&&o}return n}return gn(t,new Ze(e,this))}function wn(t){return(t=t[cn])instanceof an?t:null}var In="__closure_events_fn_"+(1e9*Math.random()>>>0);function _n(t){return d(t)?t:(t[In]||(t[In]=function(e){return t.handleEvent(e)}),t[In])}function En(){Be.call(this),this.v=new an(this),this.$b=this,this.fb=null}function Tn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function An(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Sn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Ua||a.src;a.Oa&&sn(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function kn(t,e,n){if(d(t))n&&(t=I(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=I(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function xn(t){var e=null;return new _e((function(n,r){-1==(e=kn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function Nn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function On(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.V||"function"!=typeof t.V){if(p(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Pn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Pn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Dn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Rn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Rn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Rn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}T(En,Be),En.prototype[en]=!0,En.prototype.addEventListener=function(t,e,n,r){fn(this,t,e,n,r)},En.prototype.removeEventListener=function(t,e,n,r){dn(this,t,e,n,r)},En.prototype.dispatchEvent=function(t){var e,n=this.fb;if(n)for(e=[];n;n=n.fb)e.push(n);n=this.$b;var r=t.type||t;if("string"==typeof t)t=new Qe(t,n);else if(t instanceof Qe)t.target=t.target||n;else{var i=t;gt(t=new Qe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=Sn(a,r,!0,t)&&i}if(i=Sn(a=t.b=n,r,!0,t)&&i,i=Sn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Sn(a=t.b=e[o],r,!1,t)&&i;return i},En.prototype.Da=function(){if(En.$a.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)on(n[r]);delete e.a[t],e.b--}}this.fb=null},(t=Pn.prototype).V=function(){Dn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Dn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Rn(this.b,t)?this.b[t]:e},t.set=function(t,e){Rn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Cn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ln(t,e){var n;this.a=this.l=this.f="",this.g=null,this.i=this.c="",this.h=!1,t instanceof Ln?(this.h=void 0!==e?e:t.h,Mn(this,t.f),this.l=t.l,this.a=t.a,jn(this,t.g),this.c=t.c,Vn(this,rr(t.b)),this.i=t.i):t&&(n=String(t).match(Cn))?(this.h=!!e,Mn(this,n[1]||"",!0),this.l=Hn(n[2]||""),this.a=Hn(n[3]||"",!0),jn(this,n[4]),this.c=Hn(n[5]||"",!0),Vn(this,n[6]||"",!0),this.i=Hn(n[7]||"")):(this.h=!!e,this.b=new $n(null,this.h))}function Mn(t,e,n){t.f=n?Hn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function jn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Vn(t,e,n){e instanceof $n?(t.b=e,function(t,e){e&&!t.f&&(Qn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(tr(this,e),nr(this,n,t))}),t)),t.f=e}(t.b,t.h)):(n||(e=Bn(e,Xn)),t.b=new $n(e,t.h))}function Un(t,e,n){t.b.set(e,n)}function Fn(t,e){return t.b.get(e)}function qn(t){return t instanceof Ln?new Ln(t):new Ln(t,void 0)}function zn(t,e,n,r){var i=new Ln(null,void 0);return t&&Mn(i,t),e&&(i.a=e),n&&jn(i,n),r&&(i.c=r),i}function Hn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Bn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Gn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Gn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ln.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Bn(e,Kn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Bn(e,Kn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Bn(n,"/"==n.charAt(0)?Jn:Wn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Bn(n,Yn)),t.join("")},Ln.prototype.resolve=function(t){var e=new Ln(this),n=!!t.f;n?Mn(e,t.f):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.c;if(n)jn(e,t.g);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.a&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ct(i,"./")||ct(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.b.toString(),n?Vn(e,rr(t.b)):n=!!t.i,n&&(e.i=t.i),e};var Kn=/[#\/\?@]/g,Wn=/[#\?:]/g,Jn=/[#\?]/g,Xn=/[#\?@]/g,Yn=/#/g;function $n(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qn(t){t.a||(t.a=new Pn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Zn(t){var e=On(t);if(void 0===e)throw Error("Keys are undefined");var n=new $n(null,void 0);t=Nn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?nr(n,i,o):n.add(i,o)}return n}function tr(t,e){Qn(t),e=ir(t,e),Rn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Rn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Dn(t)))}function er(t,e){return Qn(t),e=ir(t,e),Rn(t.a.b,e)}function nr(t,e,n){tr(t,e),0<n.length&&(t.c=null,t.a.set(ir(t,e),Q(n)),t.b+=n.length)}function rr(t){var e=new $n;return e.c=t.c,t.a&&(e.a=new Pn(t.a),e.b=t.b),e}function ir(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function or(t){var e=[];return sr(new ar,t,e),e.join("")}function ar(){}function sr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),sr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),hr(r,n),n.push(":"),sr(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":hr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=$n.prototype).add=function(t,e){Qn(this),this.c=null,t=ir(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Qn(this),this.a.forEach((function(n,r){B(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Qn(this);for(var t=this.a.V(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Qn(this);var e=[];if("string"==typeof t)er(this,t)&&(e=$(e,this.a.get(ir(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=$(e,t[n])}return e},t.set=function(t,e){return Qn(this),this.c=null,er(this,t=ir(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var ur={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},cr=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function hr(t,e){e.push('"',t.replace(cr,(function(t){var e=ur[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ur[t]=e),e})),'"')}function fr(){var t=Pr();return Yt&&!!ue&&11==ue||/Edge\/\d+/.test(t)}function lr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function pr(t,e){e=e||s.window;var n="about:blank";t&&(n=Rt(jt(t)||Ft)),e.location.href=n}function dr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<dr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function vr(t){return!!((t=(t||Pr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function yr(t){t=t||s.window;try{t.close()}catch(t){}}function mr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Pr().toLowerCase(),r&&(e.target=r,ct(n,"crios/")&&(e.target="_blank")),xr(Pr())==Sr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Dt?n:jt(void 0!==n.href?n.href:String(n))||Ft,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((pt("iPhone")&&!pt("iPod")&&!pt("iPad")||pt("iPad")||pt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(bt(a=ye(document,"A"),"HTMLAnchorElement"),e=e instanceof Dt?e:Vt(e),a.href=Rt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=Ht("",r,n,a),t=Rt(e),a&&(Qt&&ct(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Gt(t)+'">',t=new qt(t=(r=At())?r.createHTML(t):t,null,zt),r=a.document)&&(r.write(function(t){return t instanceof qt&&t.constructor===qt?t.a:(M("expected object of type SafeHtml, got '"+t+"' of type "+l(t)),"type_error:SafeHtml")}(t)),r.close())):(a=Ht(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var gr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,br=/^[^@]+@[^@]+$/;function wr(){var t=null;return new _e((function(e){"complete"==s.document.readyState?e():(t=function(){e()},pn(window,"load",t))})).o((function(e){throw dn(window,"load",t),e}))}function Ir(t){return t=t||Pr(),!("file:"!==Mr()&&"ionic:"!==Mr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function _r(){var t=s.window;try{return!(!t||t==t.top)}catch(t){return!1}}function Er(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function Tr(){return Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Z.INTERNAL.hasOwnProperty("node")?"Node":Er()?"Worker":"Browser"}function Ar(){var t=Tr();return"ReactNative"===t||"Node"===t}var Sr="Firefox",kr="Chrome";function xr(t){var e=t.toLowerCase();return ct(e,"opera/")||ct(e,"opr/")||ct(e,"opios/")?"Opera":ct(e,"iemobile")?"IEMobile":ct(e,"msie")||ct(e,"trident/")?"IE":ct(e,"edge/")?"Edge":ct(e,"firefox/")?Sr:ct(e,"silk/")?"Silk":ct(e,"blackberry")?"Blackberry":ct(e,"webos")?"Webos":!ct(e,"safari/")||ct(e,"chrome/")||ct(e,"crios/")||ct(e,"android")?!ct(e,"chrome/")&&!ct(e,"crios/")||ct(e,"edge/")?ct(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":kr:"Safari"}var Nr={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function Or(t,e){e=e||[];var n,r=[],i={};for(n in Nr)i[Nr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Tr())?r=xr(i=Pr()):"Worker"===r&&(r=xr(i=Pr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Pr(){return s.navigator&&s.navigator.userAgent||""}function Dr(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Rr(){try{var t=s.localStorage,e=qr();if(t)return t.setItem(e,"1"),t.removeItem(e),!fr()||!!s.indexedDB}catch(t){return Er()&&!!s.indexedDB}return!1}function Cr(){return(Lr()||"chrome-extension:"===Mr()||Ir())&&!Ar()&&Rr()&&!Er()}function Lr(){return"http:"===Mr()||"https:"===Mr()}function Mr(){return s.location&&s.location.protocol||null}function jr(t){return!vr(t=t||Pr())&&xr(t)!=Sr}function Vr(t){return void 0===t?null:or(t)}function Ur(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Fr(t){if(null!==t)return JSON.parse(t)}function qr(t){return t||Math.floor(1e9*Math.random()).toString()}function zr(t){return"Safari"!=xr(t=t||Pr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Hr(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Br(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Pr(),e=Tr(),this.b=vr(t)||"ReactNative"===e}function Gr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Kr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Wr(){return!(!Dr("fireauth.oauthhelper",s)&&!Dr("fireauth.iframe",s))}Br.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Lr()&&"chrome-extension:"!==Mr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Jr,Xr={};function Yr(t){Xr[t]||(Xr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var $r={};Object.defineProperty($r,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty($r,"abcd",{configurable:!0,enumerable:!0,value:2}),Jr=2==$r.abcd}catch(Jt){Jr=!1}function Qr(t,e,n){Jr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Zr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Qr(t,n,e[n])}function ti(t){var e={};return Zr(e,t),e}function ei(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Qr(e,n,ei(t[n]));return e}function ni(t){var e=t&&(t[si]?"phone":null);if(!(e&&t&&t[ai]))throw new S("internal-error","Internal assert: invalid MultiFactorInfo object");Qr(this,"uid",t[ai]),Qr(this,"displayName",t[ii]||null);var n=null;t[oi]&&(n=new Date(t[oi]).toUTCString()),Qr(this,"enrollmentTime",n),Qr(this,"factorId",e)}function ri(t){try{var e=new ui(t)}catch(t){e=null}return e}ni.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ii="displayName",oi="enrolledAt",ai="mfaEnrollmentId",si="phoneInfo";function ui(t){ni.call(this,t),Qr(this,"phoneNumber",t[si])}function ci(t){var e={},n=t[pi],r=t[vi],i=t[yi];if(t=ri(t[di]),!i||i!=fi&&i!=li&&!n||i==li&&!r||i==hi&&!t)throw Error("Invalid checkActionCode response!");i==li?(e[gi]=n||null,e[wi]=n||null,e[mi]=r):(e[gi]=r||null,e[wi]=r||null,e[mi]=n||null),e[bi]=t||null,Qr(this,_i,i),Qr(this,Ii,ei(e))}T(ui,ni),ui.prototype.w=function(){var t=ui.$a.w.call(this);return t.phoneNumber=this.phoneNumber,t};var hi="REVERT_SECOND_FACTOR_ADDITION",fi="EMAIL_SIGNIN",li="VERIFY_AND_CHANGE_EMAIL",pi="email",di="mfaInfo",vi="newEmail",yi="requestType",mi="email",gi="fromEmail",bi="multiFactorInfo",wi="previousEmail",Ii="data",_i="operation";function Ei(t){var e=Fn(t=qn(t),Ti)||null,n=Fn(t,Ai)||null,r=Fn(t,xi)||null;if(r=r&&Oi[r]||null,!e||!n||!r)throw new S("argument-error",Ti+", "+Ai+"and "+xi+" are required in a valid action code URL.");Zr(this,{apiKey:e,operation:r,code:n,continueUrl:Fn(t,Si)||null,languageCode:Fn(t,ki)||null,tenantId:Fn(t,Ni)||null})}var Ti="apiKey",Ai="oobCode",Si="continueUrl",ki="languageCode",xi="mode",Ni="tenantId",Oi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:hi,signIn:fi,verifyAndChangeEmail:li,verifyEmail:"VERIFY_EMAIL"};function Pi(t){try{return new Ei(t)}catch(t){return null}}function Di(t){var e=t[ji];if(void 0===e)throw new S("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new S("invalid-continue-uri");this.i=e,this.b=this.a=null,this.g=!1;var n=t[Ri];if(n&&"object"==typeof n){e=n[Fi];var r=n[Vi];if(n=n[Ui],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new S("argument-error",Vi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new S("argument-error",Ui+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new S("argument-error",Fi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new S("missing-android-pkg-name")}}else if(void 0!==n)throw new S("argument-error",Ri+" property must be a non null object when specified.");if(this.f=null,(e=t[Mi])&&"object"==typeof e){if("string"==typeof(e=e[qi])&&e.length)this.f=e;else if(void 0!==e)throw new S("argument-error",qi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new S("argument-error",Mi+" property must be a non null object when specified.");if(void 0!==(e=t[Li])&&"boolean"!=typeof e)throw new S("argument-error",Li+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ci])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new S("argument-error",Ci+" property must be a non empty string when specified.");this.h=t||null}var Ri="android",Ci="dynamicLinkDomain",Li="handleCodeInApp",Mi="iOS",ji="url",Vi="installApp",Ui="minimumVersion",Fi="packageName",qi="bundleId";function zi(t){var e={};for(var n in e.continueUrl=t.i,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.h,e)null===e[n]&&delete e[n];return e}var Hi=null;function Bi(t){var e=Ki(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.i=t,this.a=e.exp,this.h=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Gi(t){try{return new Bi(t)}catch(t){return null}}function Ki(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Hi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Hi){Hi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Hi[o]&&(Hi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(t){}return null}Bi.prototype.S=function(){return this.f},Bi.prototype.l=function(){return this.c},Bi.prototype.toString=function(){return this.i};var Wi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ji=["client_id","response_type","scope","redirect_uri","state"],Xi={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Ji},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Ji},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Ji},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:Wi},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function Yi(t){for(var e in Xi)if(Xi[e].fa==t)return Xi[e];return null}function $i(t){var e={};e["facebook.com"]=no,e["google.com"]=io,e["github.com"]=ro,e["twitter.com"]=oo;var n=t&&t[Zi];try{if(n)return e[n]?new e[n](t):new eo(t);if(void 0!==t[Qi])return new to(t)}catch(t){}return null}var Qi="idToken",Zi="providerId";function to(t){var e=t[Zi];if(!e&&t[Qi]){var n=Gi(t[Qi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Qr(this,"providerId",e),Qr(this,"isNewUser",n)}function eo(t){to.call(this,t),Qr(this,"profile",ei((t=Fr(t.rawUserInfo||"{}"))||{}))}function no(t){if(eo.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(t){if(eo.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",this.profile&&this.profile.login||null)}function io(t){if(eo.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function oo(t){if(eo.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",t.screenName||null)}function ao(t){var e=qn(t),n=Fn(e,"link"),r=Fn(qn(n),"link");return e=Fn(e,"deep_link_id"),Fn(qn(e),"link")||e||r||n||t}function so(t,e){if(!t&&!e)throw new S("internal-error","Internal assert: no raw session string available");if(t&&e)throw new S("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?uo:co}T(eo,to),T(no,eo),T(ro,eo),T(io,eo),T(oo,eo);var uo="enroll",co="signin";function ho(){}function fo(t,e){return t.then((function(t){if(t[Za]){var n=Gi(t[Za]);if(!n||e!=n.h)throw new S("user-mismatch");return t}throw new S("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==N+"user-not-found"?new S("user-mismatch"):t}))}function lo(t,e){if(!e)throw new S("internal-error","failed to construct a credential");this.a=e,Qr(this,"providerId",t),Qr(this,"signInMethod",t)}function po(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function vo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new lo(t.providerId,t.pendingToken)}catch(t){}return null}function yo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Qr(this,"idToken",e.idToken),e.accessToken&&Qr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Qr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new S("internal-error","failed to construct a credential");Qr(this,"accessToken",e.oauthToken),Qr(this,"secret",e.oauthTokenSecret)}Qr(this,"providerId",t),Qr(this,"signInMethod",n)}function mo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Zn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function go(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new yo(t.providerId,e,t.signInMethod)}catch(t){}}return null}function bo(t,e){this.Pc=e||[],Zr(this,{providerId:t,isOAuthProvider:!0}),this.Hb={},this.ob=(Yi(t)||{}).Ja||null,this.nb=null}function wo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new S("argument-error",'SAML provider IDs must be prefixed with "saml."');bo.call(this,t,[])}function Io(t){bo.call(this,t,Ji),this.a=[]}function _o(){Io.call(this,"facebook.com")}function Eo(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new _o).credential({accessToken:e})}function To(){Io.call(this,"github.com")}function Ao(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new To).credential({accessToken:e})}function So(){Io.call(this,"google.com"),this.Ca("profile")}function ko(t,e){var n=t;return v(t)&&(n=t.idToken,e=t.accessToken),(new So).credential({idToken:n,accessToken:e})}function xo(){bo.call(this,"twitter.com",Wi)}function No(t,e){var n=t;if(v(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new S("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new yo("twitter.com",n,"twitter.com")}function Oo(t,e,n){this.a=t,this.f=e,Qr(this,"providerId","password"),Qr(this,"signInMethod",n===Do.EMAIL_LINK_SIGN_IN_METHOD?Do.EMAIL_LINK_SIGN_IN_METHOD:Do.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Po(t){return t&&t.email&&t.password?new Oo(t.email,t.password,t.signInMethod):null}function Do(){Zr(this,{providerId:"password",isOAuthProvider:!1})}function Ro(t,e){if(!(e=Co(e)))throw new S("argument-error","Invalid email link!");return new Oo(t,e.code,Do.EMAIL_LINK_SIGN_IN_METHOD)}function Co(t){return(t=Pi(t=ao(t)))&&t.operation===fi?t:null}function Lo(t){if(!(t.cb&&t.bb||t.La&&t.ea))throw new S("internal-error");this.a=t,Qr(this,"providerId","phone"),this.fa="phone",Qr(this,"signInMethod","phone")}function Mo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return B(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Lo(e)}return null}function jo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.cb,code:t.a.bb}}function Vo(t){try{this.a=t||Z.auth()}catch(t){throw new S("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Zr(this,{providerId:"phone",isOAuthProvider:!1})}function Uo(t,e){if(!t)throw new S("missing-verification-id");if(!e)throw new S("missing-verification-code");return new Lo({cb:t,bb:e})}function Fo(t){if(t.temporaryProof&&t.phoneNumber)return new Lo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return ko(o,n);case"facebook.com":return Eo(n);case"github.com":return Ao(n);case"twitter.com":return No(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new lo(e,a):new yo(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Io(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function qo(t){if(!t.isOAuthProvider)throw new S("invalid-oauth-provider")}function zo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.h=o||null,this.i=a||null,this.a=i||null,!this.g&&!this.a)throw new S("invalid-auth-event");if(this.g&&this.a)throw new S("invalid-auth-event");if(this.g&&!this.f)throw new S("invalid-auth-event")}function Ho(t){return(t=t||{}).type?new zo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&k(t.error),t.postBody,t.tenantId):null}function Bo(){this.b=null,this.a=[]}so.prototype.Ha=function(){return this.a?Ne(this.a):Ne(this.b)},so.prototype.w=function(){return this.type==uo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ho.prototype.ja=function(){},ho.prototype.b=function(){},ho.prototype.c=function(){},ho.prototype.w=function(){},lo.prototype.ja=function(t){return ws(t,po(this))},lo.prototype.b=function(t,e){var n=po(this);return n.idToken=e,Is(t,n)},lo.prototype.c=function(t,e){return fo(_s(t,po(this)),e)},lo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},yo.prototype.ja=function(t){return ws(t,mo(this))},yo.prototype.b=function(t,e){var n=mo(this);return n.idToken=e,Is(t,n)},yo.prototype.c=function(t,e){return fo(_s(t,mo(this)),e)},yo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},bo.prototype.Ka=function(t){return this.Hb=yt(t),this},T(wo,bo),T(Io,bo),Io.prototype.Ca=function(t){return J(this.a,t)||this.a.push(t),this},Io.prototype.Pb=function(){return Q(this.a)},Io.prototype.credential=function(t,e){var n;if(!(n=v(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new S("argument-error","credential failed: must provide the ID token and/or the access token.");return new yo(this.providerId,n,this.providerId)},T(_o,Io),Qr(_o,"PROVIDER_ID","facebook.com"),Qr(_o,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(To,Io),Qr(To,"PROVIDER_ID","github.com"),Qr(To,"GITHUB_SIGN_IN_METHOD","github.com"),T(So,Io),Qr(So,"PROVIDER_ID","google.com"),Qr(So,"GOOGLE_SIGN_IN_METHOD","google.com"),T(xo,bo),Qr(xo,"PROVIDER_ID","twitter.com"),Qr(xo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Oo.prototype.ja=function(t){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Os,{email:this.a,oobCode:this.f}):ru(t,Qs,{email:this.a,password:this.f})},Oo.prototype.b=function(t,e){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Ps,{idToken:e,email:this.a,oobCode:this.f}):ru(t,Bs,{idToken:e,email:this.a,password:this.f})},Oo.prototype.c=function(t,e){return fo(this.ja(t),e)},Oo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Zr(Do,{PROVIDER_ID:"password"}),Zr(Do,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Zr(Do,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Lo.prototype.ja=function(t){return t.eb(jo(this))},Lo.prototype.b=function(t,e){var n=jo(this);return n.idToken=e,ru(t,tu,n)},Lo.prototype.c=function(t,e){var n=jo(this);return n.operation="REAUTH",fo(t=ru(t,eu,n),e)},Lo.prototype.w=function(){var t={providerId:"phone"};return this.a.cb&&(t.verificationId=this.a.cb),this.a.bb&&(t.verificationCode=this.a.bb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Vo.prototype.eb=function(t,e){var n=this.a.a;return Ne(e.verify()).then((function(r){if("string"!=typeof r)throw new S("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=v(t)?t.session:null,o=v(t)?t.phoneNumber:t;return(i&&i.type==uo?i.Ha().then((function(t){return function(t,e){return ru(t,Ks,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==co?i.Ha().then((function(e){return function(t,e){return ru(t,Ws,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return ru(t,zs,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new S("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Zr(Vo,{PROVIDER_ID:"phone"}),Zr(Vo,{PHONE_SIGN_IN_METHOD:"phone"}),zo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.i&&t.push(this.i),t.join("-")},zo.prototype.S=function(){return this.i},zo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.h,tenantId:this.i,error:this.a&&this.a.w()}};var Go,Ko=null;function Wo(t){var e="unauthorized-domain",n=void 0,r=qn(t);t=r.a,"chrome-extension"==(r=r.f)?n=Bt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Bt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",S.call(this,e,n)}function Jo(t,e,n){S.call(this,t,n),(t=e||{}).Ib&&Qr(this,"email",t.Ib),t.ea&&Qr(this,"phoneNumber",t.ea),t.credential&&Qr(this,"credential",t.credential),t.Yb&&Qr(this,"tenantId",t.Yb)}function Xo(t){if(t.code){var e=t.code||"";0==e.indexOf(N)&&(e=e.substring(N.length));var n={credential:Fo(t),Yb:t.tenantId};if(t.email)n.Ib=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new S(e,t.message||void 0);return new Jo(e,n,t.message)}return null}function Yo(){}function $o(t){return t.c||(t.c=t.b())}function Qo(){}function Zo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function ta(){}function ea(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=I(this.pc,this),this.a.onerror=I(this.Rb,this),this.a.onprogress=I(this.qc,this),this.a.ontimeout=I(this.uc,this)}function na(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ra(t,e,n){this.reset(t,e,n,void 0,void 0)}function ia(t){this.f=t,this.b=this.c=this.a=null}function oa(t,e){this.name=t,this.value=e}T(Wo,S),T(Jo,S),Jo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&gt(t,e),t},Jo.prototype.toJSON=function(){return this.w()},Yo.prototype.c=null,T(Qo,Yo),Qo.prototype.a=function(){var t=Zo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Qo.prototype.b=function(){var t={};return Zo(this)&&(t[0]=!0,t[1]=!0),t},Go=new Qo,T(ta,Yo),ta.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new ea;throw Error("Unsupported browser")},ta.prototype.b=function(){return{}},(t=ea.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,na(this,4)},t.Rb=function(){this.status=500,this.response=this.responseText="",na(this,4)},t.uc=function(){this.Rb()},t.qc=function(){this.status=200,na(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ra.prototype.a=null,ra.prototype.reset=function(t,e,n,r,i){r||E(),delete this.a},oa.prototype.toString=function(){return this.name};var aa=new oa("SEVERE",1e3),sa=new oa("WARNING",900),ua=new oa("CONFIG",700),ca=new oa("FINE",500);function ha(t){return t.c?t.c:t.a?ha(t.a):(M("Root logger has no level set."),null)}ia.prototype.log=function(t,e,n){if(t.value>=ha(this).value)for(d(e)&&(e=e()),t=new ra(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var fa={},la=null;function pa(t){var e;if(la||(la=new ia(""),fa[""]=la,la.c=ua),!(e=fa[t])){e=new ia(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=pa(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,fa[t]=e}return e}function da(t,e){t&&t.log(ca,e,void 0)}function va(t){this.f=t}function ya(t){En.call(this),this.u=t,this.i=void 0,this.readyState=ma,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.h=pa("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}T(va,Yo),va.prototype.a=function(){return new ya(this.f)},va.prototype.b=function(t){return function(){return t}}({}),T(ya,En);var ma=0;function ga(t){t.c.read().then(t.oc.bind(t)).catch(t.Ta.bind(t))}function ba(t){t.readyState=4,t.g=null,t.c=null,t.m=null,wa(t)}function wa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Ia(t){En.call(this),this.headers=new Pn,this.O=t||null,this.c=!1,this.A=this.a=null,this.i=this.P=this.l="",this.f=this.N=this.h=this.G=!1,this.g=0,this.s=null,this.m=_a,this.u=this.R=!1}(t=ya.prototype).open=function(t,e){if(this.readyState!=ma)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,wa(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.i,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.tc.bind(this),this.Ta.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ba(this)),this.readyState=ma},t.tc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,wa(this)),this.a&&(this.readyState=3,wa(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ga(this)):t.text().then(this.sc.bind(this),this.Ta.bind(this)))))},t.oc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ba(this):wa(this),3==this.readyState&&ga(this)}},t.sc=function(t){this.a&&(this.response=this.responseText=t,ba(this))},t.rc=function(t){this.a&&(this.response=t,ba(this))},t.Ta=function(t){var e=this.h;e&&e.log(sa,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ba(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(sa,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(sa,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ya.prototype,"withCredentials",{get:function(){return"include"===this.i},set:function(t){this.i=t?"include":"same-origin"}}),T(Ia,En);var _a="";Ia.prototype.b=pa("goog.net.XhrIo");var Ea=/^https?$/i,Ta=["POST","PUT"];function Aa(t){return"content-type"==t.toLowerCase()}function Sa(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.i=e,ka(t),Na(t)}function ka(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function xa(t){if(t.c&&void 0!==a)if(t.A[1]&&4==Pa(t)&&2==Da(t))da(t.b,Ra(t,"Local request error detected and ignored"));else if(t.h&&4==Pa(t))kn(t.Ub,0,t);else if(t.dispatchEvent("readystatechange"),4==Pa(t)){da(t.b,Ra(t,"Request complete")),t.c=!1;try{var e,n=Da(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Cn)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!Ea.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Pa(t)?t.a.statusText:""}catch(e){da(t.b,"Can not get status: "+e.message),c=""}t.i=c+" ["+Da(t)+"]",ka(t)}}finally{Na(t)}}}function Na(t,e){if(t.a){Oa(t);var n=t.a,r=t.A[0]?f:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(aa,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Oa(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function Pa(t){return t.a?t.a.readyState:0}function Da(t){try{return 2<Pa(t)?t.a.status:-1}catch(t){return-1}}function Ra(t,e){return e+" ["+t.P+" "+t.l+" "+Da(t)+"]"}function Ca(t){var e=Ga;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.h=!1,this.i=0,this.b=null,this.l=0}function La(t,e,n){t.a=!0,t.c=n,t.f=!e,Ua(t)}function Ma(t){if(t.a){if(!t.m)throw new Fa(t);t.m=!1}}function ja(t,e,n,r){t.g.push([e,n,r]),t.a&&Ua(t)}function Va(t){return W(t.g,(function(t){return d(t[1])}))}function Ua(t){if(t.i&&t.a&&Va(t)){var e=t.i,n=Ha[e];n&&(s.clearTimeout(n.a),delete Ha[e]),t.i=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.h;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(R(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.h=!0)}catch(r){e=r,t.f=!0,Va(t)||(n=!0)}}t.c=e,r&&(u=I(t.v,t,!0),r=I(t.v,t,!1),e instanceof Ca?(ja(e,u,r),e.A=!0):e.then(u,r)),n&&(e=new za(e),Ha[e.a]=e,t.i=e.a)}function Fa(){C.call(this)}function qa(){C.call(this)}function za(t){this.a=s.setTimeout(I(this.c,this),0),this.b=t}(t=Ia.prototype).Ma=function(){void 0!==a&&this.a&&(this.i="Timed out after "+this.g+"ms, aborting",da(this.b,Ra(this,this.i)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(da(this.b,Ra(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Na(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Na(this,!0)),Ia.$a.Da.call(this)},t.Ub=function(){this.xa||(this.N||this.h||this.f?xa(this):this.Ic())},t.Ic=function(){xa(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case _a:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(aa,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return da(this.b,"Can not get response: "+t.message),null}},Ca.prototype.cancel=function(t){if(this.a)this.c instanceof Ca&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.m=!0,this.a||(t=new qa(this),Ma(this),La(this,!1,t))}},Ca.prototype.v=function(t,e){this.h=!1,La(this,t,e)},Ca.prototype.then=function(t,e,n){var r,i,o=new _e((function(t,e){r=t,i=e}));return ja(this,r,(function(t){t instanceof qa?o.cancel():i(t)})),o.then(t,e,n)},Ca.prototype.$goog_Thenable=!0,T(Fa,C),Fa.prototype.message="Deferred has already fired",Fa.prototype.name="AlreadyCalledError",T(qa,C),qa.prototype.message="Deferred was canceled",qa.prototype.name="CanceledError",za.prototype.c=function(){throw delete Ha[this.a],this.b};var Ha={};function Ba(t){var e={},n=e.document||document,r=kt(t).toString(),i=ye(document,"SCRIPT"),o={Vb:i,Ma:void 0},a=new Ca(o),u=null,f=null!=e.timeout?e.timeout:5e3;return 0<f&&(u=window.setTimeout((function(){Ka(i,!0);var t=new Xa(Ja,"Timeout reached for loading script "+r);Ma(a),La(a,!1,t)}),f),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ka(i,e.wd||!1,u),Ma(a),La(a,!0,null))},i.onerror=function(){Ka(i,!0,u);var t=new Xa(Wa,"Error while loading script "+r);Ma(a),La(a,!1,t)},gt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),fe(i,o),function(t,e){bt(t,"HTMLScriptElement"),t.src=kt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=h(e.document):(null===c&&(c=h(s.document)),e=c),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Ga(){if(this&&this.Vb){var t=this.Vb;t&&"SCRIPT"==t.tagName&&Ka(t,!0,this.Ma)}}function Ka(t,e,n){null!=n&&s.clearTimeout(n),t.onload=f,t.onerror=f,t.onreadystatechange=f,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Wa=0,Ja=1;function Xa(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),C.call(this,n),this.code=t}function Ya(t){this.f=t}function $a(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=t.secureTokenTimeout||ts,this.g=yt(t.secureTokenHeaders||es),this.i=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=t.firebaseTimeout||ns,this.a=yt(t.firebaseHeaders||rs),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Tr(),!(n=s.XMLHttpRequest||n&&Z.INTERNAL.node&&Z.INTERNAL.node.XMLHttpRequest)&&!Er())throw new S("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Er()?this.f=new va(self):Ar()?this.f=new Ya(n):this.f=new ta,this.b=null}T(Xa,C),T(Ya,Yo),Ya.prototype.a=function(){return new this.f},Ya.prototype.b=function(){return{}};var Qa,Za="idToken",ts=new Br(3e4,6e4),es={"Content-Type":"application/x-www-form-urlencoded"},ns=new Br(3e4,6e4),rs={"Content-Type":"application/json"};function is(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function os(t,e){e&&(t.l=as("https://securetoken.googleapis.com/v1/token",e),t.i=as("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.h=as("https://identitytoolkit.googleapis.com/v2/",e))}function as(t,e){return t=qn(t),e=qn(e.url),t.c=t.a+t.c,Mn(t,e.f),t.a=e.a,jn(t,e.g),t.toString()}function ss(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function us(t,e,n,r,i,o,a){(function(){var t=Pr();return!((t=xr(t)!=kr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Yt&&ue&&!(9<ue))})()||Er()?t=I(t.u,t):(Qa||(Qa=new _e((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(s[hs]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){ja(t,null,e,void 0)}(Ba(xt(cs,{onload:hs})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=I(t.s,t)),t(e,n,r,i,o,a)}$a.prototype.S=function(){return this.b},$a.prototype.u=function(t,e,n,r,i,o){if(Er()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new S("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Ia(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}Tn(a,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return da(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),An(a,"ready",(function(){u&&clearTimeout(u),We(this)})),An(a,"timeout",(function(){u&&clearTimeout(u),We(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.i="",t.P=n,t.G=!1,t.c=!0,t.a=t.O?t.O.a():Go.a(),t.A=t.O?$o(t.O):$o(Go),t.a.onreadystatechange=I(t.Ub,t);try{da(t.b,Ra(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(e){return da(t.b,Ra(t,"Error opening Xhr: "+e.message)),void Sa(t,e)}e=r||"";var o=new Pn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"==typeof t)B(t,e,void 0);else for(var n=On(t),r=Nn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Aa,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!J(Ta,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{Oa(t),0<t.g&&(t.u=function(t){return Yt&&se(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),da(t.b,Ra(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=I(t.Ma,t)):t.s=kn(t.Ma,t.g,t)),da(t.b,Ra(t,"Sending request")),t.h=!0,t.a.send(e),t.h=!1}catch(e){da(t.b,Ra(t,"Send error: "+e.message)),Sa(t,e)}}(a,t,n,r,i)};var cs=new wt(Tt,"https://apis.google.com/js/client.js?onload=%{onload}"),hs="__fcb"+Math.floor(1e6*Math.random()).toString();function fs(t){if("string"!=typeof(t=t.email)||!br.test(t))throw new S("invalid-email")}function ls(t){"email"in t&&fs(t)}function ps(t){if(!t[Za]){if(t.mfaPendingCredential)throw new S("multi-factor-auth-required",null,yt(t));throw new S("internal-error")}}function ds(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new S("internal-error")}else{if(!t.sessionInfo)throw new S("missing-verification-id");if(!t.code)throw new S("missing-verification-code")}}$a.prototype.s=function(t,e,n,r,i){var o=this;Qa.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},$a.prototype.yb=function(){return ru(this,Gs,{})},$a.prototype.Ab=function(t,e){return ru(this,Hs,{idToken:t,email:e})},$a.prototype.Bb=function(t,e){return ru(this,Bs,{idToken:t,password:e})};var vs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ys(t){if(!t.phoneVerificationInfo)throw new S("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new S("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new S("missing-verification-code")}function ms(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new S("internal-error")}function gs(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&er(t=new $n(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function bs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Xo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Xo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Xo(t)):t.errorMessage&&(e=iu(t.errorMessage)),e)throw e;ps(t)}function ws(t,e){return e.returnIdpCredential=!0,ru(t,Js,e)}function Is(t,e){return e.returnIdpCredential=!0,ru(t,Ys,e)}function _s(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,ru(t,Xs,e)}function Es(t){if(!t.oobCode)throw new S("invalid-action-code")}(t=$a.prototype).Cb=function(t,e){var n={idToken:t},r=[];return dt(vs,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),ru(this,Hs,n)},t.ub=function(t,e){return gt(t={requestType:"PASSWORD_RESET",email:t},e),ru(this,Vs,t)},t.vb=function(t,e){return gt(t={requestType:"EMAIL_SIGNIN",email:t},e),ru(this,Ls,t)},t.tb=function(t,e){return gt(t={requestType:"VERIFY_EMAIL",idToken:t},e),ru(this,Ms,t)},t.Db=function(t,e,n){return gt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),ru(this,js,t)},t.eb=function(t){return ru(this,Zs,t)},t.mb=function(t,e){return ru(this,qs,{oobCode:t,newPassword:e})},t.Qa=function(t){return ru(this,As,{oobCode:t})},t.ib=function(t){return ru(this,Ts,{oobCode:t})};var Ts={endpoint:"setAccountInfo",B:Es,Z:"email",C:!0},As={endpoint:"resetPassword",B:Es,F:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new S("internal-error")},C:!0},Ss={endpoint:"signupNewUser",B:function(t){if(fs(t),!t.password)throw new S("weak-password")},F:ps,U:!0,C:!0},ks={endpoint:"createAuthUri",C:!0},xs={endpoint:"deleteAccount",M:["idToken"]},Ns={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(t){if(!Array.isArray(t.deleteProvider))throw new S("internal-error")}},Os={endpoint:"emailLinkSignin",M:["email","oobCode"],B:fs,F:ps,U:!0,C:!0},Ps={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:fs,F:ps,U:!0},Ds={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:ys,F:ps,C:!0,Na:!0},Rs={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:ys,F:ps,C:!0,Na:!0},Cs={endpoint:"getAccountInfo"},Ls={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new S("internal-error");fs(t)},Z:"email",C:!0},Ms={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new S("internal-error")},Z:"email",C:!0},js={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new S("internal-error")},Z:"email",C:!0},Vs={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new S("internal-error");fs(t)},Z:"email",C:!0},Us={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},Fs={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(t){if(!t.recaptchaSiteKey)throw new S("internal-error")}},qs={endpoint:"resetPassword",B:Es,Z:"email",C:!0},zs={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},Hs={endpoint:"setAccountInfo",M:["idToken"],B:ls,U:!0},Bs={endpoint:"setAccountInfo",M:["idToken"],B:function(t){if(ls(t),!t.password)throw new S("weak-password")},F:ps,U:!0},Gs={endpoint:"signupNewUser",F:ps,U:!0,C:!0},Ks={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(t){if(!t.phoneEnrollmentInfo)throw new S("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new S("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new S("missing-app-credential")},F:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new S("internal-error")},C:!0,Na:!0},Ws={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new S("missing-app-credential")},F:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new S("internal-error")},C:!0,Na:!0},Js={endpoint:"verifyAssertion",B:ms,Xa:gs,F:bs,U:!0,C:!0},Xs={endpoint:"verifyAssertion",B:ms,Xa:gs,F:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new S("user-not-found");if(t.errorMessage)throw iu(t.errorMessage);ps(t)},U:!0,C:!0},Ys={endpoint:"verifyAssertion",B:function(t){if(ms(t),!t.idToken)throw new S("internal-error")},Xa:gs,F:bs,U:!0},$s={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new S("invalid-custom-token")},F:ps,U:!0,C:!0},Qs={endpoint:"verifyPassword",B:function(t){if(fs(t),!t.password)throw new S("wrong-password")},F:ps,U:!0,C:!0},Zs={endpoint:"verifyPhoneNumber",B:ds,F:ps,C:!0},tu={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new S("internal-error");ds(t)},F:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Xo(t);ps(t)}},eu={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:ds,F:ps,C:!0},nu={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(t){if(!!t[Za]^!!t.refreshToken)throw new S("internal-error")},C:!0,Na:!0};function ru(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return Oe(new S("internal-error"));var r,i=!!e.Na,o=e.Tb||"POST";return Ne(n).then(e.B).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,a){var s=qn(e+n);Un(s,"key",t.c),a&&Un(s,"cb",E().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Un(s,c,i[c]);return new _e((function(e,n){us(t,s.toString(),(function(t){t?t.error?n(ou(t,o||{})):e(t):n(new S("network-request-failed"))}),r,u?void 0:or(Ur(i)),t.a,t.m.get())}))}(t,i?t.h:t.i,e.endpoint,o,n,e.Gb,e.kb||!1)})).then((function(t){return r=t,e.Xa?e.Xa(n,r):r})).then(e.F).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new S("internal-error");return r[e.Z]}))}function iu(t){return ou({error:{errors:[{message:t}],code:400,message:t}})}function ou(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new S(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",gt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new S(r[i],e);return!e&&t&&(e=Vr(t)),new S("internal-error",e)}function au(t){this.b=t,this.a=null,this.qb=function(t){return(hu||(hu=new _e((function(t,e){function n(){Hr(),Dr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Hr(),e(Error("Network Error"))},timeout:uu.get()})}if(Dr("gapi.iframes.Iframe"))t();else if(Dr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Dr("gapi.load")?n():e(Error("Network Error"))},Ne(Ba(r=xt(su,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw hu=null,t})))).then((function(){return new _e((function(e,n){Dr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),cu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var su=new wt(Tt,"https://apis.google.com/js/api.js?onload=%{onload}"),uu=new Br(3e4,6e4),cu=new Br(5e3,15e3),hu=null;function fu(t,e,n,r){this.l=t,this.i=e,this.h=n,this.g=r,this.f=null,t=this.g?zn((t=qn(this.g.url)).f,t.a,t.g,"/emulator/auth/iframe"):zn("https",this.l,null,"/__/auth/iframe"),this.a=t,Un(this.a,"apiKey",this.i),Un(this.a,"appName",this.h),this.b=null,this.c=[]}function lu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.v=r,this.m=o,this.h=this.g=this.l=null,this.a=i,this.i=this.f=null}function pu(t){try{return Z.app(t).auth().Ga()}catch(t){return[]}}function du(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.h=i||null,this.l=this.u=this.A=null,this.i=[],this.v=this.a=null}function vu(t){var e=lr();return function(t){return ru(t,Us,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=qn(e),r=n.f;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=qn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:gr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Wo(lr())}))}function yu(t){return t.v||(t.v=wr().then((function(){if(!t.u){var e=t.c,n=t.h,r=pu(t.b),i=new fu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Q(r||[]),t.u=i.toString()}t.m=new au(t.u),function(t){if(!t.m)throw Error("IfcHandler must be initialized!");!function(t,e){t.qb.then((function(){t.a.register("authEvent",e,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.m,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Ho(e.authEvent),n=0;n<t.i.length;n++)r=t.i[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ne(n)}return n.status="ERROR",Ne(n)}))}(t)}))),t.v}function mu(t){return t.l||(t.A=t.c?Or(t.c,pu(t.b)):null,t.l=new $a(t.g,D(t.h),t.A),t.f&&os(t.l,t.f)),t.l}function gu(t,e,n,r,i,o,a,s,u,c,h,f){return(t=new lu(t,e,n,r,i,f)).l=o,t.g=a,t.h=s,t.b=yt(u||null),t.f=c,t.xb(h).toString()}function bu(t){if(this.a=t||Z.INTERNAL.reactNative&&Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new S("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function wu(t){this.b=t,this.a={},this.f=I(this.c,this)}fu.prototype.toString=function(){return this.f?Un(this.a,"v",this.f):tr(this.a.b,"v"),this.b?Un(this.a,"eid",this.b):tr(this.a.b,"eid"),this.c.length?Un(this.a,"fw",this.c.join(",")):tr(this.a.b,"fw"),this.a.toString()},lu.prototype.xb=function(t){return this.i=t,this},lu.prototype.toString=function(){if(this.m){var t=qn(this.m.url);t=zn(t.f,t.a,t.g,"/emulator/auth/handler")}else t=zn("https",this.u,null,"/__/auth/handler");if(Un(t,"apiKey",this.s),Un(t,"appName",this.c),Un(t,"authType",this.v),this.a.isOAuthProvider){var e=this.a;try{var n=Z.app(this.c).auth().ka()}catch(t){n=null}for(var r in e.nb=n,Un(t,"providerId",this.a.providerId),e=Ur((n=this.a).Hb))e[r]=e[r].toString();r=n.Pc,e=yt(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.ob&&n.nb&&!e[n.ob]&&(e[n.ob]=n.nb),vt(e)||Un(t,"customParameters",Vr(e))}if("function"==typeof this.a.Pb&&(n=this.a.Pb()).length&&Un(t,"scopes",n.join(",")),this.l?Un(t,"redirectUrl",this.l):tr(t.b,"redirectUrl"),this.g?Un(t,"eventId",this.g):tr(t.b,"eventId"),this.h?Un(t,"v",this.h):tr(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Fn(t,a)&&Un(t,a,this.b[a]);return this.i?Un(t,"tid",this.i):tr(t.b,"tid"),this.f?Un(t,"eid",this.f):tr(t.b,"eid"),(a=pu(this.c)).length&&Un(t,"fw",a.join(",")),t.toString()},(t=du.prototype).Nb=function(t,e,n){var r=new S("popup-closed-by-user"),i=new S("web-storage-unsupported"),o=this,a=!1;return this.la().then((function(){(function(t){var e={type:"webStorageSupport"};return yu(t).then((function(){return function(t,e){return t.qb.then((function(){return new _e((function(n){t.a.send(e.type,e,n,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.m,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&yr(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new _e((function(e){return function n(){xn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return xn(n).then((function(){e(r)}))}))},t.Wb=function(){var t=Pr();return!jr(t)&&!zr(t)},t.Sb=function(){return!1},t.Lb=function(t,e,n,r,i,o,a,s){if(!t)return Oe(new S("popup-blocked"));if(a&&!jr())return this.la().o((function(e){yr(t),i(e)})),r(),Ne();this.a||(this.a=vu(mu(this)));var u=this;return this.a.then((function(){var e=u.la().o((function(e){throw yr(t),i(e),e}));return r(),e})).then((function(){qo(n),a||pr(gu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.h,s,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Mb=function(t,e,n,r){this.a||(this.a=vu(mu(this)));var i=this;return this.a.then((function(){qo(e),pr(gu(i.s,i.g,i.b,t,e,lr(),n,i.c,void 0,i.h,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.la=function(){var t=this;return yu(this).then((function(){return t.m.qb})).o((function(){throw t.a=null,new S("network-request-failed")}))},t.Zb=function(){return!0},t.Ea=function(t){this.i.push(t)},t.Ra=function(t){Y(this.i,(function(e){return e==t}))},(t=bu.prototype).get=function(t){return Ne(this.a.getItem(t)).then((function(t){return t&&Fr(t)}))},t.set=function(t,e){return Ne(this.a.setItem(t,Vr(e)))},t.T=function(t){return Ne(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var Iu,_u=[];function Eu(t,e,n){vt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Tu(t){this.a=t}function Au(t){this.c=t,this.b=!1,this.a=[]}function Su(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Oe(Error("connection_unavailable"));var h=r?800:50,f="undefined"!=typeof MessageChannel?new MessageChannel:null;return new _e((function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),h),c={messageChannel:f,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),f.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))})).then((function(e){return ku(t,c),e})).o((function(e){throw ku(t,c),e}))}function ku(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Y(t.a,(function(t){return t==e}))}}function xu(){if(!Du())throw new S("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.v=s.indexedDB,this.type="indexedDB",this.g=this.m=this.f=this.l=null,this.s=!1,this.i=null;var t=this;Er()&&self?(this.m=function(){var t=Er()?self:null;if(B(_u,(function(n){n.b==t&&(e=n)})),!e){var e=new wu(t);_u.push(e)}return e}(),Eu(this.m,"keyChanged",(function(e,n){return ju(t).then((function(e){return 0<e.length&&B(t.a,(function(t){t(e)})),{keyProcessed:J(e,n.key)}}))})),Eu(this.m,"ping",(function(){return Ne(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?Ne().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ne(null)}().then((function(e){(t.i=e)&&(t.g=new Au(new Tu(e)),Su(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&J(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Nu(t){return new _e((function(e,n){var r=t.v.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new _e((function(e,n){var r=t.v.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Nu(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Ou(t){return t.h||(t.h=Nu(t)),t.h}function Pu(t,e){var n=0;return new _e((function r(i,o){Ou(t).then(e).then(i).o((function(e){if(!(3<++n))return Ou(t).then((function(e){return e.close(),t.h=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Du(){try{return!!s.indexedDB}catch(t){return!1}}function Ru(t){return t.objectStore("firebaseLocalStorage")}function Cu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Lu(t){return new _e((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Mu(t,e){return t.g&&t.i&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.i?Su(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ne()}function ju(t){return Ou(t).then((function(t){var e=Ru(Cu(t,!1));return e.getAll?Lu(e.getAll()):new _e((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=dr(t.c,n),t.c=n}return r}))}function Vu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Uu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ne().then((function(){if(Du()){var t=qr(),r="__sak"+t;return Iu||(Iu=new xu),(n=Iu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){B(e.a,(function(e){e(t)}))})),t}))}function Fu(){this.a={},this.type="inMemory"}function qu(){if(!function(){var t="Node"==Tr();if(!(t=zu()||t&&Z.INTERNAL.node&&Z.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Tr())throw new S("internal-error","The LocalStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=zu()||Z.INTERNAL.node.localStorage,this.type="localStorage"}function zu(){try{var t=s.localStorage,e=qr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Hu(){this.type="nullStorage"}function Bu(){if(!function(){var t="Node"==Tr();if(!(t=Gu()||t&&Z.INTERNAL.node&&Z.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Tr())throw new S("internal-error","The SessionStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Gu()||Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Gu(){try{var t=s.sessionStorage,e=qr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Ku(){var t={};t.Browser=Xu,t.Node=Yu,t.ReactNative=$u,t.Worker=Qu,this.a=t[Tr()]}wu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];B(r,(function(e){i.push(Ne().then((function(){return e(t.origin,t.data.data)})))})),De(i).then((function(r){var i=[];B(r,(function(t){i.push({fulfilled:t.Ob,value:t.value,reason:t.reason?t.reason.message:void 0})})),B(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Tu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Au.prototype.close=function(){for(;0<this.a.length;)ku(this,this.a[0]);this.b=!0},(t=xu.prototype).set=function(t,e){var n=this,r=!1;return Pu(this,(function(e){return Lu((e=Ru(Cu(e,!0))).get(t))})).then((function(i){return Pu(n,(function(o){if(o=Ru(Cu(o,!0)),i)return i.value=e,Lu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Lu(o.add(a))}))})).then((function(){return n.c[t]=e,Mu(n,t)})).na((function(){r&&n.b--}))},t.get=function(t){return Pu(this,(function(e){return Lu(Ru(Cu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=this,n=!1;return Pu(this,(function(r){return n=!0,e.b++,Lu(Ru(Cu(r,!0)).delete(t))})).then((function(){return delete e.c[t],Mu(e,t)})).na((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){Vu(t),function e(){t.f=setTimeout((function(){t.l=ju(t).then((function(e){0<e.length&&B(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ia=function(t){Y(this.a,(function(e){return e==t})),0==this.a.length&&Vu(this)},(t=Uu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){Y(this.a,(function(e){return e==t}))},(t=Fu.prototype).get=function(t){return Ne(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ne()},t.T=function(t){return delete this.a[t],Ne()},t.ca=function(){},t.ia=function(){},(t=qu.prototype).get=function(t){var e=this;return Ne().then((function(){return Fr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ne().then((function(){var r=Vr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ne().then((function(){e.a.removeItem(t)}))},t.ca=function(t){s.window&&fn(s.window,"storage",t)},t.ia=function(t){s.window&&dn(s.window,"storage",t)},(t=Hu.prototype).get=function(){return Ne(null)},t.set=function(){return Ne()},t.T=function(){return Ne()},t.ca=function(){},t.ia=function(){},(t=Bu.prototype).get=function(t){var e=this;return Ne().then((function(){return Fr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ne().then((function(){var r=Vr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ne().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Wu,Ju,Xu={D:qu,ab:Bu},Yu={D:qu,ab:Bu},$u={D:bu,ab:Hu},Qu={D:qu,ab:Hu},Zu={qd:"local",NONE:"none",sd:"session"};function tc(){var t=!(zr(Pr())||!_r()),e=jr(),n=Rr();this.v=t,this.i=e,this.l=n,this.a={},Wu||(Wu=new Ku),t=Wu;try{this.g=!fr()&&Wr()||!s.indexedDB?new t.a.D:new Uu(Er()?new Fu:new t.a.D)}catch(t){this.g=new Fu,this.i=!0}try{this.h=new t.a.ab}catch(t){this.h=new Fu}this.m=new Fu,this.f=I(this.Xb,this),this.b={}}function ec(){return Ju||(Ju=new tc),Ju}function nc(t,e){switch(e){case"session":return t.h;case"none":return t.m;default:return t.g}}function rc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ic(t,e,n){return n=rc(e,n),"local"==e.D&&(t.b[n]=null),nc(t,e.D).T(n)}function oc(t){t.c&&(clearInterval(t.c),t.c=null)}function ac(t){this.a=t,this.b=ec()}(t=tc.prototype).get=function(t,e){return nc(this,t.D).get(rc(t,e))},t.set=function(t,e,n){var r=rc(t,n),i=this,o=nc(this,t.D);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.D&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=rc(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),vt(this.a)&&(nc(this,"local").ca(this.f),this.i||(fr()||!Wr())&&s.indexedDB||!this.l||function(t){oc(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ze({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Xb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=rc(t,e),this.a[t]&&(Y(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),vt(this.a)&&(nc(this,"local").ia(this.f),oc(this))},t.Xb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?nc(this,"local").ia(this.f):oc(this),this.v)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.lb(e))},Yt&&ue&&10==ue&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else B(t,I(this.lb,this))},t.lb=function(t){this.a[t]&&B(this.a[t],(function(t){t()}))};var sc,uc={name:"authEvent",D:"local"};function cc(){this.a=ec()}function hc(t,e){this.b=fc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.h=t,this.i=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===sc&&(sc=s.Int32Array?new Int32Array(gc):gc),this.reset()}T(hc,(function(){this.b=-1}));for(var fc=64,lc=fc-1,pc=[],dc=0;dc<lc;dc++)pc[dc]=0;var vc=$(128,pc);function yc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],f=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var l=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&h^~c&f)+(0|sc[e])|0)+(0|n[e])|0)|0,o=f,f=h,h=c,c=u+a|0,u=s,s=i,i=r,r=a+l|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+f|0,t.a[7]=t.a[7]+o|0}function mc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(yc(t),i=0);else{if(!p(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(yc(t),i=0)}}t.c=i,t.g+=n}hc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.i):Q(this.i)};var gc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bc(){hc.call(this,8,wc)}T(bc,hc);var wc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ic(t,e,n,r,i,o){this.m=t,this.h=e,this.l=n,this.v=r||null,this.u=i||null,this.s=o,this.i=e+":"+n,this.A=new cc,this.g=new ac(this.i),this.f=null,this.b=[],this.a=this.c=null}function _c(t){return new S("invalid-cordova-configuration",t)}function Ec(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Tc(t){return t.f||(t.f=t.la().then((function(){return new _e((function(e){t.Ea((function n(r){return e(r),t.Ra(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Ac(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=ao(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Fr(Fn(o=qn(i),"firebaseError")||null))?k(o):null)?new zo(r.c,r.b,null,null,o,null,r.S()):new zo(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}Ec(t,i)}))}var n=new zo("unknown",null,null,null,new S("no-auth-event")),r=!1,i=xn(500).then((function(){return Ac(t).then((function(){r||Ec(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Dr("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Ko||(Ko=new Bo),function(t){var e=Ko;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Dr("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Ac(t){var e=null;return function(t){return t.b.get(uc,t.a).then((function(t){return Ho(t)}))}(t.g).then((function(n){return e=n,ic((n=t.g).b,uc,n.a)})).then((function(){return e}))}function Sc(t){this.a=t,this.b=ec()}(t=Ic.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(Ir(void 0)?wr().then((function(){return new _e((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Oe(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Dr("universalLinks.subscribe",s))throw _c("cordova-universal-links-plugin-fix is not installed");if(void 0===Dr("BuildInfo.packageName",s))throw _c("cordova-plugin-buildinfo is not installed");if("function"!=typeof Dr("cordova.plugins.browsertab.openUrl",s))throw _c("cordova-plugin-browsertab is not installed");if("function"!=typeof Dr("cordova.InAppBrowser.open",s))throw _c("cordova-plugin-inappbrowser is not installed")}),(function(){throw new S("cordova-not-ready")}))},t.Nb=function(t,e){return e(new S("operation-not-supported-in-this-environment")),Ne()},t.Lb=function(){return Oe(new S("operation-not-supported-in-this-environment"))},t.Zb=function(){return!1},t.Wb=function(){return!0},t.Sb=function(){return!0},t.Mb=function(t,e,n,r){if(this.c)return Oe(new S("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,h=null;return this.c=Ne().then((function(){return qo(e),Tc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new zo(e,r,null,o,new S("no-auth-event"),null,i),u=Dr("BuildInfo.packageName",s);if("string"!=typeof u)throw new S("invalid-cordova-configuration");var c=Dr("BuildInfo.displayName",s),h={};if(Pr().toLowerCase().match(/iphone|ipad|ipod/))h.ibi=u;else{if(!Pr().toLowerCase().match(/android/))return Oe(new S("operation-not-supported-in-this-environment"));h.apn=u}c&&(h.appDisplayName=c),o=function(t){var e=new bc;mc(e,t),t=[];var n=8*e.g;56>e.c?mc(e,vc,56-e.c):mc(e,vc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(yc(e),r=n=0;r<e.h;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return K(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),h.sessionId=o;var f=gu(t.m,t.h,t.l,e,n,null,r,t.v,h,t.u,i,t.s);return t.la().then((function(){var e=t.i;return t.A.a.set(uc,a.w(),e)})).then((function(){var e=Dr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new S("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Dr("cordova.plugins.browsertab.openUrl",s)))throw new S("invalid-cordova-configuration");n(f)}else{if("function"!=typeof(n=Dr("cordova.InAppBrowser.open",s)))throw new S("invalid-cordova-configuration");e=Pr(),t.a=n(f,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new _e((function(t,e){u=function(){var e=Dr("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=xn(2e3).then((function(){e(new S("redirect-cancelled-by-user"))})))},h=function(){Gr()&&c()},o.addEventListener("resume",c,!1),Pr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",h,!1)})).o((function(t){return Ac(i).then((function(){throw t}))}))})).na((function(){c&&o.removeEventListener("resume",c,!1),h&&o.removeEventListener("visibilitychange",h,!1),a&&a.cancel(),u&&i.Ra(u),i.c=null}))},t.Ea=function(t){this.b.push(t),Tc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new zo("unknown",null,null,null,new S("no-auth-event")),t(e))}))},t.Ra=function(t){Y(this.b,(function(e){return e==t}))};var kc={name:"pendingRedirect",D:"session"};function xc(t){return ic(t.b,kc,t.a)}function Nc(t,e,n,r){this.h={},this.u=0,this.O=t,this.m=e,this.v=n,this.G=r,this.i=[],this.f=!1,this.l=I(this.s,this),this.b=new Bc,this.A=new Xc,this.g=new Sc(zc(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=Oc(this.O,this.m,this.v,x,this.G)}function Oc(t,e,n,r,i){var o=Z.SDK_VERSION||null;return Ir()?new Ic(t,e,n,o,r,i):new du(t,e,n,o,r,i)}function Pc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.la().o((function(n){throw t.a==e&&t.reset(),n}))}function Dc(t){t.a.Wb()&&Pc(t).o((function(e){var n=new zo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Vc(e)&&t.s(n)})),t.a.Sb()||Gc(t.b)}function Rc(t,e){J(t.i,e)||t.i.push(e),t.f||function(t){return t.b.get(kc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?xc(t.g).then((function(){Pc(t).o((function(e){var n=new zo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Vc(e)&&t.s(n)}))})):Dc(t)})).o((function(){Dc(t)}))}function Cc(t,e){Y(t.i,(function(t){return t==e}))}Nc.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=Oc(this.O,this.m,this.v,null,this.G),this.h={}},Nc.prototype.s=function(t){if(!t)throw new S("invalid-auth-event");if(6e5<=E()-this.u&&(this.h={},this.u=0),t&&t.getUid()&&this.h.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.i.length;n++){var r=this.i[n];if(r.Eb(t.c,t.b)){(e=this.c[t.c])&&(e.i(t,r),t&&(t.f||t.b)&&(this.h[t.getUid()]=!0,this.u=E())),e=!0;break}}return Gc(this.b),e};var Lc=new Br(2e3,1e4),Mc=new Br(3e4,6e4);function jc(t,e,n,r,i,o,a){return t.a.Lb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function Vc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Uc(t,e,n,r,i){var o;return function(t){return t.b.set(kc,"pending",t.a)}(t.g).then((function(){return t.a.Mb(e,n,r,i).o((function(e){if(Vc(e))throw new S("operation-not-supported-in-this-environment");return o=e,xc(t.g).then((function(){throw o}))})).then((function(){return t.a.Zb()?new _e((function(){})):xc(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function Fc(t,e,n,r,i){return t.a.Nb(r,(function(t){e.ma(n,null,t,i)}),Lc.get())}Nc.prototype.qa=function(){return this.b.qa()};var qc={};function zc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Hc(t,e,n,r){var i=zc(e,n,r);return qc[i]||(qc[i]=new Nc(t,e,n,r)),qc[i]}function Bc(){this.b=null,this.f=[],this.c=[],this.a=null,this.h=this.g=!1}function Gc(t){t.g||(t.g=!0,Jc(t,!1,null,null))}function Kc(t){t.g&&!t.h&&Jc(t,!1,null,null)}function Wc(t,e){if(t.b=function(){return Ne(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Jc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Oe(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Wc(t,n):Wc(t,{user:null}),t.f=[],t.c=[]}function Xc(){}function Yc(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(t){this.hb=t},enumerable:!1})}function $c(t,e){this.a=e,Qr(this,"verificationId",t)}function Qc(t,e,n,r){return new Vo(t).eb(e,n).then((function(t){return new $c(t,r)}))}function Zc(t){var e=Ki(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new S("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Zr(this,{token:t,expirationTime:Kr(1e3*e.exp),authTime:Kr(1e3*e.auth_time),issuedAtTime:Kr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function th(t,e,n){var r=e&&e[nh];if(!r)throw new S("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=yt(e),this.g=n,this.c=new so(null,r),this.b=[];var i=this;B(e[eh]||[],(function(t){(t=ri(t))&&i.b.push(t)})),Qr(this,"auth",this.a),Qr(this,"session",this.c),Qr(this,"hints",this.b)}Bc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Bc.prototype.i=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.h=!(!i&&!o),"unknown"!=n||i||o?t.a?(Jc(this,!0,null,t.a),Ne()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.h,a=e.S(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){Jc(t,s,e,null)})).o((function(e){Jc(t,s,null,e)}))}(this,t,e):Oe(new S("invalid-auth-event")):(Jc(this,!1,null,null),Ne())}else Oe(new S("invalid-auth-event"))},Bc.prototype.qa=function(){var t=this;return new _e((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new S("timeout");t.a&&t.a.cancel(),t.a=xn(Mc.get()).then((function(){t.b||(t.g=!0,Jc(t,!0,null,e))}))}(t))}))},Xc.prototype.i=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ma(t.c,null,t.a,t.b),Ne()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.S(),t.h).then((function(t){e.ma(r,t,null,n)})).o((function(t){e.ma(r,null,t,n)}))}(t,e):Oe(new S("invalid-auth-event"))}else Oe(new S("invalid-auth-event"))},$c.prototype.confirm=function(t){return t=Uo(this.verificationId,t),this.a(t)};var eh="mfaInfo",nh="mfaPendingCredential";function rh(t,e,n,r){S.call(this,"multi-factor-auth-required",r,e),this.b=new th(t,e,n),Qr(this,"resolver",this.b)}function ih(t,e,n){if(t&&v(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new rh(e,t.serverResponse,n,t.message)}catch(t){}return null}function oh(){}function ah(t){Qr(this,"factorId",t.fa),this.a=t}function sh(t){if(ah.call(this,t),this.a.fa!=Vo.PROVIDER_ID)throw new S("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function uh(t,e){for(var n in Qe.call(this,t),e)this[n]=e[n]}function ch(t,e){this.a=t,this.b=[],this.c=I(this.xc,this),fn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&B(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ai]=t.uid),t.displayName&&(r[ii]=t.displayName),t.enrollmentTime&&(r[oi]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[si]=t.phoneNumber);try{e=new ui(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),hh(this,n)}function hh(t,e){t.b=e,Qr(t,"enrolledFactors",e)}function fh(t,e,n){if(this.i=t,this.h=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function lh(t,e){t.stop(),t.b=xn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=s.document,e=null;return Gr()||!t?Ne():new _e((function(n){e=function(){Gr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.i()})).then((function(){lh(t,!0)})).o((function(e){t.h(e)&&lh(t,!1)}))}function ph(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function dh(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function vh(t,e){t.b=Gi(e[Za]||""),t.a=e.refreshToken,dh(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function yh(t,e){this.a=t||null,this.b=e||null,Zr(this,{lastSignInTime:Kr(e||null),creationTime:Kr(t||null)})}function mh(t,e,n,r,i,o){Zr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function gh(t,e,n){this.G=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=Z.SDK_VERSION?Or(Z.SDK_VERSION):null;this.a=new $a(this.l,D(x),r),t.emulatorConfig&&os(this.a,t.emulatorConfig),this.b=new ph(this.a),Sh(this,e[Za]),vh(this.b,e),Qr(this,"refreshToken",this.b.a),Nh(this,n||{}),En.call(this),this.P=!1,this.s&&Cr()&&(this.h=Hc(this.s,this.l,this.m)),this.R=[],this.f=null,this.u=function(t){return new fh((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.$=I(this.gb,this);var i=this;this.pa=null,this.Ba=function(t){i.wa(t.i)},this.ba=null,this.za=function(t){os(i.a,t.c)},this.W=null,this.X=[],this.Aa=function(t){Ih(i,t.f)},this.aa=null,this.N=new ch(this,n),Qr(this,"multiFactor",this.N)}function bh(t,e){t.ba&&dn(t.ba,"languageCodeChanged",t.Ba),(t.ba=e)&&fn(e,"languageCodeChanged",t.Ba)}function wh(t,e){t.W&&dn(t.W,"emulatorConfigChanged",t.za),(t.W=e)&&fn(e,"emulatorConfigChanged",t.za)}function Ih(t,e){t.X=e,ss(t.a,Z.SDK_VERSION?Or(Z.SDK_VERSION,t.X):null)}function _h(t,e){t.aa&&dn(t.aa,"frameworkChanged",t.Aa),(t.aa=e)&&fn(e,"frameworkChanged",t.Aa)}function Eh(t){try{return Z.app(t.m).auth()}catch(e){throw new S("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Th(t){t.A||t.u.b||(t.u.start(),dn(t,"tokenChanged",t.$),fn(t,"tokenChanged",t.$))}function Ah(t){dn(t,"tokenChanged",t.$),t.u.stop()}function Sh(t,e){t.ya=e,Qr(t,"_lat",e)}function kh(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return De(e).then((function(){return t}))}function xh(t){t.h&&!t.P&&(t.P=!0,Rc(t.h,t))}function Nh(t,e){Zr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new yh(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Oh(){}function Ph(t){return Ne().then((function(){if(t.A)throw new S("app-deleted")}))}function Dh(t){return K(t.providerData,(function(t){return t.providerId}))}function Rh(t,e){e&&(Ch(t,e.providerId),t.providerData.push(e))}function Ch(t,e){Y(t.providerData,(function(t){return t.providerId==e}))}function Lh(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Qr(t,e,n)}function Mh(t,e){t!=e&&(Zr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Qr(t,"metadata",function(t){return new yh(t.a,t.b)}(e.metadata)):Qr(t,"metadata",new yh),B(e.providerData,(function(e){Rh(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Qr(t,"refreshToken",t.b.a),hh(t.N,e.N.b))}function jh(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return ru(t.a,Cs,{idToken:e}).then(I(t.Jc,t))}(t,e).then((function(){return n||Lh(t,"isAnonymous",!1),e}))}))}function Vh(t,e){e[Za]&&t.ya!=e[Za]&&(vh(t.b,e),t.dispatchEvent(new uh("tokenChanged")),Sh(t,e[Za]),Lh(t,"refreshToken",t.b.a))}function Uh(t,e){return jh(t).then((function(){if(J(Dh(t),e))return kh(t).then((function(){throw new S("provider-already-linked")}))}))}function Fh(t,e,n){return ti({user:t,credential:Fo(e),additionalUserInfo:e=$i(e),operationType:n})}function qh(t,e){return Vh(t,e),t.reload().then((function(){return t}))}function zh(t,e,n,r,i){if(!Cr())return Oe(new S("operation-not-supported-in-this-environment"));if(t.f&&!i)return Oe(t.f);var o=Yi(n.providerId),a=qr(t.uid+":::"),s=null;(!jr()||_r())&&t.s&&n.isOAuthProvider&&(s=gu(t.s,t.l,t.m,e,n,null,a,Z.SDK_VERSION||null,null,null,t.tenantId));var u=mr(s,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Bh(t),!i)return t.I().then((function(){}))})).then((function(){return jc(t.h,u,e,n,a,!!s,t.tenantId)})).then((function(){return new _e((function(n,r){t.ma(e,null,new S("cancelled-popup-request"),t.i||null),t.g=n,t.O=r,t.i=a,t.c=Fc(t.h,t,e,u,a)}))})).then((function(t){return u&&yr(u),t?ti(t):null})).o((function(t){throw u&&yr(u),t})),Gh(t,r,i)}function Hh(t,e,n,r,i){if(!Cr())return Oe(new S("operation-not-supported-in-this-environment"));if(t.f&&!i)return Oe(t.f);var o=null,a=qr(t.uid+":::");return r=r().then((function(){if(Bh(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,kh(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Jh,t.w(),e.a)),e})).then((function(){return Uc(t.h,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ha)return Xh(t.ha);throw o})).then((function(){if(o)throw o})),Gh(t,r,i)}function Bh(t){if(!t.h||!t.P){if(t.h&&!t.P)throw new S("internal-error");throw new S("auth-domain-config-required")}}function Gh(t,e,n){var r=function(t,e,n){return t.f&&!n?(e.cancel(),Oe(t.f)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.f||t.dispatchEvent(new uh("userInvalidated")),t.f=e),e}))}(t,e,n);return t.G.push(r),r.na((function(){X(t.G,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ih(e.w(),Eh(t),I(t.ic,t))),n||e}))}function Kh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Za]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new gh(e,n,t);return t.providerData&&B(t.providerData,(function(t){t&&Rh(i,ti(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Wh(t){this.a=t,this.b=ec()}th.prototype.Qc=function(t){var e=this;return t.rb(this.a.a,this.c).then((function(t){var n=yt(e.f);return delete n[eh],delete n[nh],gt(n,t),e.g(n)}))},T(rh,S),oh.prototype.rb=function(t,e,n){return e.type==uo?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),gt(n,{phoneVerificationInfo:jo(t.a)}),ru(e,Ds,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return gt(n={mfaPendingCredential:n},{phoneVerificationInfo:jo(t.a)}),ru(e,Rs,n)}))}(this,t,e)},T(ah,oh),T(sh,ah),T(uh,Qe),(t=ch.prototype).xc=function(t){hh(this,function(t){var e=[];return B(t.mfaInfo||[],(function(t){(t=ri(t))&&e.push(t)})),e}(t.gd))},t.Qb=function(){return this.a.I().then((function(t){return new so(t,null)}))},t.ec=function(t,e){var n=this,r=this.a.a;return this.Qb().then((function(n){return t.rb(r,n,e)})).then((function(t){return Vh(n.a,t),n.a.reload()}))},t.ad=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return ru(r,nu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=G(e.b,(function(t){return t.uid!=n}));return hh(e,r),Vh(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:K(this.b,(function(t){return t.w()}))}}},fh.prototype.start=function(){this.a=this.c,lh(this,!0)},fh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ph.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},ph.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Oe(new S("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new _e((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?us(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(ou(t)):t.access_token&&t.refresh_token?n(t):r(new S("internal-error")):r(new S("network-request-failed"))}),"POST",Zn(e).toString(),t.g,t.v.get()):r(new S("internal-error"))}))}(t.f,e).then((function(e){return t.b=Gi(e.access_token),t.a=e.refresh_token,dh(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Ne(null):Ne({accessToken:this.b.toString(),refreshToken:this.a})},yh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(gh,En),gh.prototype.wa=function(t){this.pa=t,is(this.a,t)},gh.prototype.ka=function(){return this.pa},gh.prototype.Ga=function(){return Q(this.X)},gh.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},Qr(gh.prototype,"providerId","firebase"),(t=gh.prototype).reload=function(){var t=this;return Gh(this,Ph(this).then((function(){return jh(t).then((function(){return kh(t)})).then(Oh)})))},t.nc=function(t){return this.I(t).then((function(t){return new Zc(t)}))},t.I=function(t){var e=this;return Gh(this,Ph(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new S("internal-error");return t.accessToken!=e.ya&&(Sh(e,t.accessToken),e.dispatchEvent(new uh("tokenChanged"))),Lh(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Jc=function(t){if(!(t=t.users)||!t.length)throw new S("internal-error");Nh(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?K(t,(function(t){return new mh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Rh(this,e[n]);Lh(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new uh("userReloaded",{gd:t}))},t.Kc=function(t){return Yr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(t)},t.sb=function(t){var e=this,n=null;return Gh(this,t.c(this.a,this.uid).then((function(t){return Vh(e,t),n=Fh(e,t,"reauthenticate"),e.f=null,e.reload()})).then((function(){return n})),!0)},t.Bc=function(t){return Yr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Gh(this,Uh(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Fh(e,t,"link"),qh(e,t)})).then((function(){return n})))},t.Cc=function(t,e){var n=this;return Gh(this,Uh(this,"phone").then((function(){return Qc(Eh(n),t,e,I(n.pb,n))})))},t.Lc=function(t,e){var n=this;return Gh(this,Ne().then((function(){return Qc(Eh(n),t,e,I(n.sb,n))})),!0)},t.Ab=function(t){var e=this;return Gh(this,this.I().then((function(n){return e.a.Ab(n,t)})).then((function(t){return Vh(e,t),e.reload()})))},t.dd=function(t){var e=this;return Gh(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Vh(e,t),e.reload()})))},t.Bb=function(t){var e=this;return Gh(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Vh(e,t),e.reload()})))},t.Cb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Ph(this);var e=this;return Gh(this,this.I().then((function(n){return e.a.Cb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Vh(e,t),Lh(e,"displayName",t.displayName||null),Lh(e,"photoURL",t.photoUrl||null),B(e.providerData,(function(t){"password"===t.providerId&&(Qr(t,"displayName",e.displayName),Qr(t,"photoURL",e.photoURL))})),kh(e)})).then(Oh))},t.bd=function(t){var e=this;return Gh(this,jh(this).then((function(n){return J(Dh(e),t)?function(t,e,n){return ru(t,Ns,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return B(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),B(Dh(e),(function(t){n[t]||Ch(e,t)})),n[Vo.PROVIDER_ID]||Qr(e,"phoneNumber",null),kh(e)})):kh(e).then((function(){throw new S("no-such-provider")}))})))},t.delete=function(){var t=this;return Gh(this,this.I().then((function(e){return ru(t.a,xs,{idToken:e})})).then((function(){t.dispatchEvent(new uh("userDeleted"))}))).then((function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");bh(t,null),wh(t,null),_h(t,null),t.G=[],t.A=!0,Ah(t),Qr(t,"refreshToken",null),t.h&&Cc(t.h,t)}))},t.Eb=function(t,e){return!!("linkViaPopup"==t&&(this.i||null)==e&&this.g||"reauthViaPopup"==t&&(this.i||null)==e&&this.g||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.ma=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.i||null)||(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.i||null)?I(this.Jb,this):"reauthViaPopup"==t&&e==(this.i||null)?I(this.Kb,this):"linkViaRedirect"==t&&(this.ga||null)==e?I(this.Jb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?I(this.Kb,this):null},t.Dc=function(t){var e=this;return zh(this,"linkViaPopup",t,(function(){return Uh(e,t.providerId).then((function(){return kh(e)}))}),!1)},t.Mc=function(t){return zh(this,"reauthViaPopup",t,(function(){return Ne()}),!0)},t.Ec=function(t){var e=this;return Hh(this,"linkViaRedirect",t,(function(){return Uh(e,t.providerId)}),!1)},t.Nc=function(t){return Hh(this,"reauthViaRedirect",t,(function(){return Ne()}),!0)},t.Jb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Gh(this,this.I().then((function(n){return Is(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Fh(i,t,"link"),qh(i,t)})).then((function(){return o})))},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Gh(this,Ne().then((function(){return fo(_s(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Fh(i,t,"reauthenticate"),Vh(i,t),i.f=null,i.reload()})).then((function(){return o})),!0)},t.tb=function(t){var e=this,n=null;return Gh(this,this.I().then((function(e){return n=e,void 0===t||vt(t)?{}:zi(new Di(t))})).then((function(t){return e.a.tb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Db=function(t,e){var n=this,r=null;return Gh(this,this.I().then((function(t){return r=t,void 0===e||vt(e)?{}:zi(new Di(e))})).then((function(e){return n.a.Db(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.ic=function(t){var e=null,n=this;return Gh(this,t=fo(Ne(t),n.uid).then((function(t){return e=Fh(n,t,"reauthenticate"),Vh(n,t),n.f=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&gt(t,this.metadata.w()),B(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),gt(t,this.N.w()),t};var Jh={name:"redirectUser",D:"session"};function Xh(t){return ic(t.b,Jh,t.a)}function Yh(t){this.a=t,this.b=ec(),this.c=null,this.f=function(t){var e=Zh("local"),n=Zh("session"),r=Zh("none");return function(t,e,n){var r=rc(e,n),i=nc(t,e.D);return t.get(e,n).then((function(o){var a=null;try{a=Fr(s.localStorage.getItem(r))}catch(t){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Qh,t.a).then((function(t){return t?Zh(t):e}))}))}))})).then((function(e){return t.c=e,$h(t,e.D)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Zh("local"),this.a,I(this.g,this))}function $h(t,e){var n,r=[];for(n in Zu)Zu[n]!==e&&r.push(ic(t.b,Zh(Zu[n]),t.a));return r.push(ic(t.b,Qh,t.a)),function(t){return new _e((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Pe(t[s],_(o,s),a);else e(i)}))}(r)}Yh.prototype.g=function(){var t=this,e=Zh("local");rf(this,(function(){return Ne().then((function(){return t.c&&"local"!=t.c.D?t.b.get(e,t.a):null})).then((function(n){if(n)return $h(t,"local").then((function(){t.c=e}))}))}))};var Qh={name:"persistence",D:"session"};function Zh(t){return{name:"authUser",D:t}}function tf(t,e){return rf(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function ef(t){return rf(t,(function(){return ic(t.b,t.c,t.a)}))}function nf(t,e,n){return rf(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Kh(t||{})}))}))}function rf(t,e){return t.f=t.f.then(e,e),t.f}function of(t){if(this.m=!1,Qr(this,"settings",new Yc),Qr(this,"app",t),!pf(this).options||!pf(this).options.apiKey)throw new S("invalid-api-key");t=Z.SDK_VERSION?Or(Z.SDK_VERSION):null,this.a=new $a(pf(this).options&&pf(this).options.apiKey,D(x),t),this.R=[],this.u=[],this.P=[],this.ac=Z.INTERNAL.createSubscribe(I(this.yc,this)),this.X=void 0,this.bc=Z.INTERNAL.createSubscribe(I(this.zc,this)),ff(this,null),this.l=new Yh(pf(this).options.apiKey+":"+pf(this).name),this.G=new Wh(pf(this).options.apiKey+":"+pf(this).name),this.$=mf(this,function(t){var e=pf(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Jh,t.a).then((function(t){return t&&e&&(t.authDomain=e),Kh(t||{})}))}(t.G,pf(t).options.authDomain).then((function(e){return(t.s=e)&&(e.ha=t.G),Xh(t.G)}));return mf(t,e)}(t).then((function(){return nf(t.l,e,t.f)})).then((function(e){return e?(e.ha=t.G,t.s&&(t.s.ga||null)==(e.ga||null)?e:e.reload().then((function(){return tf(t.l,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:ef(t.l)}))):null})).then((function(e){ff(t,e||null)}));return mf(t,n)}(this)),this.h=mf(this,function(t){return t.$.then((function(){return hf(t)})).o((function(){})).then((function(){if(!t.m)return t.pa()})).o((function(){})).then((function(){if(!t.m){t.ba=!0;var e=t.l;e.b.addListener(Zh("local"),e.a,t.pa)}}))}(this)),this.ba=!1,this.pa=I(this.Yc,this),this.Ba=I(this.da,this),this.ya=I(this.kc,this),this.za=I(this.vc,this),this.Aa=I(this.wc,this),this.b=null,function(t){var e=pf(t).options.authDomain,n=pf(t).options.apiKey;e&&Cr()&&(t.gb=t.$.then((function(){if(!t.m){if(t.b=Hc(e,n,pf(t).name,t.f),Rc(t.b,t),df(t)&&xh(df(t)),t.s){xh(t.s);var r=t.s;r.wa(t.ka()),bh(r,t),Ih(r=t.s,t.N),_h(r,t),os((r=t.s).a,t.f),wh(r,t),t.s=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=I(this.delete,this),this.INTERNAL.logFramework=I(this.Fc,this),this.A=0,En.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ka()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.xb(t)},enumerable:!1}),t.W=null}(this),this.N=[],this.f=null}function af(t){Qe.call(this,"languageCodeChanged"),this.i=t}function sf(t){Qe.call(this,"emulatorConfigChanged"),this.c=t}function uf(t){Qe.call(this,"frameworkChanged"),this.f=t}function cf(t){return t.gb||Oe(new S("auth-domain-config-required"))}function hf(t){if(!Cr())return Oe(new S("operation-not-supported-in-this-environment"));var e=cf(t).then((function(){return t.b.qa()})).then((function(t){return t?ti(t):null}));return mf(t,e)}function ff(t,e){df(t)&&(function(t,e){Y(t.R,(function(t){return t==e}))}(df(t),t.Ba),dn(df(t),"tokenChanged",t.ya),dn(df(t),"userDeleted",t.za),dn(df(t),"userInvalidated",t.Aa),Ah(df(t))),e&&(e.R.push(t.Ba),fn(e,"tokenChanged",t.ya),fn(e,"userDeleted",t.za),fn(e,"userInvalidated",t.Aa),0<t.A&&Th(e)),Qr(t,"currentUser",e),e&&(e.wa(t.ka()),bh(e,t),Ih(e,t.N),_h(e,t),os(e.a,t.f),wh(e,t))}function lf(t,e){var n=null,r=null;return mf(t,e.then((function(e){return n=Fo(e),r=$i(e),function(t,e){var n={};return n.apiKey=pf(t).options.apiKey,n.authDomain=pf(t).options.authDomain,n.appName=pf(t).name,t.f&&(n.emulatorConfig=t.f),t.$.then((function(){return function(t,e,n,r){var i=new gh(t,e);return n&&(i.ha=n),r&&Ih(i,r),i.reload().then((function(){return i}))}(n,e,t.G,t.Ga())})).then((function(e){return df(t)&&e.uid==df(t).uid?(Mh(df(t),e),t.da(e)):(ff(t,e),xh(e),t.da(e))})).then((function(){yf(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ih(e.w(),t,I(t.jc,t))),n||e})).then((function(){return ti({user:df(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function pf(t){return t.app}function df(t){return t.currentUser}function vf(t){return df(t)&&df(t)._lat||null}function yf(t){if(t.ba){for(var e=0;e<t.u.length;e++)t.u[e]&&t.u[e](vf(t));if(t.X!==t.getUid()&&t.P.length)for(t.X=t.getUid(),e=0;e<t.P.length;e++)t.P[e]&&t.P[e](vf(t))}}function mf(t,e){return t.R.push(e),e.na((function(){X(t.R,e)})),e}function gf(){}function bf(){this.a={},this.b=1e12}Yh.prototype.wb=function(t){var e=null,n=this;return function(t){var e=new S("invalid-persistence-type"),n=new S("unsupported-persistence-type");t:{for(r in Zu)if(Zu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Tr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Du()&&"none"!==t)throw n;break;default:if(!Rr()&&"none"!==t)throw n}}(t),rf(this,(function(){return t!=n.c.D?n.b.get(n.c,n.a).then((function(r){return e=r,$h(n,t)})).then((function(){if(n.c=Zh(t),e)return n.b.set(n.c,e,n.a)})):Ne()}))},T(of,En),T(af,Qe),T(sf,Qe),T(uf,Qe),(t=of.prototype).wb=function(t){return mf(this,t=this.l.wb(t))},t.wa=function(t){this.aa===t||this.m||(this.aa=t,is(this.a,this.aa),this.dispatchEvent(new af(this.ka())))},t.ka=function(){return this.aa},t.ed=function(){var t=s.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.fd=function(t,e){if(!this.f){if(!/^https?:\/\//.test(t))throw new S("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");!function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&wr().then((function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)}))}(!!e&&!!e.disableWarnings),this.f={url:t},this.settings.hb=!0,os(this.a,this.f),this.dispatchEvent(new sf(this.f))}},t.Fc=function(t){this.N.push(t),ss(this.a,Z.SDK_VERSION?Or(Z.SDK_VERSION,this.N):null),this.dispatchEvent(new uf(this.N))},t.Ga=function(){return Q(this.N)},t.xb=function(t){this.W===t||this.m||(this.W=t,this.a.b=this.W)},t.S=function(){return this.W},t.toJSON=function(){return{apiKey:pf(this).options.apiKey,authDomain:pf(this).options.authDomain,appName:pf(this).name,currentUser:df(this)&&df(this).w()}},t.Eb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.i==e&&!!this.g;default:return!1}},t.ma=function(t,e,n,r){"signInViaPopup"==t&&this.i==r&&(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.i==e&&this.g?I(this.hc,this):null},t.hc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return lf(i,ws(i.a,o))}))},t.Wc=function(t){if(!Cr())return Oe(new S("operation-not-supported-in-this-environment"));var e=this,n=Yi(t.providerId),r=qr(),i=null;(!jr()||_r())&&pf(this).options.authDomain&&t.isOAuthProvider&&(i=gu(pf(this).options.authDomain,pf(this).options.apiKey,pf(this).name,"signInViaPopup",t,null,r,Z.SDK_VERSION||null,null,null,this.S(),this.f));var o=mr(i,n&&n.ua,n&&n.ta);return mf(this,n=cf(this).then((function(n){return jc(n,o,"signInViaPopup",t,r,!!i,e.S())})).then((function(){return new _e((function(t,n){e.ma("signInViaPopup",null,new S("cancelled-popup-request"),e.i),e.g=t,e.O=n,e.i=r,e.c=Fc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&yr(o),t?ti(t):null})).o((function(t){throw o&&yr(o),t})))},t.Xc=function(t){if(!Cr())return Oe(new S("operation-not-supported-in-this-environment"));var e=this;return mf(this,cf(this).then((function(){return function(t){return rf(t,(function(){return t.b.set(Qh,t.c.D,t.a)}))}(e.l)})).then((function(){return Uc(e.b,"signInViaRedirect",t,void 0,e.S())})))},t.qa=function(){var t=this;return hf(this).then((function(e){return t.b&&Kc(t.b.b),e})).o((function(e){throw t.b&&Kc(t.b.b),e}))},t.cd=function(t){if(!t)return Oe(new S("null-user"));if(this.W!=t.tenantId)return Oe(new S("tenant-id-mismatch"));var e=this,n={};n.apiKey=pf(this).options.apiKey,n.authDomain=pf(this).options.authDomain,n.appName=pf(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Za]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new gh(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Ih(e,r),Mh(e,t),e}(t,n,e.G,e.Ga());return mf(this,this.h.then((function(){if(pf(e).options.apiKey!=t.l)return r.reload()})).then((function(){return df(e)&&t.uid==df(e).uid?(Mh(df(e),t),e.da(t)):(ff(e,r),xh(r),e.da(r))})).then((function(){yf(e)})))},t.zb=function(){var t=this;return mf(this,this.h.then((function(){return t.b&&Kc(t.b.b),df(t)?(ff(t,null),ef(t.l).then((function(){yf(t)}))):Ne()})))},t.Yc=function(){var t=this;return nf(this.l,pf(this).options.authDomain).then((function(e){if(!t.m){var n;if(n=df(t)&&e){n=df(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Mh(df(t),e),df(t).I();(df(t)||e)&&(ff(t,e),e&&(xh(e),e.ha=t.G),t.b&&Rc(t.b,t),yf(t))}}))},t.da=function(t){return tf(this.l,t)},t.kc=function(){yf(this),this.da(df(this))},t.vc=function(){this.zb()},t.wc=function(){this.zb()},t.jc=function(t){var e=this;return this.h.then((function(){return lf(e,Ne(t))}))},t.yc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(df(e))}))},t.zc=function(t){var e=this;!function(t,e){t.P.push(e),mf(t,t.h.then((function(){!t.m&&J(t.P,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(vf(t)))})))}(this,(function(){t.next(df(e))}))},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(df(r)):"function"==typeof t.next&&t.next(df(r))})),this.ac(t,e,n)},t.Gc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(df(r)):"function"==typeof t.next&&t.next(df(r))})),this.bc(t,e,n)},t.mc=function(t){var e=this;return mf(this,this.h.then((function(){return df(e)?df(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Sc=function(t){var e=this;return this.h.then((function(){return lf(e,ru(e.a,$s,{token:t}))})).then((function(t){var n=t.user;return Lh(n,"isAnonymous",!1),e.da(n),t}))},t.Tc=function(t,e){var n=this;return this.h.then((function(){return lf(n,ru(n.a,Qs,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return lf(n,ru(n.a,Ss,{email:t,password:e}))}))},t.Za=function(t){var e=this;return this.h.then((function(){return lf(e,t.ja(e.a))}))},t.Rc=function(t){return Yr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(t)},t.yb=function(){var t=this;return this.h.then((function(){var e=df(t);if(e&&e.isAnonymous){var n=ti({providerId:null,isNewUser:!1});return ti({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return lf(t,t.a.yb()).then((function(e){var n=e.user;return Lh(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return df(this)&&df(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.A++,0<this.A&&df(this)&&Th(df(this))},t.Oc=function(t){var e=this;B(this.u,(function(n){n==t&&e.A--})),0>this.A&&(this.A=0),0==this.A&&df(this)&&Ah(df(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.u.push(t),mf(this,this.h.then((function(){e.m||J(e.u,t)&&t(vf(e))})))},t.removeAuthTokenListener=function(t){Y(this.u,(function(e){return e==t}))},t.delete=function(){this.m=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.l&&(t=this.l).b.removeListener(Zh("local"),t.a,this.pa),this.b&&(Cc(this.b,this),Kc(this.b.b)),Promise.resolve()},t.gc=function(t){return mf(this,function(t,e){return ru(t,ks,{identifier:e,continueUri:Lr()?lr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Ac=function(t){return!!Co(t)},t.vb=function(t,e){var n=this;return mf(this,Ne().then((function(){var t=new Di(e);if(!t.c)throw new S("argument-error",Li+" must be true when sending sign in link to email");return zi(t)})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.hd=function(t){return this.Qa(t).then((function(t){return t.data.email}))},t.mb=function(t,e){return mf(this,this.a.mb(t,e).then((function(){})))},t.Qa=function(t){return mf(this,this.a.Qa(t).then((function(t){return new ci(t)})))},t.ib=function(t){return mf(this,this.a.ib(t).then((function(){})))},t.ub=function(t,e){var n=this;return mf(this,Ne().then((function(){return void 0===e||vt(e)?{}:zi(new Di(e))})).then((function(e){return n.a.ub(t,e)})).then((function(){})))},t.Vc=function(t,e){return mf(this,Qc(this,t,e,I(this.Za,this)))},t.Uc=function(t,e){var n=this;return mf(this,Ne().then((function(){var r=e||lr(),i=Ro(t,r);if(!(r=Co(r)))throw new S("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new S("tenant-id-mismatch");return n.Za(i)})))},gf.prototype.render=function(){},gf.prototype.reset=function(){},gf.prototype.getResponse=function(){},gf.prototype.execute=function(){};var wf=null;function If(t,e){return(e=_f(e))&&t.a[e]||null}function _f(t){return(t=void 0===t?1e12:t)?t.toString():null}function Ef(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.i="invisible"!==this.c.size,this.f=he(t);var n=this;this.h=function(){n.execute()},this.i?this.execute():fn(this.f,"click",this.h)}function Tf(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Af(){}function Sf(){}bf.prototype.render=function(t,e){return this.a[this.b.toString()]=new Ef(t,e),this.b++},bf.prototype.reset=function(t){var e=If(this,t);t=_f(t),e&&t&&(e.delete(),delete this.a[t])},bf.prototype.getResponse=function(t){return(t=If(this,t))?t.getResponse():null},bf.prototype.execute=function(t){(t=If(this,t))&&t.execute()},Ef.prototype.getResponse=function(){return Tf(this),this.b},Ef.prototype.execute=function(){Tf(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.i&&t.execute()}),6e4)}),500))},Ef.prototype.delete=function(){Tf(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.h)},Qr(Af,"FACTOR_ID","phone"),Sf.prototype.g=function(){return wf||(wf=new bf),Ne(wf)},Sf.prototype.c=function(){};var kf=null;function xf(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Nf=new wt(Tt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Of=new Br(3e4,6e4);xf.prototype.g=function(t){var e=this;return new _e((function(n,r){var i=setTimeout((function(){r(new S("network-request-failed"))}),Of.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new S("internal-error"));delete s[e.a]},Ne(Ba(xt(Nf,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new S("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},xf.prototype.c=function(){this.b--};var Pf=null;function Df(t,e,n,r,i,o,a){if(Qr(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=e,this.g=null,a?(kf||(kf=new Sf),a=kf):(Pf||(Pf=new xf),a=Pf),this.v=a,this.a=n||{theme:"light",type:"image"},this.i=[],this.a[Lf])throw new S("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.h="invisible"===this.a[Mf],!s.document)throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!he(e)||!this.h&&he(e).hasChildNodes())throw new S("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new $a(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Rf];this.a[Rf]=function(t){if(jf(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Dr(c,s);"function"==typeof e&&e(t)}};var h=this.a[Cf];this.a[Cf]=function(){if(jf(u,null),"function"==typeof h)h();else if("string"==typeof h){var t=Dr(h,s);"function"==typeof t&&t()}}}var Rf="callback",Cf="expired-callback",Lf="sitekey",Mf="size";function jf(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Vf(t,e){return t.i.push(e),e.na((function(){X(t.i,e)})),e}function Uf(t){if(t.A)throw new S("internal-error","RecaptchaVerifier instance has been destroyed.")}function Ff(t,e,n){var r=!1;try{this.b=n||Z.app()}catch(t){throw new S("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new S("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=Z.SDK_VERSION?Or(Z.SDK_VERSION,o):null,Df.call(this,n,t,e,(function(){try{var t=i.b.auth().ka()}catch(e){t=null}return t}),o,D(x),r)}function qf(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new S("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=zf.length)throw new S("internal-error","Argument validator received an unsupported number of arguments.");n=zf[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new S("argument-error",t+" failed: "+r)}(t=Df.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Vf(this,Ne().then((function(){if(Lr()&&!Er())return wr();throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.v.g(t.u())})).then((function(e){return t.g=e,ru(t.s,Fs,{})})).then((function(e){t.a[Lf]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Uf(this);var t=this;return Vf(this,this.Ia().then((function(){if(null===t.c){var e=t.m;if(!t.h){var n=he(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ce&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Gt(a.name),'"'),a.type){o.push(' type="',Gt(a.type),'"');var s={};gt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=ye(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):fe(o,a)),2<r.length&&ve(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Uf(this);var t=this;return Vf(this,this.render().then((function(e){return new _e((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){Y(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.h&&t.g.execute(t.c)}}))})))},t.reset=function(){Uf(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Uf(this),this.A=!0,this.v.c();for(var t=0;t<this.i.length;t++)this.i[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.h){t=he(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},T(Ff,Df);var zf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Hf(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Bf(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Gf(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:v}}function Kf(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function Wf(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Jf(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ja||!n)}}}function Xf(t,e){return v(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Yf(t){return v(t)&&"string"==typeof t.uid}function $f(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Qf(t,e){for(var n in e){var r=e[n].name;t[r]=el(r,t[n],e[n].j)}}function Zf(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:_((function(t){return this[t]}),n),set:_((function(t,e,n,r){qf(t,[n],[r],!0),this[e]=r}),r,n,e[n].jb),enumerable:!0})}}function tl(t,e,n,r){t[e]=el(e,n,r)}function el(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return qf(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Qf(of.prototype,{ib:{name:"applyActionCode",j:[Hf("code")]},Qa:{name:"checkActionCode",j:[Hf("code")]},mb:{name:"confirmPasswordReset",j:[Hf("code"),Hf("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Hf("email"),Hf("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Hf("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Hf("emailLink")]},Gc:{name:"onAuthStateChanged",j:[$f(Gf(),Kf(),"nextOrObserver"),Kf("opt_error",!0),Kf("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[$f(Gf(),Kf(),"nextOrObserver"),Kf("opt_error",!0),Kf("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Hf("email"),$f(Gf("opt_actionCodeSettings",!0),Wf(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Hf("email"),Gf("actionCodeSettings")]},wb:{name:"setPersistence",j:[Hf("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[Jf()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[Jf()]},Sc:{name:"signInWithCustomToken",j:[Hf("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Hf("email"),Hf("password")]},Uc:{name:"signInWithEmailLink",j:[Hf("email"),Hf("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Hf("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[$f({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof gh)}},Wf(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Hf(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Hf("url"),Gf("options",!0)]},hd:{name:"verifyPasswordResetCode",j:[Hf("code")]}}),Zf(of.prototype,{lc:{name:"languageCode",jb:$f(Hf(),Wf(),"languageCode")},ti:{name:"tenantId",jb:$f(Hf(),Wf(),"tenantId")}}),of.Persistence=Zu,of.Persistence.LOCAL="local",of.Persistence.SESSION="session",of.Persistence.NONE="none",Qf(gh.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[Bf("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Bf("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[Jf()]},pb:{name:"linkWithCredential",j:[Jf()]},Cc:{name:"linkWithPhoneNumber",j:[Hf("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Jf()]},sb:{name:"reauthenticateWithCredential",j:[Jf()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Hf("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[$f(Gf("opt_actionCodeSettings",!0),Wf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Hf(null,!0)]},bd:{name:"unlink",j:[Hf("provider")]},Ab:{name:"updateEmail",j:[Hf("email")]},Bb:{name:"updatePassword",j:[Hf("password")]},dd:{name:"updatePhoneNumber",j:[Jf("phone")]},Cb:{name:"updateProfile",j:[Gf("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Hf("email"),$f(Gf("opt_actionCodeSettings",!0),Wf(null,!0),"opt_actionCodeSettings",!0)]}}),Qf(bf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qf(gf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qf(_e.prototype,{na:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Zf(Yc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:Bf("appVerificationDisabledForTesting")}}),Qf($c.prototype,{confirm:{name:"confirm",j:[Hf("verificationCode")]}}),tl(ho,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[go,Po,Mo,vo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[$f(Hf(),Gf(),"json")]),tl(Do,"credential",(function(t,e){return new Oo(t,e)}),[Hf("email"),Hf("password")]),Qf(Oo.prototype,{w:{name:"toJSON",j:[Hf(null,!0)]}}),Qf(_o.prototype,{Ca:{name:"addScope",j:[Hf("scope")]},Ka:{name:"setCustomParameters",j:[Gf("customOAuthParameters")]}}),tl(_o,"credential",Eo,[$f(Hf(),Gf(),"token")]),tl(Do,"credentialWithLink",Ro,[Hf("email"),Hf("emailLink")]),Qf(To.prototype,{Ca:{name:"addScope",j:[Hf("scope")]},Ka:{name:"setCustomParameters",j:[Gf("customOAuthParameters")]}}),tl(To,"credential",Ao,[$f(Hf(),Gf(),"token")]),Qf(So.prototype,{Ca:{name:"addScope",j:[Hf("scope")]},Ka:{name:"setCustomParameters",j:[Gf("customOAuthParameters")]}}),tl(So,"credential",ko,[$f(Hf(),$f(Gf(),Wf()),"idToken"),$f(Hf(),Wf(),"accessToken",!0)]),Qf(xo.prototype,{Ka:{name:"setCustomParameters",j:[Gf("customOAuthParameters")]}}),tl(xo,"credential",No,[$f(Hf(),Gf(),"token"),Hf("secret",!0)]),Qf(Io.prototype,{Ca:{name:"addScope",j:[Hf("scope")]},credential:{name:"credential",j:[$f(Hf(),$f(Gf(),Wf()),"optionsOrIdToken"),$f(Hf(),Wf(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Gf("customOAuthParameters")]}}),Qf(yo.prototype,{w:{name:"toJSON",j:[Hf(null,!0)]}}),Qf(lo.prototype,{w:{name:"toJSON",j:[Hf(null,!0)]}}),tl(Vo,"credential",Uo,[Hf("verificationId"),Hf("verificationCode")]),Qf(Vo.prototype,{eb:{name:"verifyPhoneNumber",j:[$f(Hf(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Xf(t.session,uo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Xf(t.session,co)&&Yf(t.multiFactorHint):t.session&&t.multiFactorUid?Xf(t.session,co)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Qf(Lo.prototype,{w:{name:"toJSON",j:[Hf(null,!0)]}}),Qf(S.prototype,{toJSON:{name:"toJSON",j:[Hf(null,!0)]}}),Qf(Jo.prototype,{toJSON:{name:"toJSON",j:[Hf(null,!0)]}}),Qf(Wo.prototype,{toJSON:{name:"toJSON",j:[Hf(null,!0)]}}),Qf(rh.prototype,{toJSON:{name:"toJSON",j:[Hf(null,!0)]}}),Qf(th.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}}]}}),Qf(ch.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}},Hf("displayName",!0)]},ad:{name:"unenroll",j:[$f({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Yf},Hf(),"multiFactorInfoIdentifier")]}}),Qf(Ff.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),tl(Ei,"parseLink",Pi,[Hf("link")]),tl(Af,"assertion",(function(t){return new sh(t)}),[Jf("phone")]),function(){if(void 0===Z||!Z.INTERNAL||!Z.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:fi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:hi,VERIFY_AND_CHANGE_EMAIL:li,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:of,AuthCredential:ho,Error:S};tl(t,"EmailAuthProvider",Do,[]),tl(t,"FacebookAuthProvider",_o,[]),tl(t,"GithubAuthProvider",To,[]),tl(t,"GoogleAuthProvider",So,[]),tl(t,"TwitterAuthProvider",xo,[]),tl(t,"OAuthProvider",Io,[Hf("providerId")]),tl(t,"SAMLAuthProvider",wo,[Hf("providerId")]),tl(t,"PhoneAuthProvider",Vo,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof of)}}]),tl(t,"RecaptchaVerifier",Ff,[$f(Hf(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Gf("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof Z.app.App)}}]),tl(t,"ActionCodeURL",Ei,[]),tl(t,"PhoneMultiFactorGenerator",Af,[]),Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new of(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:I((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:I(t.mc,t),addAuthTokenListener:I(t.cc,t),removeAuthTokenListener:I(t.Oc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Z.registerVersion("@firebase/auth","0.16.1"),Z.INTERNAL.extendNamespace({User:gh})}()}.apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),n(6992),n(9600),n(5827),n(7042),n(9720),n(4916),n(5306),n(3123),n(3948);var tt=function(t,e){return(tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function et(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var nt,rt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},it=it||{},ot=rt||self;function at(){}function st(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function ut(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ct="closure_uid_"+(1e9*Math.random()>>>0),ht=0;function ft(t,e,n){return t.call.apply(t.bind,arguments)}function lt(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function pt(t,e,n){return(pt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ft:lt).apply(null,arguments)}function dt(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function vt(){return Date.now()}function yt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function mt(){this.j=this.j,this.i=this.i}mt.prototype.j=!1,mt.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,ct)&&t[ct]||(t[ct]=++ht)}(this)},mt.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var gt=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},bt=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function wt(t){return Array.prototype.concat.apply([],arguments)}function It(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function _t(t){return/^[\s\xa0]*$/.test(t)}var Et,Tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function At(t,e){return-1!=t.indexOf(e)}function St(t,e){return t<e?-1:t>e?1:0}t:{var kt=ot.navigator;if(kt){var xt=kt.userAgent;if(xt){Et=xt;break t}}Et=""}function Nt(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ot(t){var e={};for(var n in t)e[n]=t[n];return e}var Pt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Dt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Pt.length;o++)n=Pt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Rt(t){return Rt[" "](t),t}Rt[" "]=at;var Ct,Lt,Mt=At(Et,"Opera"),jt=At(Et,"Trident")||At(Et,"MSIE"),Vt=At(Et,"Edge"),Ut=Vt||jt,Ft=At(Et,"Gecko")&&!(At(Et.toLowerCase(),"webkit")&&!At(Et,"Edge"))&&!(At(Et,"Trident")||At(Et,"MSIE"))&&!At(Et,"Edge"),qt=At(Et.toLowerCase(),"webkit")&&!At(Et,"Edge");function zt(){var t=ot.document;return t?t.documentMode:void 0}t:{var Ht="",Bt=(Lt=Et,Ft?/rv:([^\);]+)(\)|;)/.exec(Lt):Vt?/Edge\/([\d\.]+)/.exec(Lt):jt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Lt):qt?/WebKit\/(\S+)/.exec(Lt):Mt?/(?:Version)[ \/]?(\S+)/.exec(Lt):void 0);if(Bt&&(Ht=Bt?Bt[1]:""),jt){var Gt=zt();if(null!=Gt&&Gt>parseFloat(Ht)){Ct=String(Gt);break t}}Ct=Ht}var Kt,Wt={};function Jt(t){return function(t,e){var n=Wt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Tt(String(Ct)).split("."),r=Tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=St(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||St(0==a[2].length,0==s[2].length)||St(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}ot.document&&jt?Kt=zt()||parseInt(Ct,10)||void 0:Kt=void 0;var Xt=Kt,Yt=!jt||9<=Number(Xt),$t=jt&&!Jt("9"),Qt=function(){if(!ot.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ot.addEventListener("test",at,e),ot.removeEventListener("test",at,e)}catch(t){}return t}();function Zt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function te(t,e){if(Zt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Ft){t:{try{Rt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ee[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Zt.prototype.b=function(){this.defaultPrevented=!0},yt(te,Zt);var ee={2:"touch",3:"pen",4:"mouse"};te.prototype.b=function(){te.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,$t)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var ne="closure_listenable_"+(1e6*Math.random()|0),re=0;function ie(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++re,this.Y=this.Z=!1}function oe(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ae(t){this.src=t,this.a={},this.b=0}function se(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=gt(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(oe(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ue(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ae.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ue(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new ie(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var ce="closure_lm_"+(1e6*Math.random()|0),he={};function fe(t,e,n,r,i){if(r&&r.once)return pe(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)fe(t,e[o],n,r,i);return null}return n=Ie(n),t&&t[ne]?t.va(e,n,ut(r)?!!r.capture:!!r,i):le(t,e,n,!1,r,i)}function le(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=ut(i)?!!i.capture:!!i;if(a&&!Yt)return null;var s=be(t);if(s||(t[ce]=s=new ae(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=ge,e=Yt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Qt||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ye(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function pe(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)pe(t,e[o],n,r,i);return null}return n=Ie(n),t&&t[ne]?t.wa(e,n,ut(r)?!!r.capture:!!r,i):le(t,e,n,!0,r,i)}function de(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)de(t,e[o],n,r,i);else r=ut(r)?!!r.capture:!!r,n=Ie(n),t&&t[ne]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=ue(o=t.a[e],n,r,i))&&(oe(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=be(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ue(e,n,r,i)),(n=-1<t?e[t]:null)&&ve(n))}function ve(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ne])se(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ye(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=be(e))?(se(n,t),0==n.b&&(n.src=null,e[ce]=null)):oe(t)}}}function ye(t){return t in he?he[t]:he[t]="on"+t}function me(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&ve(t),n.call(r,e)}function ge(t,e){if(t.Y)return!0;if(!Yt){if(!e)t:{e=["window","event"];for(var n=ot,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return me(t,e=new te(e,this))}return me(t,new te(e,this))}function be(t){return(t=t[ce])instanceof ae?t:null}var we="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ie(t){return"function"==typeof t?t:(t[we]||(t[we]=function(e){return t.handleEvent(e)}),t[we])}function _e(){mt.call(this),this.c=new ae(this),this.J=this,this.C=null}function Ee(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Zt(e,t);else if(e instanceof Zt)e.target=e.target||t;else{var i=e;Dt(e=new Zt(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=Te(a,r,!0,e)&&i}if(i=Te(a=e.a=t,r,!0,e)&&i,i=Te(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Te(a=e.a=n[o],r,!1,e)&&i}function Te(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&se(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}yt(_e,mt),_e.prototype[ne]=!0,(nt=_e.prototype).addEventListener=function(t,e,n,r){fe(this,t,e,n,r)},nt.removeEventListener=function(t,e,n,r){de(this,t,e,n,r)},nt.G=function(){if(_e.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)oe(n[r]);delete e.a[t],e.b--}}this.C=null},nt.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},nt.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ae=ot.JSON.stringify;function Se(){this.b=this.a=null}var ke,xe=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new Oe}),(function(t){t.reset()}));function Ne(){var t=Ce,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Oe(){this.next=this.b=this.a=null}function Pe(t){ot.setTimeout((function(){throw t}),0)}function De(t,e){ke||function(){var t=ot.Promise.resolve(void 0);ke=function(){t.then(Le)}}(),Re||(ke(),Re=!0),Ce.add(t,e)}Se.prototype.add=function(t,e){var n=xe.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Oe.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Oe.prototype.reset=function(){this.next=this.b=this.a=null};var Re=!1,Ce=new Se;function Le(){for(var t;t=Ne();){try{t.a.call(t.b)}catch(t){Pe(t)}var e=xe;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Re=!1}function Me(t,e){_e.call(this),this.b=t||1,this.a=e||ot,this.f=pt(this.Za,this),this.g=vt()}function je(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ve(t,e,n){if("function"==typeof t)n&&(t=pt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=pt(t.handleEvent,t)}return 2147483647<Number(e)?-1:ot.setTimeout(t,e||0)}function Ue(t){t.a=Ve((function(){t.a=null,t.c&&(t.c=!1,Ue(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}yt(Me,_e),(nt=Me.prototype).aa=!1,nt.M=null,nt.Za=function(){if(this.aa){var t=vt()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ee(this,"tick"),this.aa&&(je(this),this.start()))}},nt.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=vt())},nt.G=function(){Me.X.G.call(this),je(this),delete this.a};var Fe=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}tt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ue(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(ot.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(mt);function qe(t){mt.call(this),this.b=t,this.a={}}yt(qe,mt);var ze=[];function He(t,e,n,r){Array.isArray(n)||(n&&(ze[0]=n.toString()),n=ze);for(var i=0;i<n.length;i++){var o=fe(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Be(t){Nt(t.a,(function(t,e){this.a.hasOwnProperty(e)&&ve(t)}),t),t.a={}}function Ge(){this.a=!0}function Ke(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Ae(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}qe.prototype.G=function(){qe.X.G.call(this),Be(this)},qe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ge.prototype.info=function(){};var We={},Je=null;function Xe(){return Je=Je||new _e}function Ye(t){Zt.call(this,We.Fa,t)}function $e(t){var e=Xe();Ee(e,new Ye(e,t))}function Qe(t,e){Zt.call(this,We.STAT_EVENT,t),this.stat=e}function Ze(t){var e=Xe();Ee(e,new Qe(e,t))}function tn(t){Zt.call(this,We.Ga,t)}function en(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ot.setTimeout((function(){t()}),e)}We.Fa="serverreachability",yt(Ye,Zt),We.STAT_EVENT="statevent",yt(Qe,Zt),We.Ga="timingevent",yt(tn,Zt);var nn={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},rn={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function on(){}function an(t){var e;return(e=t.a)||(e=t.a={}),e}function sn(){}on.prototype.a=null;var un,cn={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function hn(){Zt.call(this,"d")}function fn(){Zt.call(this,"c")}function ln(){}function pn(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new qe(this),this.P=dn,t=Ut?125:void 0,this.R=new Me(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}yt(hn,Zt),yt(fn,Zt),yt(ln,on),un=new ln;var dn=45e3,vn={},yn={};function mn(t,e,n){t.H=1,t.i=Un(Rn(e)),t.j=n,t.I=!0,gn(t,null)}function gn(t,e){t.u=vt(),In(t),t.l=Rn(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Qn(n.b,"t",r),t.D=0,t.a=Kr(t.g,t.g.C?e:null),0<t.O&&(t.F=new Fe(pt(t.Ca,t,t.a),t.O)),He(t.J,t.a,"readystatechange",t.Xa),e=t.B?Ot(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),$e(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var h=c[0];c=c[1];var f=h.split("_");a=2<=f.length&&"type"==f[1]?a+(h+"=")+c+"&":a+(h+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function bn(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=wn(t,n);if(i==yn){4==e&&(t.h=4,Ze(14),r=!1),Ke(t.c,t.f,null,"[Incomplete Response]");break}if(i==vn){t.h=4,Ze(15),Ke(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Ke(t.c,t.f,i,null),Sn(t,i)}4==e&&0==n.length&&(t.h=1,Ze(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Vr(e),e.F=!0,Ze(11))):(Ke(t.c,t.f,n,"[Invalid Chunked Response]"),An(t),Tn(t))}function wn(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?yn:(n=Number(e.substring(n,r)),isNaN(n)?vn:(r+=1)+n>e.length?yn:(e=e.substr(r,n),t.D=r+n,e))}function In(t){t.T=vt()+t.P,_n(t,t.P)}function _n(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=en(pt(t.Va,t),e)}function En(t){t.o&&(ot.clearTimeout(t.o),t.o=null)}function Tn(t){0==t.g.v||t.A||qr(t.g,t)}function An(t){En(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,je(t.R),Be(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Sn(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||or(n.b,t)))if(n.I=t.N,!t.C&&or(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Fr(n),Nr(n)}jr(n),Ze(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=en(pt(n.Sa,n),6e3));if(1>=ir(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else Hr(n,11)}else if((t.C||n.a==t)&&Fr(n),!_t(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var h=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(h){var f=u.b;!f.a&&(At(h,"spdy")||At(h,"quic")||At(h,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(ar(f,f.b),f.b=null))}if(u.A){var l=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;l&&(u.na=l,Vn(u.B,u.A,l))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=vt()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=t;if((u=n).la=Gr(u,u.C?u.ga:null,u.fa),p.C){sr(u.b,p);var d=p,v=u.D;v&&d.setTimeout(v),d.o&&(En(d),In(d)),u.a=p}else Mr(u);0<n.g.length&&Dr(n)}else"stop"!=i[0]&&"close"!=i[0]||Hr(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Hr(n,7):xr(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);$e(4)}catch(t){}}function kn(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(st(t)||"string"==typeof t)bt(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(st(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(st(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function xn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof xn)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Nn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];On(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)On(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function On(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(nt=pn.prototype).setTimeout=function(t){this.P=t},nt.Xa=function(t){t=t.target;var e=this.F;e&&3==Tr(t)?e.f():this.Ca(t)},nt.Ca=function(t){try{if(t==this.a)t:{var e=Tr(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Ut&&!this.a.$())){this.A||4!=e||7==n||$e(8==n||0>=r?3:2),En(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_t(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,Ze(12),An(this),Tn(this);break t}Ke(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Sn(this,u)}this.I?(bn(this,e,o),Ut&&this.b&&3==e&&(He(this.J,this.R,"tick",this.Wa),this.R.start())):(Ke(this.c,this.f,o,null),Sn(this,o)),4==e&&An(this),this.b&&!this.A&&(4==e?qr(this.g,this):(this.b=!1,In(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Ze(12)):(this.h=0,Ze(13)),An(this),Tn(this)}}}catch(t){}},nt.Wa=function(){if(this.a){var t=Tr(this.a),e=this.a.$();this.D<e.length&&(En(this),bn(this,t,e),this.b&&4!=t&&In(this))}},nt.cancel=function(){this.A=!0,An(this)},nt.Va=function(){this.o=null;var t=vt();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&($e(3),Ze(17)),An(this),this.h=2,Tn(this)):_n(this,this.T-t)},(nt=xn.prototype).K=function(){Nn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},nt.L=function(){return Nn(this),this.a.concat()},nt.get=function(t,e){return On(this.b,t)?this.b[t]:e},nt.set=function(t,e){On(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},nt.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Pn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dn(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Dn){this.a=void 0!==e?e:t.a,Cn(this,t.f),this.j=t.j,Ln(this,t.c),Mn(this,t.h),this.g=t.g,e=t.b;var n=new Jn;n.c=e.c,e.a&&(n.a=new xn(e.a),n.b=e.b),jn(this,n),this.i=t.i}else t&&(n=String(t).match(Pn))?(this.a=!!e,Cn(this,n[1]||"",!0),this.j=Fn(n[2]||""),Ln(this,n[3]||"",!0),Mn(this,n[4]),this.g=Fn(n[5]||"",!0),jn(this,n[6]||"",!0),this.i=Fn(n[7]||"")):(this.a=!!e,this.b=new Jn(null,this.a))}function Rn(t){return new Dn(t)}function Cn(t,e,n){t.f=n?Fn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ln(t,e,n){t.c=n?Fn(e,!0):e}function Mn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function jn(t,e,n){e instanceof Jn?(t.b=e,function(t,e){e&&!t.f&&(Xn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Yn(this,e),Qn(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=qn(e,Kn)),t.b=new Jn(e,t.a))}function Vn(t,e,n){t.b.set(e,n)}function Un(t){return Vn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^vt()).toString(36)),t}function Fn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,zn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function zn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Dn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(qn(e,Hn,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(qn(e,Hn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(qn(n,"/"==n.charAt(0)?Gn:Bn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",qn(n,Wn)),t.join("")};var Hn=/[#\/\?@]/g,Bn=/[#\?:]/g,Gn=/[#\?]/g,Kn=/[#\?@]/g,Wn=/#/g;function Jn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Xn(t){t.a||(t.a=new xn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Yn(t,e){Xn(t),e=Zn(t,e),On(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,On((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Nn(t)))}function $n(t,e){return Xn(t),e=Zn(t,e),On(t.a.b,e)}function Qn(t,e,n){Yn(t,e),0<n.length&&(t.c=null,t.a.set(Zn(t,e),It(n)),t.b+=n.length)}function Zn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(nt=Jn.prototype).add=function(t,e){Xn(this),this.c=null,t=Zn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},nt.forEach=function(t,e){Xn(this),this.a.forEach((function(n,r){bt(n,(function(n){t.call(e,n,r,this)}),this)}),this)},nt.L=function(){Xn(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},nt.K=function(t){Xn(this);var e=[];if("string"==typeof t)$n(this,t)&&(e=wt(e,this.a.get(Zn(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=wt(e,t[n])}return e},nt.set=function(t,e){return Xn(this),this.c=null,$n(this,t=Zn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},nt.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},nt.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var tr=function(t,e){this.b=t,this.a=e};function er(t){this.g=t||nr,t=ot.PerformanceNavigationTiming?0<(t=ot.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ot.ia&&ot.ia.ya&&ot.ia.ya()&&ot.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var nr=10;function rr(t){return!!t.b||!!t.a&&t.a.size>=t.f}function ir(t){return t.b?1:t.a?t.a.size:0}function or(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function ar(t,e){t.a?t.a.add(e):t.b=e}function sr(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function ur(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=et(t.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return It(t.c)}function cr(){}function hr(){this.a=new cr}function fr(t,e,n){var r=n||"";try{kn(t,(function(t,n){var i=t;ut(t)&&(i=Ae(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function lr(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}er.prototype.cancel=function(){var t,e;if(this.c=ur(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=et(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},cr.prototype.stringify=function(t){return ot.JSON.stringify(t,void 0)},cr.prototype.parse=function(t){return ot.JSON.parse(t,void 0)};var pr=ot.JSON.parse;function dr(t){_e.call(this),this.headers=new xn,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=vr,this.D=this.F=!1}yt(dr,_e);var vr="",yr=/^https?$/i,mr=["POST","PUT"];function gr(t){return"content-type"==t.toLowerCase()}function br(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,wr(t),_r(t)}function wr(t){t.u||(t.u=!0,Ee(t,"complete"),Ee(t,"error"))}function Ir(t){if(t.b&&void 0!==it&&(!t.s[1]||4!=Tr(t)||2!=t.W()))if(t.l&&4==Tr(t))Ve(t.za,0,t);else if(Ee(t,"readystatechange"),4==Tr(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Pn)[1]||null;if(!o&&ot.self&&ot.self.location){var a=ot.self.location.protocol;o=a.substr(0,a.length-1)}i=!yr.test(o?o.toLowerCase():"")}e=i}if(e)Ee(t,"complete"),Ee(t,"success");else{t.h=6;try{var s=2<Tr(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",wr(t)}}finally{_r(t)}}}function _r(t,e){if(t.a){Er(t);var n=t.a,r=t.s[0]?at:null;t.a=null,t.s=null,e||Ee(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function Er(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(ot.clearTimeout(t.m),t.m=null)}function Tr(t){return t.a?t.a.readyState:0}function Ar(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Nt(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Vn(t,e,n))}function Sr(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function kr(t){this.pa=0,this.g=[],this.c=new Ge,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Sr("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Sr("baseRetryDelayMs",5e3,t),this.Ra=Sr("retryDelaySeedMs",1e4,t),this.Ma=Sr("forwardChannelMaxRetries",2,t),this.ma=Sr("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new er(t&&t.concurrentRequestLimit),this.ka=new hr,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function xr(t){if(Or(t),3==t.v){var e=t.R++,n=Rn(t.B);Vn(n,"SID",t.J),Vn(n,"RID",e),Vn(n,"TYPE","terminate"),Cr(t,n),(e=new pn(t,t.c,e,void 0)).H=2,e.i=Un(Rn(n)),n=!1,ot.navigator&&ot.navigator.sendBeacon&&(n=ot.navigator.sendBeacon(e.i.toString(),"")),!n&&ot.Image&&((new Image).src=e.i,n=!0),n||(e.a=Kr(e.g,null),e.a.ba(e.i)),e.u=vt(),In(e)}Br(t)}function Nr(t){t.a&&(Vr(t),t.a.cancel(),t.a=null)}function Or(t){Nr(t),t.j&&(ot.clearTimeout(t.j),t.j=null),Fr(t),t.b.cancel(),t.h&&("number"==typeof t.h&&ot.clearTimeout(t.h),t.h=null)}function Pr(t,e){t.g.push(new tr(t.Oa++,e)),3==t.v&&Dr(t)}function Dr(t){rr(t.b)||t.h||(t.h=!0,De(t.Ba,t),t.u=0)}function Rr(t,e){var n;n=e?e.f:t.R++;var r=Rn(t.B);Vn(r,"SID",t.J),Vn(r,"RID",n),Vn(r,"AID",t.P),Cr(t,r),t.i&&t.l&&Ar(r,t.i,t.l),n=new pn(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Lr(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),ar(t.b,n),mn(n,r,e)}function Cr(t,e){t.f&&kn({},(function(t,n){Vn(e,n,t)}))}function Lr(t,e,n){n=Math.min(t.g.length,n);var r=t.f?pt(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{fr(h,a,"req"+c+"_")}catch(t){r&&r(h)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Mr(t){t.a||t.j||(t.T=1,De(t.Aa,t),t.o=0)}function jr(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=en(pt(t.Aa,t),zr(t,t.o)),t.o++,0))}function Vr(t){null!=t.s&&(ot.clearTimeout(t.s),t.s=null)}function Ur(t){t.a=new pn(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Rn(t.la);Vn(e,"RID","rpc"),Vn(e,"SID",t.J),Vn(e,"CI",t.H?"0":"1"),Vn(e,"AID",t.P),Cr(t,e),Vn(e,"TYPE","xmlhttp"),t.i&&t.l&&Ar(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Un(Rn(e)),n.j=null,n.I=!0,gn(n,t)}function Fr(t){null!=t.m&&(ot.clearTimeout(t.m),t.m=null)}function qr(t,e){var n=null;if(t.a==e){Fr(t),Vr(t),t.a=null;var r=2}else{if(!or(t.b,e))return;n=e.s,sr(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=vt()-e.u;var i=t.u;Ee(r=Xe(),new tn(r,n,e,i)),Dr(t)}else Mr(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(ir(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=en(pt(t.Ba,t,e),zr(t,t.u)),t.u++,0)))}(t,e)||2==r&&jr(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Hr(t,5);break;case 4:Hr(t,10);break;case 3:Hr(t,6);break;default:Hr(t,2)}}function zr(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Hr(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=pt(t.Ya,t);n||(n=new Dn("//www.google.com/images/cleardot.gif"),ot.location&&"http"==ot.location.protocol||Cn(n,"https"),Un(n)),function(t,e){var n=new Ge;if(ot.Image){var r=new Image;r.onload=dt(lr,n,r,"TestLoadImage: loaded",!0,e),r.onerror=dt(lr,n,r,"TestLoadImage: error",!1,e),r.onabort=dt(lr,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=dt(lr,n,r,"TestLoadImage: timeout",!1,e),ot.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ze(2);t.v=0,t.f&&t.f.ra(e),Br(t),Or(t)}function Br(t){t.v=0,t.I=-1,t.f&&(0==ur(t.b).length&&0==t.g.length||(t.b.c.length=0,It(t.g),t.g.length=0),t.f.qa())}function Gr(t,e,n){var r=function(t){return t instanceof Dn?Rn(t):new Dn(t,void 0)}(n);if(""!=r.c)e&&Ln(r,e+"."+r.c),Mn(r,r.h);else{var i=ot.location;r=function(t,e,n,r){var i=new Dn(null,void 0);return t&&Cn(i,t),e&&Ln(i,e),n&&Mn(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Nt(t.V,(function(t,e){Vn(r,e,t)})),e=t.A,n=t.na,e&&n&&Vn(r,e,n),Vn(r,"VER",t.ha),Cr(t,r),r}function Kr(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new dr(t.Na)).F=t.C,e}function Wr(){}function Jr(){if(jt&&!(10<=Number(Xt)))throw Error("Environmental error: no available transport.")}function Xr(t,e){_e.call(this),this.a=new kr(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!_t(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_t(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Qr(this)}function Yr(t){hn.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function $r(){fn.call(this),this.status=1}function Qr(t){this.a=t}(nt=dr.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?an(this.H):an(un),this.a.onreadystatechange=pt(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void br(this,t)}t=n||"";var i=new xn(this.headers);r&&kn(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=gr,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=ot.FormData&&t instanceof ot.FormData,!(0<=gt(mr,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Er(this),0<this.o&&((this.D=function(t){return jt&&Jt(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=pt(this.xa,this)):this.m=Ve(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){br(this,t)}},nt.xa=function(){void 0!==it&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ee(this,"timeout"),this.abort(8))},nt.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ee(this,"complete"),Ee(this,"abort"),_r(this))},nt.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),_r(this,!0)),dr.X.G.call(this)},nt.za=function(){this.j||(this.A||this.l||this.g?Ir(this):this.Ua())},nt.Ua=function(){Ir(this)},nt.W=function(){try{return 2<Tr(this)?this.a.status:-1}catch(t){return-1}},nt.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},nt.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),pr(e)}},nt.ua=function(){return this.h},nt.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(nt=kr.prototype).ha=8,nt.v=1,nt.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new pn(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Dt(r=Ot(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Lr(this,n,e),Vn(i=Rn(this.B),"RID",t),Vn(i,"CVER",22),this.A&&Vn(i,"X-HTTP-Session-Id",this.A),Cr(this,i),this.i&&r&&Ar(i,this.i,r),ar(this.b,n),this.Ia&&Vn(i,"TYPE","init"),this.da?(Vn(i,"$req",e),Vn(i,"SID","null"),n.U=!0,mn(n,i,null)):mn(n,i,e),this.v=2}}else 3==this.v&&(t?Rr(this,t):0==this.g.length||rr(this.b)||Rr(this))},nt.Aa=function(){if(this.j=null,Ur(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=en(pt(this.Ta,this),t)}},nt.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Ze(10),Nr(this),Ur(this))},nt.Sa=function(){null!=this.m&&(this.m=null,Nr(this),jr(this),Ze(19))},nt.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Ze(2)):(this.c.info("Failed to ping google.com"),Ze(1))},(nt=Wr.prototype).ta=function(){},nt.sa=function(){},nt.ra=function(){},nt.qa=function(){},nt.Ja=function(){},Jr.prototype.a=function(t,e){return new Xr(t,e)},yt(Xr,_e),Xr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Ze(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Gr(t,null,t.fa),Dr(t)},Xr.prototype.close=function(){xr(this.a)},Xr.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Pr(this.a,e)}else this.l?((e={}).__data__=Ae(t),Pr(this.a,e)):Pr(this.a,t)},Xr.prototype.G=function(){this.a.f=null,delete this.f,xr(this.a),delete this.a,Xr.X.G.call(this)},yt(Yr,hn),yt($r,fn),yt(Qr,Wr),Qr.prototype.ta=function(){Ee(this.a,"a")},Qr.prototype.sa=function(t){Ee(this.a,new Yr(t))},Qr.prototype.ra=function(t){Ee(this.a,new $r(t))},Qr.prototype.qa=function(){Ee(this.a,"b")},Jr.prototype.createWebChannel=Jr.prototype.a,Xr.prototype.send=Xr.prototype.h,Xr.prototype.open=Xr.prototype.g,Xr.prototype.close=Xr.prototype.close,nn.NO_ERROR=0,nn.TIMEOUT=8,nn.HTTP_ERROR=6,rn.COMPLETE="complete",sn.EventType=cn,cn.OPEN="a",cn.CLOSE="b",cn.ERROR="c",cn.MESSAGE="d",_e.prototype.listen=_e.prototype.va,dr.prototype.listenOnce=dr.prototype.wa,dr.prototype.getLastError=dr.prototype.Qa,dr.prototype.getLastErrorCode=dr.prototype.ua,dr.prototype.getStatus=dr.prototype.W,dr.prototype.getResponseJson=dr.prototype.Pa,dr.prototype.getResponseText=dr.prototype.$,dr.prototype.send=dr.prototype.ba;var Zr=nn,ti=rn,ei=We,ni=10,ri=11,ii=sn,oi=dr,ai=new V("@firebase/firestore");function si(){return ai.logLevel}function ui(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ai.logLevel<=P.DEBUG){var r=e.map(fi);ai.debug.apply(ai,l(["Firestore (8.2.1): "+t],r))}}function ci(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ai.logLevel<=P.ERROR){var r=e.map(fi);ai.error.apply(ai,l(["Firestore (8.2.1): "+t],r))}}function hi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ai.logLevel<=P.WARN){var r=e.map(fi);ai.warn.apply(ai,l(["Firestore (8.2.1): "+t],r))}}function fi(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function li(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.1) INTERNAL ASSERTION FAILED: "+t;throw ci(e),new Error(e)}function pi(t,e){t||li()}function di(t,e){return t}function vi(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var yi=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=vi(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function mi(t,e){return t<e?-1:t>e?1:0}function gi(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function bi(t){return t+"\0"}var wi=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.i,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return mi(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();wi.h=new wi("");var Ii={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},_i=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return o(e,t),e}(Error),Ei=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(wi.fromBase64String(e))}catch(e){throw new _i(Ii.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(wi.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),Ti=function(t){this._=t};function Ai(){if("undefined"==typeof Uint8Array)throw new _i(Ii.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Si(){if("undefined"==typeof atob)throw new _i(Ii.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ki=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.fromBase64String=function(t){return Si(),new e(Ei.fromBase64String(t))},e.fromUint8Array=function(t){return Ai(),new e(Ei.fromUint8Array(t))},e.prototype.toBase64=function(){return Si(),this._.toBase64()},e.prototype.toUint8Array=function(){return Ai(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Ti),xi=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},Ni=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Oi=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Oi.UNAUTHENTICATED=new Oi(null),Oi.P=new Oi("google-credentials-uid"),Oi.g=new Oi("first-party-uid");var Pi=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},Di=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(Oi.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),Ri=function(){function t(t){var e=this;this.C=null,this.currentUser=Oi.UNAUTHENTICATED,this.N=!1,this.F=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.F++,e.currentUser=e.O(),e.N=!0,e.p&&e.p(e.currentUser)},this.F=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then((function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.F,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.F!==e?(ui("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(pi("string"==typeof n.accessToken),new Pi(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.O=function(){var t=this.auth&&this.auth.getUid();return pi(null===t||"string"==typeof t),new Oi(t)},t}(),Ci=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=Oi.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Li=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new Ci(this.k,this.M))},t.prototype.S=function(t){t(Oi.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),Mi=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();Mi.U=-1;var ji=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new _i(Ii.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new _i(Ii.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new _i(Ii.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _i(Ii.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?mi(this.nanoseconds,t.nanoseconds):mi(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Vi=function(){function t(t){this.timestamp=t}return t.W=function(e){return new t(e)},t.min=function(){return new t(new ji(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.j=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),Ui=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&li(),void 0===n?n=t.length-e:n>t.length-e&&li(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return t=void 0===t?1:t,this.Y(this.segments,this.offset+t,this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Fi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new _i(Ii.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.at=function(){return new e([])},e}(Ui),qi=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return qi.test(t)},e.prototype.ot=function(){return this.rt().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new _i(Ii.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new _i(Ii.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new _i(Ii.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new _i(Ii.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(Ui),Hi=function(){function t(t){this.path=t}return t.ft=function(e){return new t(Fi.ct(e))},t.dt=function(e){return new t(Fi.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Fi.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return Fi.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new Fi(e.slice()))},t}();function Bi(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gi(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ki(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Wi=function(){function t(t){this.fields=t,t.sort(zi.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return gi(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Ji=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xi(t){if(pi(!!t),"string"==typeof t){var e=0,n=Ji.exec(t);if(pi(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Yi(t.seconds),nanos:Yi(t.nanos)}}function Yi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function $i(t){return"string"==typeof t?wi.fromBase64String(t):wi.fromUint8Array(t)}function Qi(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Zi(t){var e=t.mapValue.fields.__previous_value__;return Qi(e)?Zi(e):e}function to(t){var e=Xi(t.mapValue.fields.__local_write_time__.timestampValue);return new ji(e.seconds,e.nanos)}function eo(t){return null==t}function no(t){return 0===t&&1/t==-1/0}function ro(t){return"number"==typeof t&&Number.isInteger(t)&&!no(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qi(t)?4:10:li()}function oo(t,e){var n=io(t);if(n!==io(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return to(t).isEqual(to(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Xi(t.timestampValue),r=Xi(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return $i(t.bytesValue).isEqual($i(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Yi(t.geoPointValue.latitude)===Yi(e.geoPointValue.latitude)&&Yi(t.geoPointValue.longitude)===Yi(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Yi(t.integerValue)===Yi(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Yi(t.doubleValue),r=Yi(e.doubleValue);return n===r?no(n)===no(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return gi(t.arrayValue.values||[],e.arrayValue.values||[],oo);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Bi(n)!==Bi(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!oo(n[i],r[i])))return!1;return!0}(t,e);default:return li()}}function ao(t,e){return void 0!==(t.values||[]).find((function(t){return oo(t,e)}))}function so(t,e){var n=io(t),r=io(e);if(n!==r)return mi(n,r);switch(n){case 0:return 0;case 1:return mi(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Yi(t.integerValue||t.doubleValue),r=Yi(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return uo(t.timestampValue,e.timestampValue);case 4:return uo(to(t),to(e));case 5:return mi(t.stringValue,e.stringValue);case 6:return function(t,e){var n=$i(t),r=$i(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=mi(n[i],r[i]);if(0!==o)return o}return mi(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=mi(Yi(t.latitude),Yi(e.latitude));return 0!==n?n:mi(Yi(t.longitude),Yi(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=so(n[i],r[i]);if(o)return o}return mi(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=mi(r[a],o[a]);if(0!==s)return s;var u=so(n[r[a]],i[o[a]]);if(0!==u)return u}return mi(r.length,o.length)}(t.mapValue,e.mapValue);default:throw li()}}function uo(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return mi(t,e);var n=Xi(t),r=Xi(e),i=mi(n.seconds,r.seconds);return 0!==i?i:mi(n.nanos,r.nanos)}function co(t){return ho(t)}function ho(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Xi(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?$i(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Hi.dt(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=ho(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+ho(t.fields[o])}return e+"}"}(t.mapValue):li();var e,n}function fo(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function lo(t){return!!t&&"integerValue"in t}function po(t){return!!t&&"arrayValue"in t}function vo(t){return!!t&&"nullValue"in t}function yo(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mo(t){return!!t&&"mapValue"in t}var go=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!mo(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return oo(this.proto,t.proto)},t}(),bo=function(){function t(t){void 0===t&&(t=go.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===io(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(zi.at(),this.Rt);return null!=t?new go(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=mo(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var a=n.gt(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function wo(t){var e=[];return Gi(t.fields||{},(function(t,n){var r=new zi([t]);if(mo(n)){var i=wo(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)})),new Wi(e)}var Io=function(t,e){this.key=t,this.version=e},_o=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return o(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Io),Eo=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return o(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Io),To=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Io),Ao=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.St=null};function So(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Ao(t,e,n,r,i,o,a)}function ko(t){var e=di(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.ot()+t.op.toString()+co(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.ot()+t.dir}(t)})).join(","),eo(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Fo(e.startAt)),e.endAt&&(n+="|ub:",n+=Fo(e.endAt)),e.St=n}return e.St}function xo(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!zo(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!oo(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bo(t.startAt,e.startAt)&&Bo(t.endAt,e.endAt)}function No(t){return Hi.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Oo=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return o(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new Po(t,n,r):"array-contains"===n?new Lo(t,r):"in"===n?new Mo(t,r):"not-in"===n?new jo(t,r):"array-contains-any"===n?new Vo(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new Do(t,n):new Ro(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(so(e,this.value)):null!==e&&io(this.value)===io(e)&&this.Ct(so(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return li()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Po=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Hi.dt(r.referenceValue),i}return o(e,t),e.prototype.matches=function(t){var e=Hi.J(t.key,this.key);return this.Ct(e)},e}(Oo),Do=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Co(0,n),r}return o(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Oo),Ro=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Co(0,n),r}return o(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Oo);function Co(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Hi.dt(t.referenceValue)}))}var Lo=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return o(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return po(e)&&ao(e.arrayValue,this.value)},e}(Oo),Mo=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return o(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&ao(this.value.arrayValue,e)},e}(Oo),jo=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return o(e,t),e.prototype.matches=function(t){if(ao(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!ao(this.value.arrayValue,e)},e}(Oo),Vo=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return o(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!po(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return ao(e.value.arrayValue,t)}))},e}(Oo),Uo=function(t,e){this.position=t,this.before=e};function Fo(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return co(t)})).join(",")}var qo=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function zo(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Ho(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.ht()?Hi.J(Hi.dt(a.referenceValue),n.key):so(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Bo(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!oo(t.position[n],e.position[n]))return!1;return!0}var Go=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.Ft=null,this.Ot=null,this.startAt,this.endAt};function Ko(t,e,n,r,i,o,a,s){return new Go(t,e,n,r,i,o,a,s)}function Wo(t){return new Go(t)}function Jo(t){return!eo(t.limit)&&"F"===t.limitType}function Xo(t){return!eo(t.limit)&&"L"===t.limitType}function Yo(t){return t.Nt.length>0?t.Nt[0].field:null}function $o(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function Qo(t){return null!==t.collectionGroup}function Zo(t){var e=di(t);if(null===e.Ft){e.Ft=[];var n=$o(e),r=Yo(e);if(null!==n&&null===r)n.ht()||e.Ft.push(new qo(n)),e.Ft.push(new qo(zi.lt(),"asc"));else{for(var i=!1,o=0,a=e.Nt;o<a.length;o++){var s=a[o];e.Ft.push(s),s.field.ht()&&(i=!0)}if(!i){var u=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ft.push(new qo(zi.lt(),u))}}}return e.Ft}function ta(t){var e=di(t);if(!e.Ot)if("F"===e.limitType)e.Ot=So(e.path,e.collectionGroup,Zo(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Zo(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new qo(o.field,a))}var s=e.endAt?new Uo(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Uo(e.startAt.position,!e.startAt.before):null;e.Ot=So(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.Ot}function ea(t,e,n){return new Go(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function na(t,e){return xo(ta(t),ta(e))&&t.limitType===e.limitType}function ra(t){return ko(ta(t))+"|lt:"+t.limitType}function ia(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.ot()+" "+e.op+" "+co(e.value);var e})).join(", ")+"]"),eo(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Fo(t.startAt)),t.endAt&&(e+=", endAt: "+Fo(t.endAt)),"Target("+e+")"}(ta(t))+"; limitType="+t.limitType+")"}function oa(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):Hi.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Ho(t.startAt,Zo(t),e)||t.endAt&&Ho(t.endAt,Zo(t),e))}(t,e)}function aa(t){return function(e,n){for(var r=!1,i=0,o=Zo(t);i<o.length;i++){var a=o[i],s=sa(a,e,n);if(0!==s)return s;r=r||a.field.ht()}return 0}}function sa(t,e,n){var r=t.field.ht()?Hi.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?so(r,i):li()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return li()}}var ua=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=Vi.min()),void 0===o&&(o=Vi.min()),void 0===a&&(a=wi.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function ca(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:no(e)?"-0":e}}function ha(t){return{integerValue:""+t}}function fa(t,e){return ro(e)?ha(e):ca(t,e)}var la=function(){this.Ut=void 0};function pa(t,e,n){return t instanceof ya?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ma?ga(t,e):t instanceof ba?wa(t,e):function(t,e){var n=va(t,e),r=_a(n)+_a(t.Qt);return lo(n)&&lo(t.Qt)?ha(r):ca(t.Kt,r)}(t,e)}function da(t,e,n){return t instanceof ma?ga(t,e):t instanceof ba?wa(t,e):n}function va(t,e){return t instanceof Ia?lo(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var ya=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(la),ma=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return o(e,t),e}(la);function ga(t,e){for(var n=Ea(e),r=function(t){n.some((function(e){return oo(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ba=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return o(e,t),e}(la);function wa(t,e){for(var n=Ea(e),r=function(t){n=n.filter((function(e){return!oo(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ia=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return o(e,t),e}(la);function _a(t){return Yi(t.integerValue||t.doubleValue)}function Ea(t){return po(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ta=function(t,e){this.field=t,this.transform=e},Aa=function(t,e){this.version=t,this.transformResults=e},Sa=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Wt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"jt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function ka(t,e){return void 0!==t.updateTime?e instanceof _o&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof _o}var xa=function(){};function Na(t,e,n){return t instanceof Ca?function(t,e,n){var r=t.value;if(n.transformResults){var i=ja(t.fieldTransforms,e,n.transformResults);r=Ua(t.fieldTransforms,r,i)}return new _o(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof La?function(t,e,n){if(!ka(t.Gt,e))return new To(t.key,n.version);var r=Ma(t,e,n.transformResults?ja(t.fieldTransforms,e,n.transformResults):[]);return new _o(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Eo(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Oa(t,e,n,r){return t instanceof Ca?function(t,e,n,r){if(!ka(t.Gt,e))return e;var i=t.value;if(t.fieldTransforms){var o=Va(t.fieldTransforms,n,e,r);i=Ua(t.fieldTransforms,i,o)}var a=Ra(e);return new _o(t.key,a,i,{bt:!0})}(t,e,r,n):t instanceof La?function(t,e,n,r){if(!ka(t.Gt,e))return e;var i=Ra(e),o=Ma(t,e,Va(t.fieldTransforms,n,e,r));return new _o(t.key,i,o,{bt:!0})}(t,e,r,n):function(t,e){return ka(t.Gt,e)?new Eo(t.key,Vi.min()):e}(t,e)}function Pa(t,e){return void 0!==t.fieldTransforms?function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],a=e instanceof _o?e.field(o.field):void 0,s=va(o.transform,a||null);null!=s&&(n=null==n?(new bo).set(o.field,s):n.set(o.field,s))}return n?n.yt():null}(t.fieldTransforms,e):null}function Da(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&gi(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ma&&e instanceof ma||t instanceof ba&&e instanceof ba?gi(t.elements,e.elements,oo):t instanceof Ia&&e instanceof Ia?oo(t.Qt,e.Qt):t instanceof ya&&e instanceof ya}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function Ra(t){return t instanceof _o?t.version:Vi.min()}var Ca=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return o(e,t),e}(xa),La=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.zt=r,a.Gt=i,a.fieldTransforms=o,a.type=1,a}return o(e,t),e}(xa);function Ma(t,e,n){var r;return r=function(t,e){var n=new bo(e);return t.zt.fields.forEach((function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.yt()}(t,r=e instanceof _o?e.data():go.empty()),Ua(t.fieldTransforms,r,n)}function ja(t,e,n){var r=[];pi(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof _o&&(s=e.field(o.field)),r.push(da(a,s,n[i]))}return r}function Va(t,e,n,r){for(var i=[],o=0,a=t;o<a.length;o++){var s=a[o],u=s.transform,c=null;n instanceof _o&&(c=n.field(s.field)),null===c&&r instanceof _o&&(c=r.field(s.field)),i.push(pa(u,c,e))}return i}function Ua(t,e,n){for(var r=new bo(e),i=0;i<t.length;i++){var o=t[i];r.set(o.field,n[i])}return r.yt()}var Fa,qa,za=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return o(e,t),e}(xa),Ha=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return o(e,t),e}(xa),Ba=function(t){this.count=t};function Ga(t){switch(t){case Ii.OK:return li();case Ii.CANCELLED:case Ii.UNKNOWN:case Ii.DEADLINE_EXCEEDED:case Ii.RESOURCE_EXHAUSTED:case Ii.INTERNAL:case Ii.UNAVAILABLE:case Ii.UNAUTHENTICATED:return!1;case Ii.INVALID_ARGUMENT:case Ii.NOT_FOUND:case Ii.ALREADY_EXISTS:case Ii.PERMISSION_DENIED:case Ii.FAILED_PRECONDITION:case Ii.ABORTED:case Ii.OUT_OF_RANGE:case Ii.UNIMPLEMENTED:case Ii.DATA_LOSS:return!0;default:return li()}}function Ka(t){if(void 0===t)return ci("GRPC error has no .code"),Ii.UNKNOWN;switch(t){case Fa.OK:return Ii.OK;case Fa.CANCELLED:return Ii.CANCELLED;case Fa.UNKNOWN:return Ii.UNKNOWN;case Fa.DEADLINE_EXCEEDED:return Ii.DEADLINE_EXCEEDED;case Fa.RESOURCE_EXHAUSTED:return Ii.RESOURCE_EXHAUSTED;case Fa.INTERNAL:return Ii.INTERNAL;case Fa.UNAVAILABLE:return Ii.UNAVAILABLE;case Fa.UNAUTHENTICATED:return Ii.UNAUTHENTICATED;case Fa.INVALID_ARGUMENT:return Ii.INVALID_ARGUMENT;case Fa.NOT_FOUND:return Ii.NOT_FOUND;case Fa.ALREADY_EXISTS:return Ii.ALREADY_EXISTS;case Fa.PERMISSION_DENIED:return Ii.PERMISSION_DENIED;case Fa.FAILED_PRECONDITION:return Ii.FAILED_PRECONDITION;case Fa.ABORTED:return Ii.ABORTED;case Fa.OUT_OF_RANGE:return Ii.OUT_OF_RANGE;case Fa.UNIMPLEMENTED:return Ii.UNIMPLEMENTED;case Fa.DATA_LOSS:return Ii.DATA_LOSS;default:return li()}}(qa=Fa||(Fa={}))[qa.OK=0]="OK",qa[qa.CANCELLED=1]="CANCELLED",qa[qa.UNKNOWN=2]="UNKNOWN",qa[qa.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qa[qa.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qa[qa.NOT_FOUND=5]="NOT_FOUND",qa[qa.ALREADY_EXISTS=6]="ALREADY_EXISTS",qa[qa.PERMISSION_DENIED=7]="PERMISSION_DENIED",qa[qa.UNAUTHENTICATED=16]="UNAUTHENTICATED",qa[qa.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qa[qa.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qa[qa.ABORTED=10]="ABORTED",qa[qa.OUT_OF_RANGE=11]="OUT_OF_RANGE",qa[qa.UNIMPLEMENTED=12]="UNIMPLEMENTED",qa[qa.INTERNAL=13]="INTERNAL",qa[qa.UNAVAILABLE=14]="UNAVAILABLE",qa[qa.DATA_LOSS=15]="DATA_LOSS";var Wa=function(){function t(t,e){this.J=t,this.root=e||Xa.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,Xa.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,Xa.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Zt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new Ja(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new Ja(this.root,t,this.J,!1)},t.prototype.se=function(){return new Ja(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new Ja(this.root,t,this.J,!0)},t}(),Ja=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),Xa=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw li();if(this.right._e())throw li();var t=this.left.me();if(t!==this.right.me())throw li();return t+(this._e()?0:1)},t}();Xa.EMPTY=null,Xa.RED=!0,Xa.Jt=!1,Xa.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw li()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw li()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw li()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw li()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw li()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new Xa(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var Ya=function(){function t(t){this.J=t,this.data=new Wa(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt((function(e,n){return t(e),!1}))},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new $a(this.data.ee())},t.prototype.ne=function(t){return new $a(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),$a=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),Qa=new Wa(Hi.J);function Za(){return Qa}function ts(){return Za()}var es=new Wa(Hi.J);function ns(){return es}var rs=new Wa(Hi.J);function is(){return rs}var os=new Ya(Hi.J);function as(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=os,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ss=new Ya(mi);function us(){return ss}var cs=function(){function t(t){this.J=t?function(e,n){return t(e,n)||Hi.J(e.key,n.key)}:function(t,e){return Hi.J(t.key,e.key)},this.Ve=ns(),this.pe=new Wa(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),hs=function(){function t(){this.ve=new Wa(Hi.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):li():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt((function(e,n){t.push(n)})),t},t}(),fs=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=a,this.Ne=s}return t.Fe=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,cs.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&na(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),ls=function(){function t(t,e,n,r,i){this.Mt=t,this.Oe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,ps.Be(e,n)),new t(Vi.min(),r,us(),Za(),as())},t}(),ps=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(wi.h,n,as(),as(),as())},t}(),ds=function(t,e,n,r){this.We=t,this.removedTargetIds=e,this.key=n,this.je=r},vs=function(t,e){this.targetId=t,this.Ge=e},ys=function(t,e,n,r){void 0===n&&(n=wi.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},ms=function(){function t(){this.ze=0,this.He=ws(),this.Je=wi.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=as(),e=as(),n=as();return this.He.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:li()}})),new ps(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=ws()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),gs=function(){function t(t){this.hn=t,this.ln=new Map,this._n=Za(),this.fn=bs(),this.dn=new Ya(mi)}return t.prototype.wn=function(t){for(var e=0,n=t.We;e<n.length;e++){var r=n[e];t.je instanceof _o?this.En(r,t.je):t.je instanceof Eo&&this.Tn(r,t.key,t.je)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.Tn(r,t.key,t.je)},t.prototype.In=function(t){var e=this;this.mn(t,(function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:li()}}))},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach((function(t,r){n.Rn(r)&&e(r)}))},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(No(i))if(0===n){var o=new Hi(i.path);this.Tn(e,o,new Eo(o,Vi.min()))}else pi(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach((function(r,i){var o=e.gn(i);if(o){if(r.qe&&No(o.target)){var a=new Hi(o.target.path);null!==e._n.get(a)||e.bn(i,a)||e.Tn(i,a,new Eo(a,t))}r.tn&&(n.set(i,r.nn()),r.sn())}}));var r=as();this.fn.forEach((function(t,n){var i=!0;n.Re((function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new ls(t,n,this.dn,this._n,r);return this._n=Za(),this.fn=bs(),this.dn=new Ya(mi),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new ms,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new Ya(mi),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||ui("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new ms),this.hn.Sn(t).forEach((function(n){e.Tn(t,n,null)}))},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function bs(){return new Wa(Hi.J)}function ws(){return new Wa(Hi.J)}var Is={asc:"ASCENDING",desc:"DESCENDING"},_s={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Es=function(t,e){this.T=t,this.qt=e};function Ts(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function As(t,e){return t.qt?e.toBase64():e.toUint8Array()}function Ss(t,e){return Ts(t,e.G())}function ks(t){return pi(!!t),Vi.W(function(t){var e=Xi(t);return new ji(e.seconds,e.nanos)}(t))}function xs(t,e){return function(t){return new Fi(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function Ns(t){var e=Fi.ct(t);return pi(Zs(e)),e}function Os(t,e){return xs(t.T,e.path)}function Ps(t,e){var n=Ns(e);if(n.get(1)!==t.T.projectId)throw new _i(Ii.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new _i(Ii.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new Hi(Ls(n))}function Ds(t,e){return xs(t.T,e)}function Rs(t){var e=Ns(t);return 4===e.length?Fi.at():Ls(e)}function Cs(t){return new Fi(["projects",t.T.projectId,"databases",t.T.database]).ot()}function Ls(t){return pi(t.length>4&&"documents"===t.get(4)),t.X(5)}function Ms(t,e,n){return{name:Os(t,e),fields:n.proto.mapValue.fields}}function js(t,e,n){var r=Ps(t,e.name),i=ks(e.updateTime),o=new go({mapValue:{fields:e.fields}});return new _o(r,i,o,{hasCommittedMutations:!!n})}function Vs(t,e){var n;if(e instanceof Ca)n={update:Ms(t,e.key,e.value)};else if(e instanceof za)n={delete:Os(t,e.key)};else if(e instanceof La)n={update:Ms(t,e.key,e.data),updateMask:Qs(e.zt)};else{if(!(e instanceof Ha))return li();n={verify:Os(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof ya)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof ma)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof ba)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof Ia)return{fieldPath:e.field.ot(),increment:n.Qt};throw li()}(0,t)}))),e.Gt.jt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ss(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:li()}(t,e.Gt)),n}function Us(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Sa.updateTime(ks(t.updateTime)):void 0!==t.exists?Sa.exists(t.exists):Sa.Wt()}(e.currentDocument):Sa.Wt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)pi("REQUEST_TIME"===e.setToServerValue),n=new ya;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new ma(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new ba(i)}else"increment"in e?n=new Ia(t,e.increment):li();var o=zi._t(e.fieldPath);return new Ta(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=Ps(t,e.update.name),o=new go({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new Wi(e.map((function(t){return zi._t(t)})))}(e.updateMask);return new La(i,o,a,n,r)}return new Ca(i,o,n,r)}if(e.delete){var s=Ps(t,e.delete);return new za(s,n)}if(e.verify){var u=Ps(t,e.verify);return new Ha(u,n)}return li()}function Fs(t,e){return{documents:[Ds(t,e.path)]}}function qs(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Ds(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ds(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(yo(t.value))return{unaryFilter:{field:Js(t.field),op:"IS_NAN"}};if(vo(t.value))return{unaryFilter:{field:Js(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(yo(t.value))return{unaryFilter:{field:Js(t.field),op:"IS_NOT_NAN"}};if(vo(t.value))return{unaryFilter:{field:Js(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Js(t.field),op:Ws(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Js(t.field),direction:Ks(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.qt||eo(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=Bs(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Bs(e.endAt)),n}function zs(t){var e=Rs(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){pi(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=Hs(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new qo(Xs(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return eo(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Gs(n.startAt));var h=null;return n.endAt&&(h=Gs(n.endAt)),Ko(e,i,s,a,u,"F",c,h)}function Hs(t){return t?void 0!==t.unaryFilter?[$s(t)]:void 0!==t.fieldFilter?[Ys(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return Hs(t)})).reduce((function(t,e){return t.concat(e)})):li():[]}function Bs(t){return{before:t.before,values:t.position}}function Gs(t){var e=!!t.before,n=t.values||[];return new Uo(n,e)}function Ks(t){return Is[t]}function Ws(t){return _s[t]}function Js(t){return{fieldPath:t.ot()}}function Xs(t){return zi._t(t.fieldPath)}function Ys(t){return Oo.create(Xs(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return li()}}(t.fieldFilter.op),t.fieldFilter.value)}function $s(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Xs(t.unaryFilter.field);return Oo.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Xs(t.unaryFilter.field);return Oo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Xs(t.unaryFilter.field);return Oo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Xs(t.unaryFilter.field);return Oo.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return li()}}function Qs(t){var e=[];return t.fields.forEach((function(t){return e.push(t.ot())})),{fieldPaths:e}}function Zs(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var tu=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},eu=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.Fn=!1,t((function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)}),(function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Fn&&li(),this.Fn=!0,this.Nn?this.error?this.On(n,this.error):this.kn(e,this.result):new t((function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.On(n,e).next(t,i)}}))},t.prototype.Mn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln((function(){return e(n)})):t.resolve(n)},t.prototype.On=function(e,n){return e?this.Ln((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),nu=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new tu,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new ou(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=hu(e.target.error);n.qn.reject(new ou(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new ou(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(ui("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new su(e)},t}(),ru=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(v())&&ci("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return ui("SimpleDb","Removing database:",t),uu(window.indexedDB.deleteDatabase(t)).Mn()},t.Wn=function(){if("undefined"==typeof indexedDB)return!1;if(t.jn())return!0;var e=v(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.jn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return s(this,void 0,void 0,(function(){var e,n=this;return u(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(ui("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ou(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new _i(Ii.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new ou(t,n))},i.onupgradeneeded=function(t){ui("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.Qn.Yn(e,i.transaction,t.oldVersion,n.version).next((function(){ui("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}}))}))},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return s(this,void 0,void 0,(function(){var i,o,a,s,c;return u(this,(function(h){switch(h.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,c,h,f;return u(this,(function(u){switch(u.label){case 0:++o,u.label=1;case 1:return u.trys.push([1,4,,5]),[4,s.Jn(t)];case 2:return s.db=u.sent(),e=nu.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),eu.reject(t)})).Mn(),c={},a.catch((function(){})),[4,e.Un];case 3:return[2,(c.value=(u.sent(),a),c)];case 4:return h=u.sent(),f="FirebaseError"!==h.name&&o<3,ui("SimpleDb","Transaction failed with error:",h.message,"Retrying:",f),s.close(),f?[3,5]:[2,{value:Promise.reject(h)}];case 5:return[2]}}))},s=this,h.label=1;case 1:return[5,a()];case 2:if("object"==typeof(c=h.sent()))return[2,c.value];h.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),iu=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return uu(this.ts.delete())},t}(),ou=function(t){function e(e,n){var r=this;return(r=t.call(this,Ii.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return o(e,t),e}(_i);function au(t){return"IndexedDbTransactionError"===t.name}var su=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(ui("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ui("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),uu(n)},t.prototype.add=function(t){return ui("SimpleDb","ADD",this.store.name,t,t),uu(this.store.add(t))},t.prototype.get=function(t){var e=this;return uu(this.store.get(t)).next((function(n){return void 0===n&&(n=null),ui("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return ui("SimpleDb","DELETE",this.store.name,t),uu(this.store.delete(t))},t.prototype.count=function(){return ui("SimpleDb","COUNT",this.store.name),uu(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.us=function(t,e){ui("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,(function(t,e,n){return n.delete()}))},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new eu((function(n,r){e.onerror=function(t){var e=hu(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.cs=function(t,e){var n=[];return new eu((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new iu(i),a=e(i.primaryKey,i.value,o);if(a instanceof eu){var s=a.catch((function(t){return o.done(),eu.reject(t)}));n.push(s)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}})).next((function(){return eu.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function uu(t){return new eu((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=hu(t.target.error);n(e)}}))}var cu=!1;function hu(t){var e=ru.Kn(v());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new _i("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return cu||(cu=!0,setTimeout((function(){throw r}),0)),r}}return t}var fu=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new tu,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch((function(t){}))}return t.Is=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.As=setTimeout((function(){return e.Rs()}),t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new _i(Ii.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys((function(){return null!==t.As?(t.clearTimeout(),t.op().then((function(e){return t.Ts.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function lu(t,e){if(ci("AsyncQueue",e+": "+t),au(t))return new _i(Ii.UNAVAILABLE,e+": "+t);throw t}var pu=function(t,e){this.progress=t,this.gs=e},du="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",vu=function(){function t(){this.Vs=[]}return t.prototype.ps=function(t){this.Vs.push(t)},t.prototype.bs=function(){this.Vs.forEach((function(t){return t()}))},t}();function yu(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=gu(e)),e=mu(t.get(n),e);return gu(e)}function mu(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function gu(t){return t+""}function bu(t){var e=t.length;if(pi(e>=2),2===e)return pi(""===t.charAt(0)&&""===t.charAt(1)),Fi.at();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||a>n)&&li(),t.charAt(a+1)){case"":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:li()}o=a+2}return new Fi(r)}var wu=function(t,e){this.seconds=t,this.nanoseconds=e},Iu=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Iu.store="owner",Iu.key="owner";var _u=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};_u.store="mutationQueues",_u.keyPath="userId";var Eu=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Eu.store="mutations",Eu.keyPath="batchId",Eu.userMutationsIndex="userMutationsIndex",Eu.userMutationsKeyPath=["userId","batchId"];var Tu=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,yu(e)]},t.key=function(t,e,n){return[t,yu(e),n]},t}();Tu.store="documentMutations",Tu.PLACEHOLDER=new Tu;var Au=function(t,e){this.path=t,this.readTime=e},Su=function(t,e){this.path=t,this.version=e},ku=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};ku.store="remoteDocuments",ku.readTimeIndex="readTimeIndex",ku.readTimeIndexPath="readTime",ku.collectionReadTimeIndex="collectionReadTimeIndex",ku.collectionReadTimeIndexPath=["parentPath","readTime"];var xu=function(t){this.byteSize=t};xu.store="remoteDocumentGlobal",xu.key="remoteDocumentGlobalKey";var Nu=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Nu.store="targets",Nu.keyPath="targetId",Nu.queryTargetsIndexName="queryTargetsIndex",Nu.queryTargetsKeyPath=["canonicalId","targetId"];var Ou=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ou.store="targetDocuments",Ou.keyPath=["targetId","path"],Ou.documentTargetsIndex="documentTargetsIndex",Ou.documentTargetsKeyPath=["path","targetId"];var Pu=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Pu.key="targetGlobalKey",Pu.store="targetGlobal";var Du=function(t,e){this.collectionId=t,this.parent=e};Du.store="collectionParents",Du.keyPath=["collectionId","parent"];var Ru=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Ru.store="clientMetadata",Ru.keyPath="clientId";var Cu=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Cu.store="bundles",Cu.keyPath="bundleId";var Lu=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Lu.store="namedQueries",Lu.keyPath="name";var Mu=l(l(l(l([_u.store,Eu.store,Tu.store,ku.store,Nu.store,Iu.store,Pu.store,Ou.store],[Ru.store]),[xu.store]),[Du.store]),[Cu.store,Lu.store]),ju=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).vs=e,r.Ss=n,r}return o(e,t),e}(vu);function Vu(t,e){var n=di(t);return ru.Hn(n.vs,e)}var Uu=function(){function t(t,e,n,r){this.batchId=t,this.Ds=e,this.baseMutations=n,this.mutations=r}return t.prototype.Cs=function(t,e,n){for(var r=n.xs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Na(o,e,r[i]))}return e},t.prototype.Ns=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Oa(i,e,e,this.Ds))}for(var o=e,a=0,s=this.mutations;a<s.length;a++){var u=s[a];u.key.isEqual(t)&&(e=Oa(u,e,o,this.Ds))}return e},t.prototype.Fs=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Ns(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),as())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&gi(this.mutations,t.mutations,(function(t,e){return Da(t,e)}))&&gi(this.baseMutations,t.baseMutations,(function(t,e){return Da(t,e)}))},t}(),Fu=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.xs=n,this.ks=r}return t.from=function(e,n,r){pi(e.mutations.length===r.length);for(var i=is(),o=e.mutations,a=0;a<o.length;a++)i=i.Ht(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),qu=function(t){this.Ms=t};function zu(t,e){if(e.document)return js(t.Ms,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Hi.Tt(e.noDocument.path),r=Wu(e.noDocument.readTime);return new Eo(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Hi.Tt(e.unknownDocument.path);return r=Wu(e.unknownDocument.version),new To(i,r)}return li()}function Hu(t,e,n){var r=Bu(n),i=e.key.path.Z().rt();if(e instanceof _o){var o=function(t,e){return{name:Os(t,e.key),fields:e.vt().mapValue.fields,updateTime:Ts(t,e.version.G())}}(t.Ms,e),a=e.hasCommittedMutations;return new ku(null,null,o,a,r,i)}if(e instanceof Eo){var s=e.key.path.rt(),u=Ku(e.version);return a=e.hasCommittedMutations,new ku(null,new Au(s,u),null,a,r,i)}if(e instanceof To){var c=e.key.path.rt(),h=Ku(e.version);return new ku(new Su(c,h),null,null,!0,r,i)}return li()}function Bu(t){var e=t.G();return[e.seconds,e.nanoseconds]}function Gu(t){var e=new ji(t[0],t[1]);return Vi.W(e)}function Ku(t){var e=t.G();return new wu(e.seconds,e.nanoseconds)}function Wu(t){var e=new ji(t.seconds,t.nanoseconds);return Vi.W(e)}function Ju(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Us(t.Ms,e)})),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map((function(e){return Us(t.Ms,e)})),a=ji.fromMillis(e.localWriteTimeMs);return new Uu(e.batchId,a,n,o)}function Xu(t){var e,n,r=Wu(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Wu(t.lastLimboFreeSnapshotVersion):Vi.min();return void 0!==t.query.documents?(pi(1===(n=t.query).documents.length),e=ta(Wo(Rs(n.documents[0])))):e=function(t){return ta(zs(t))}(t.query),new ua(e,t.targetId,0,t.lastListenSequenceNumber,r,i,wi.fromBase64String(t.resumeToken))}function Yu(t,e){var n,r=Ku(e.Mt),i=Ku(e.lastLimboFreeSnapshotVersion);n=No(e.target)?Fs(t.Ms,e.target):qs(t.Ms,e.target);var o=e.resumeToken.toBase64();return new Nu(e.targetId,ko(e.target),r,o,e.sequenceNumber,i,n)}function $u(t){var e=zs({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ea(e,e.limit,"L"):e}var Qu=function(){function t(){}return t.prototype.Ls=function(t,e){return Zu(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Wu(e.createTime),version:e.version};var e}))},t.prototype.$s=function(t,e){return Zu(t).put({bundleId:(n=e).id,createTime:Ku(ks(n.createTime)),version:n.version});var n},t.prototype.Bs=function(t,e){return tc(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:$u(e.bundledQuery),readTime:Wu(e.readTime)};var e}))},t.prototype.qs=function(t,e){return tc(t).put(function(t){return{name:t.name,readTime:Ku(ks(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Zu(t){return Vu(t,Cu.store)}function tc(t){return Vu(t,Lu.store)}var ec=function(){function t(){this.Us=new nc}return t.prototype.Qs=function(t,e){return this.Us.add(e),eu.resolve()},t.prototype.Ks=function(t,e){return eu.resolve(this.Us.getEntries(e))},t}(),nc=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new Ya(Fi.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Ya(Fi.J)).rt()},t}(),rc=function(){function t(){this.Ws=new nc}return t.prototype.Qs=function(t,e){var n=this;if(!this.Ws.has(e)){var r=e.et(),i=e.Z();t.ps((function(){n.Ws.add(e)}));var o={collectionId:r,parent:yu(i)};return ic(t).put(o)}return eu.resolve()},t.prototype.Ks=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[bi(e),""],!1,!0);return ic(t).os(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(bu(o.parent))}return n}))},t}();function ic(t){return Vu(t,Du.store)}var oc={js:!1,Gs:0,zs:0,Hs:0},ac=function(){function t(t,e,n){this.Js=t,this.Ys=e,this.Xs=n}return t.Zs=function(e){return new t(e,t.ti,t.ei)},t}();function sc(t){return s(this,void 0,void 0,(function(){return u(this,(function(e){if(t.code!==Ii.FAILED_PRECONDITION||t.message!==du)throw t;return ui("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}ac.ti=10,ac.ei=1e3,ac.ni=new ac(41943040,ac.ti,ac.ei),ac.si=new ac(-1,0,0);var uc=function(){function t(t,e){this.ii=t,this.ri=e,this.oi={}}return t.prototype.get=function(t){var e=this.ii(t),n=this.oi[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.ri(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ii(t),r=this.oi[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ri(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.oi[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ii(t),n=this.oi[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ri(n[r][0],t))return 1===n.length?delete this.oi[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Gi(this.oi,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},t.prototype.nt=function(){return Ki(this.oi)},t}(),cc=function(){function t(){this.ci=new uc((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.ai=!1}return t.prototype.ui=function(t){var e=this.ci.get(t);return e?e.readTime:Vi.min()},t.prototype.hi=function(t,e){this.li(),this.ci.set(t.key,{_i:t,readTime:e})},t.prototype.fi=function(t,e){void 0===e&&(e=null),this.li(),this.ci.set(t,{_i:null,readTime:e})},t.prototype.di=function(t,e){this.li();var n=this.ci.get(e);return void 0!==n?eu.resolve(n._i):this.wi(t,e)},t.prototype.getEntries=function(t,e){return this.Ei(t,e)},t.prototype.apply=function(t){return this.li(),this.ai=!0,this.Ti(t)},t.prototype.li=function(){},t}();function hc(t,e,n){var r=t.store(Eu.store),i=t.store(Tu.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.ls({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){pi(1===s)})));for(var c=[],h=0,f=n.mutations;h<f.length;h++){var l=f[h],p=Tu.key(e,l.key.path,n.batchId);o.push(i.delete(p)),c.push(l.key)}return eu.$n(o).next((function(){return c}))}function fc(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw li();e=t.noDocument}return JSON.stringify(e).length}var lc=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ii=n,this.mi=r,this.Ai={}}return t.Ri=function(e,n,r,i){return pi(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Pi=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return dc(t).ls({index:Eu.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.yi=function(t,e,n,r){var i=this,o=vc(t),a=dc(t);return a.add({}).next((function(s){pi("number"==typeof s);for(var u=new Uu(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Vs(t.Ms,e)})),i=n.mutations.map((function(e){return Vs(t.Ms,e)}));return new Eu(e,n.batchId,n.Ds.toMillis(),r,i)}(i.Kt,i.userId,u),h=[],f=new Ya((function(t,e){return mi(t.ot(),e.ot())})),l=0,p=r;l<p.length;l++){var d=p[l],v=Tu.key(i.userId,d.key.path,s);f=f.add(d.key.path.Z()),h.push(a.put(c)),h.push(o.put(v,Tu.PLACEHOLDER))}return f.forEach((function(e){h.push(i.Ii.Qs(t,e))})),t.ps((function(){i.Ai[s]=u.keys()})),eu.$n(h).next((function(){return u}))}))},t.prototype.gi=function(t,e){var n=this;return dc(t).get(e).next((function(t){return t?(pi(t.userId===n.userId),Ju(n.Kt,t)):null}))},t.prototype.Vi=function(t,e){var n=this;return this.Ai[e]?eu.resolve(this.Ai[e]):this.gi(t,e).next((function(t){if(t){var r=t.keys();return n.Ai[e]=r,r}return null}))},t.prototype.pi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return dc(t).ls({index:Eu.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(pi(e.batchId>=r),o=Ju(n.Kt,e)),i.done()})).next((function(){return o}))},t.prototype.bi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return dc(t).ls({index:Eu.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.vi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return dc(t).os(Eu.userMutationsIndex,n).next((function(t){return t.map((function(t){return Ju(e.Kt,t)}))}))},t.prototype.Si=function(t,e){var n=this,r=Tu.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return vc(t).ls({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],h=bu(u);if(s===n.userId&&e.path.isEqual(h))return dc(t).get(c).next((function(t){if(!t)throw li();pi(t.userId===n.userId),o.push(Ju(n.Kt,t))}));a.done()})).next((function(){return o}))},t.prototype.Di=function(t,e){var n=this,r=new Ya(mi),i=[];return e.forEach((function(e){var o=Tu.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=vc(t).ls({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],c=bu(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),eu.$n(i).next((function(){return n.Ci(t,r)}))},t.prototype.xi=function(t,e){var n=this,r=e.path,i=r.length+1,o=Tu.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Ya(mi);return vc(t).ls({range:a},(function(t,e,o){var a=t[0],u=t[1],c=t[2],h=bu(u);a===n.userId&&r.st(h)?h.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Ci(t,s)}))},t.prototype.Ci=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(dc(t).get(e).next((function(t){if(null===t)throw li();pi(t.userId===n.userId),r.push(Ju(n.Kt,t))})))})),eu.$n(i).next((function(){return r}))},t.prototype.Ni=function(t,e){var n=this;return hc(t.vs,this.userId,e).next((function(r){return t.ps((function(){n.Fi(e.batchId)})),eu.forEach(r,(function(e){return n.mi.Oi(t,e)}))}))},t.prototype.Fi=function(t){delete this.Ai[t]},t.prototype.ki=function(t){var e=this;return this.Pi(t).next((function(n){if(!n)return eu.resolve();var r=IDBKeyRange.lowerBound(Tu.prefixForUser(e.userId)),i=[];return vc(t).ls({range:r},(function(t,n,r){if(t[0]===e.userId){var o=bu(t[1]);i.push(o)}else r.done()})).next((function(){pi(0===i.length)}))}))},t.prototype.Mi=function(t,e){return pc(t,this.userId,e)},t.prototype.Li=function(t){var e=this;return yc(t).get(this.userId).next((function(t){return t||new _u(e.userId,-1,"")}))},t}();function pc(t,e,n){var r=Tu.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return vc(t).ls({range:o,hs:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function dc(t){return Vu(t,Eu.store)}function vc(t){return Vu(t,Tu.store)}function yc(t){return Vu(t,_u.store)}var mc=function(){function t(t){this.$i=t}return t.prototype.next=function(){return this.$i+=2,this.$i},t.Bi=function(){return new t(0)},t.qi=function(){return new t(-1)},t}(),gc=function(){function t(t,e){this.mi=t,this.Kt=e}return t.prototype.Ui=function(t){var e=this;return this.Qi(t).next((function(n){var r=new mc(n.highestTargetId);return n.highestTargetId=r.next(),e.Ki(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Wi=function(t){return this.Qi(t).next((function(t){return Vi.W(new ji(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.ji=function(t){return this.Qi(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Gi=function(t,e,n){var r=this;return this.Qi(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ki(t,i)}))},t.prototype.zi=function(t,e){var n=this;return this.Hi(t,e).next((function(){return n.Qi(t).next((function(r){return r.targetCount+=1,n.Ji(e,r),n.Ki(t,r)}))}))},t.prototype.Yi=function(t,e){return this.Hi(t,e)},t.prototype.Xi=function(t,e){var n=this;return this.Zi(t,e.targetId).next((function(){return bc(t).delete(e.targetId)})).next((function(){return n.Qi(t)})).next((function(e){return pi(e.targetCount>0),e.targetCount-=1,n.Ki(t,e)}))},t.prototype.tr=function(t,e,n){var r=this,i=0,o=[];return bc(t).ls((function(a,s){var u=Xu(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Xi(t,u)))})).next((function(){return eu.$n(o)})).next((function(){return i}))},t.prototype.mn=function(t,e){return bc(t).ls((function(t,n){var r=Xu(n);e(r)}))},t.prototype.Qi=function(t){return wc(t).get(Pu.key).next((function(t){return pi(null!==t),t}))},t.prototype.Ki=function(t,e){return wc(t).put(Pu.key,e)},t.prototype.Hi=function(t,e){return bc(t).put(Yu(this.Kt,e))},t.prototype.Ji=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.er=function(t){return this.Qi(t).next((function(t){return t.targetCount}))},t.prototype.nr=function(t,e){var n=ko(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return bc(t).ls({range:r,index:Nu.queryTargetsIndexName},(function(t,n,r){var o=Xu(n);xo(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.sr=function(t,e,n){var r=this,i=[],o=Ic(t);return e.forEach((function(e){var a=yu(e.path);i.push(o.put(new Ou(n,a))),i.push(r.mi.ir(t,n,e))})),eu.$n(i)},t.prototype.rr=function(t,e,n){var r=this,i=Ic(t);return eu.forEach(e,(function(e){var o=yu(e.path);return eu.$n([i.delete([n,o]),r.mi.cr(t,n,e)])}))},t.prototype.Zi=function(t,e){var n=Ic(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.ar=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Ic(t),i=as();return r.ls({range:n,hs:!0},(function(t,e,n){var r=bu(t[1]),o=new Hi(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Mi=function(t,e){var n=yu(e.path),r=IDBKeyRange.bound([n],[bi(n)],!1,!0),i=0;return Ic(t).ls({index:Ou.documentTargetsIndex,hs:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Dn=function(t,e){return bc(t).get(e).next((function(t){return t?Xu(t):null}))},t}();function bc(t){return Vu(t,Nu.store)}function wc(t){return Vu(t,Pu.store)}function Ic(t){return Vu(t,Ou.store)}function _c(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=mi(n,i);return 0===a?mi(r,o):a}var Ec=function(){function t(t){this.ur=t,this.buffer=new Ya(_c),this.hr=0}return t.prototype.lr=function(){return++this.hr},t.prototype._r=function(t){var e=[t,this.lr()];if(this.buffer.size<this.ur)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();_c(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Tc=function(){function t(t,e){this.dr=t,this.fs=e,this.wr=!1,this.Er=null}return t.prototype.start=function(t){-1!==this.dr.params.Js&&this.Tr(t)},t.prototype.stop=function(){this.Er&&(this.Er.cancel(),this.Er=null)},Object.defineProperty(t.prototype,"Ir",{get:function(){return null!==this.Er},enumerable:!1,configurable:!0}),t.prototype.Tr=function(t){var e=this,n=this.wr?3e5:6e4;ui("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Er=this.fs.mr("lru_garbage_collection",n,(function(){return s(e,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:this.Er=null,this.wr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ar(this.dr)];case 2:return n.sent(),[3,7];case 3:return au(e=n.sent())?(ui("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,sc(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Tr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Ac=function(){function t(t,e){this.Rr=t,this.params=e}return t.prototype.Pr=function(t,e){return this.Rr.yr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.gr=function(t,e){var n=this;if(0===e)return eu.resolve(Mi.U);var r=new Ec(e);return this.Rr.mn(t,(function(t){return r._r(t.sequenceNumber)})).next((function(){return n.Rr.Vr(t,(function(t){return r._r(t)}))})).next((function(){return r.maxValue}))},t.prototype.tr=function(t,e,n){return this.Rr.tr(t,e,n)},t.prototype.pr=function(t,e){return this.Rr.pr(t,e)},t.prototype.br=function(t,e){var n=this;return-1===this.params.Js?(ui("LruGarbageCollector","Garbage collection skipped; disabled"),eu.resolve(oc)):this.vr(t).next((function(r){return r<n.params.Js?(ui("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Js),oc):n.Sr(t,e)}))},t.prototype.vr=function(t){return this.Rr.vr(t)},t.prototype.Sr=function(t,e){var n,r,i,o,a,s,u,c=this,h=Date.now();return this.Pr(t,this.params.Ys).next((function(e){return e>c.params.Xs?(ui("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Xs+" from "+e),r=c.params.Xs):r=e,o=Date.now(),c.gr(t,r)})).next((function(r){return n=r,a=Date.now(),c.tr(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.pr(t,n)})).next((function(t){return u=Date.now(),si()<=P.DEBUG&&ui("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-h)+"ms"),eu.resolve({js:!0,Gs:r,zs:i,Hs:t})}))},t}(),Sc=function(){function t(t,e){this.db=t,this.dr=function(t,e){return new Ac(t,e)}(this,e)}return t.prototype.yr=function(t){var e=this.Dr(t);return this.db.Cr().er(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Dr=function(t){var e=0;return this.Vr(t,(function(t){e++})).next((function(){return e}))},t.prototype.mn=function(t,e){return this.db.Cr().mn(t,e)},t.prototype.Vr=function(t,e){return this.Nr(t,(function(t,n){return e(n)}))},t.prototype.ir=function(t,e,n){return kc(t,n)},t.prototype.cr=function(t,e,n){return kc(t,n)},t.prototype.tr=function(t,e,n){return this.db.Cr().tr(t,e,n)},t.prototype.Oi=function(t,e){return kc(t,e)},t.prototype.Fr=function(t,e){return function(t,e){var n=!1;return yc(t)._s((function(r){return pc(t,r,e).next((function(t){return t&&(n=!0),eu.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.pr=function(t,e){var n=this,r=this.db.kr().Or(),i=[],o=0;return this.Nr(t,(function(a,s){if(s<=e){var u=n.Fr(t,a).next((function(e){if(!e)return o++,r.di(t,a).next((function(){return r.fi(a),Ic(t).delete([0,yu(a.path)])}))}));i.push(u)}})).next((function(){return eu.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.Ss);return this.db.Cr().Yi(t,n)},t.prototype.Mr=function(t,e){return kc(t,e)},t.prototype.Nr=function(t,e){var n,r=Ic(t),i=Mi.U;return r.ls({index:Ou.documentTargetsIndex},(function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==Mi.U&&e(new Hi(bu(n)),i),i=s,n=a):i=Mi.U})).next((function(){i!==Mi.U&&e(new Hi(bu(n)),i)}))},t.prototype.vr=function(t){return this.db.kr().Lr(t)},t}();function kc(t,e){return Ic(t).put(function(t,e){return new Ou(0,yu(t.path),e)}(e,t.Ss))}var xc=function(){function t(t,e){this.Kt=t,this.Ii=e}return t.prototype.hi=function(t,e,n){return Pc(t).put(Dc(e),n)},t.prototype.fi=function(t,e){var n=Pc(t),r=Dc(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.$r(t,r)}))},t.prototype.di=function(t,e){var n=this;return Pc(t).get(Dc(e)).next((function(t){return n.Br(t)}))},t.prototype.qr=function(t,e){var n=this;return Pc(t).get(Dc(e)).next((function(t){var e=n.Br(t);return e?{_i:e,size:fc(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=ts();return this.Ur(t,e,(function(t,e){var i=n.Br(e);r=r.Ht(t,i)})).next((function(){return r}))},t.prototype.Qr=function(t,e){var n=this,r=ts(),i=new Wa(Hi.J);return this.Ur(t,e,(function(t,e){var o=n.Br(e);o?(r=r.Ht(t,o),i=i.Ht(t,fc(e))):(r=r.Ht(t,null),i=i.Ht(t,0))})).next((function(){return{Kr:r,Wr:i}}))},t.prototype.Ur=function(t,e,n){if(e.nt())return eu.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return Pc(t).ls({range:r},(function(t,e,r){for(var a=Hi.Tt(t);o&&Hi.J(o,a)<0;)n(o,null),o=i.ce();o&&o.isEqual(a)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ae()?i.ce():null}))},t.prototype.jr=function(t,e,n){var r=this,i=ns(),o=e.path.length+1,a={};if(n.isEqual(Vi.min())){var s=e.path.rt();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.rt(),c=Bu(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=ku.collectionReadTimeIndex}return Pc(t).ls(a,(function(t,n,a){if(t.length===o){var s=zu(r.Kt,n);e.path.st(s.key.path)?s instanceof _o&&oa(e,s)&&(i=i.Ht(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.Or=function(t){return new Nc(this,!!t&&t.Gr)},t.prototype.Lr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Oc(t).get(xu.key).next((function(t){return pi(!!t),t}))},t.prototype.$r=function(t,e){return Oc(t).put(xu.key,e)},t.prototype.Br=function(t){if(t){var e=zu(this.Kt,t);return e instanceof Eo&&e.version.isEqual(Vi.min())?null:e}return null},t}(),Nc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zr=e,r.Gr=n,r.Hr=new uc((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return o(e,t),e.prototype.Ti=function(t){var e=this,n=[],r=0,i=new Ya((function(t,e){return mi(t.ot(),e.ot())}));return this.ci.forEach((function(o,a){var s=e.Hr.get(o);if(a._i){var u=Hu(e.zr.Kt,a._i,e.ui(o));i=i.add(o.path.Z());var c=fc(u);r+=c-s,n.push(e.zr.hi(t,o,u))}else if(r-=s,e.Gr){var h=Hu(e.zr.Kt,new Eo(o,Vi.min()),e.ui(o));n.push(e.zr.hi(t,o,h))}else n.push(e.zr.fi(t,o))})),i.forEach((function(r){n.push(e.zr.Ii.Qs(t,r))})),n.push(this.zr.updateMetadata(t,r)),eu.$n(n)},e.prototype.wi=function(t,e){var n=this;return this.zr.qr(t,e).next((function(t){return null===t?(n.Hr.set(e,0),null):(n.Hr.set(e,t.size),t._i)}))},e.prototype.Ei=function(t,e){var n=this;return this.zr.Qr(t,e).next((function(t){var e=t.Kr;return t.Wr.forEach((function(t,e){n.Hr.set(t,e)})),e}))},e}(cc);function Oc(t){return Vu(t,xu.store)}function Pc(t){return Vu(t,ku.store)}function Dc(t){return t.path.rt()}var Rc=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;pi(n<r&&n>=0&&r<=11);var o=new nu("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Iu.store)}(t),function(t){t.createObjectStore(_u.store,{keyPath:_u.keyPath}),t.createObjectStore(Eu.store,{keyPath:Eu.keyPath,autoIncrement:!0}).createIndex(Eu.userMutationsIndex,Eu.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Tu.store)}(t),Cc(t),function(t){t.createObjectStore(ku.store)}(t));var a=eu.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Ou.store),t.deleteObjectStore(Nu.store),t.deleteObjectStore(Pu.store)}(t),Cc(t)),a=a.next((function(){return function(t){var e=t.store(Pu.store),n=new Pu(0,0,Vi.min().G(),0);return e.put(Pu.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(Eu.store).os().next((function(n){t.deleteObjectStore(Eu.store),t.createObjectStore(Eu.store,{keyPath:Eu.keyPath,autoIncrement:!0}).createIndex(Eu.userMutationsIndex,Eu.userMutationsKeyPath,{unique:!0});var r=e.store(Eu.store),i=n.map((function(t){return r.put(t)}));return eu.$n(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(Ru.store,{keyPath:Ru.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.Jr(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(xu.store)}(t),i.Yr(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.Xr(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Zr(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(ku.store);e.createIndex(ku.readTimeIndex,ku.readTimeIndexPath,{unique:!1}),e.createIndex(ku.collectionReadTimeIndex,ku.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.eo(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(Cu.store,{keyPath:Cu.keyPath})}(t),function(t){t.createObjectStore(Lu.store,{keyPath:Lu.keyPath})}(t)}))),a},t.prototype.Yr=function(t){var e=0;return t.store(ku.store).ls((function(t,n){e+=fc(n)})).next((function(){var n=new xu(e);return t.store(xu.store).put(xu.key,n)}))},t.prototype.Jr=function(t){var e=this,n=t.store(_u.store),r=t.store(Eu.store);return n.os().next((function(n){return eu.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(Eu.userMutationsIndex,i).next((function(r){return eu.forEach(r,(function(r){pi(r.userId===n.userId);var i=Ju(e.Kt,r);return hc(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Xr=function(t){var e=t.store(Ou.store),n=t.store(ku.store);return t.store(Pu.store).get(Pu.key).next((function(t){var r=[];return n.ls((function(n,i){var o=new Fi(n),a=function(t){return[0,yu(t)]}(o);r.push(e.get(a).next((function(n){return n?eu.resolve():function(n){return e.put(new Ou(0,yu(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return eu.$n(r)}))}))},t.prototype.Zr=function(t,e){t.createObjectStore(Du.store,{keyPath:Du.keyPath});var n=e.store(Du.store),r=new nc,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:yu(i)})}};return e.store(ku.store).ls({hs:!0},(function(t,e){var n=new Fi(t);return i(n.Z())})).next((function(){return e.store(Tu.store).ls({hs:!0},(function(t,e){t[0];var n=t[1],r=(t[2],bu(n));return i(r.Z())}))}))},t.prototype.eo=function(t){var e=this,n=t.store(Nu.store);return n.ls((function(t,r){var i=Xu(r),o=Yu(e.Kt,i);return n.put(o)}))},t}();function Cc(t){t.createObjectStore(Ou.store,{keyPath:Ou.keyPath}).createIndex(Ou.documentTargetsIndex,Ou.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Nu.store,{keyPath:Nu.keyPath}).createIndex(Nu.queryTargetsIndexName,Nu.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Pu.store)}var Lc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Mc=function(){function t(e,n,r,i,o,a,s,u,c,h){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.no=o,this.window=a,this.document=s,this.so=c,this.io=h,this.ro=null,this.oo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.co=null,this.inForeground=!1,this.ao=null,this.uo=null,this.ho=Number.NEGATIVE_INFINITY,this.lo=function(t){return Promise.resolve()},!t.Wn())throw new _i(Ii.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.mi=new Sc(this,i),this._o=n+"main",this.Kt=new qu(u),this.fo=new ru(this._o,11,new Rc(this.Kt)),this.wo=new gc(this.mi,this.Kt),this.Ii=new rc,this.Eo=function(t,e){return new xc(t,e)}(this.Kt,this.Ii),this.To=new Qu,this.window&&this.window.localStorage?this.Io=this.window.localStorage:(this.Io=null,!1===h&&ci("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.mo().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new _i(Ii.FAILED_PRECONDITION,Lc);return t.Ao(),t.Ro(),t.Po(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.wo.ji(e)}))})).then((function(e){t.ro=new Mi(e,t.so)})).then((function(){t.oo=!0})).catch((function(e){return t.fo&&t.fo.close(),Promise.reject(e)}))},t.prototype.yo=function(t){var e=this;return this.lo=function(n){return s(e,void 0,void 0,(function(){return u(this,(function(e){return this.Ir?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Vo=function(t){var e=this;this.fo.Zn((function(n){return s(e,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.po=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.no.ys((function(){return s(e,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.Ir?[4,this.mo()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.mo=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Vc(e).put(new Ru(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.bo(e).next((function(e){e||(t.isPrimary=!1,t.no.vo((function(){return t.lo(!1)})))}))})).next((function(){return t.So(e)})).next((function(n){return t.isPrimary&&!n?t.Do(e).next((function(){return!1})):!!n&&t.Co(e).next((function(){return!0}))}))})).catch((function(e){if(au(e))return ui("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return ui("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.no.vo((function(){return t.lo(e)})),t.isPrimary=e}))},t.prototype.bo=function(t){var e=this;return jc(t).get(Iu.key).next((function(t){return eu.resolve(e.xo(t))}))},t.prototype.No=function(t){return Vc(t).delete(this.clientId)},t.prototype.Fo=function(){return s(this,void 0,void 0,(function(){var t,e,n,r,i=this;return u(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.Oo(this.ho,18e5)?[3,2]:(this.ho=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Vu(t,Ru.store);return e.os().next((function(t){var n=i.ko(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return eu.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Io)for(e=0,n=t;e<n.length;e++)r=n[e],this.Io.removeItem(this.Mo(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.Po=function(){var t=this;this.uo=this.no.mr("client_metadata_refresh",4e3,(function(){return t.mo().then((function(){return t.Fo()})).then((function(){return t.Po()}))}))},t.prototype.xo=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.So=function(t){var e=this;return this.io?eu.resolve(!0):jc(t).get(Iu.key).next((function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Lo(n.ownerId)){if(e.xo(n)&&e.networkEnabled)return!0;if(!e.xo(n)){if(!n.allowTabSynchronization)throw new _i(Ii.FAILED_PRECONDITION,Lc);return!1}}return!(!e.networkEnabled||!e.inForeground)||Vc(t).os().next((function(t){return void 0===e.ko(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&ui("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.$o=function(){return s(this,void 0,void 0,(function(){var t=this;return u(this,(function(e){switch(e.label){case 0:return this.oo=!1,this.Bo(),this.uo&&(this.uo.cancel(),this.uo=null),this.qo(),this.Uo(),[4,this.fo.runTransaction("shutdown","readwrite",[Iu.store,Ru.store],(function(e){var n=new ju(e,Mi.U);return t.Do(n).next((function(){return t.No(n)}))}))];case 1:return e.sent(),this.fo.close(),this.Qo(),[2]}}))}))},t.prototype.ko=function(t,e){var n=this;return t.filter((function(t){return n.Oo(t.updateTimeMs,e)&&!n.Lo(t.clientId)}))},t.prototype.Ko=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Vc(e).os().next((function(e){return t.ko(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Wo=function(t){return lc.Ri(t,this.Kt,this.Ii,this.mi)},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.jo=function(){return this.Ii},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r=this;ui("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.fo.runTransaction(t,o,Mu,(function(o){return i=new ju(o,r.ro?r.ro.next():Mi.U),"readwrite-primary"===e?r.bo(i).next((function(t){return!!t||r.So(i)})).next((function(e){if(!e)throw ci("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.no.vo((function(){return r.lo(!1)})),new _i(Ii.FAILED_PRECONDITION,du);return n(i)})).next((function(t){return r.Co(i).next((function(){return t}))})):r.zo(i).next((function(){return n(i)}))})).then((function(t){return i.bs(),t}))},t.prototype.zo=function(t){var e=this;return jc(t).get(Iu.key).next((function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Lo(t.ownerId)&&!e.xo(t)&&!(e.io||e.allowTabSynchronization&&t.allowTabSynchronization))throw new _i(Ii.FAILED_PRECONDITION,Lc)}))},t.prototype.Co=function(t){var e=new Iu(this.clientId,this.allowTabSynchronization,Date.now());return jc(t).put(Iu.key,e)},t.Wn=function(){return ru.Wn()},t.prototype.Do=function(t){var e=this,n=jc(t);return n.get(Iu.key).next((function(t){return e.xo(t)?(ui("IndexedDbPersistence","Releasing primary lease."),n.delete(Iu.key)):eu.resolve()}))},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(ci("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ao=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ao=function(){t.no.ys((function(){return t.inForeground="visible"===t.document.visibilityState,t.mo()}))},this.document.addEventListener("visibilitychange",this.ao),this.inForeground="visible"===this.document.visibilityState)},t.prototype.qo=function(){this.ao&&(this.document.removeEventListener("visibilitychange",this.ao),this.ao=null)},t.prototype.Ro=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.co=function(){e.Bo(),e.no.ys((function(){return e.$o()}))},this.window.addEventListener("unload",this.co))},t.prototype.Uo=function(){this.co&&(this.window.removeEventListener("unload",this.co),this.co=null)},t.prototype.Lo=function(t){var e;try{var n=null!==(null===(e=this.Io)||void 0===e?void 0:e.getItem(this.Mo(t)));return ui("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return ci("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Bo=function(){if(this.Io)try{this.Io.setItem(this.Mo(this.clientId),String(Date.now()))}catch(t){ci("Failed to set zombie client id.",t)}},t.prototype.Qo=function(){if(this.Io)try{this.Io.removeItem(this.Mo(this.clientId))}catch(t){}},t.prototype.Mo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function jc(t){return Vu(t,Iu.store)}function Vc(t){return Vu(t,Ru.store)}function Uc(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Fc=function(){function t(t,e,n){this.Eo=t,this.Ho=e,this.Ii=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.Si(t,e).next((function(r){return n.Yo(t,e,r)}))},t.prototype.Yo=function(t,e,n){return this.Eo.di(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Ns(e,t);return t}))},t.prototype.Xo=function(t,e,n){var r=ts();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Ns(t,e);r=r.Ht(t,e)})),r},t.prototype.Zo=function(t,e){var n=this;return this.Eo.getEntries(t,e).next((function(e){return n.tc(t,e)}))},t.prototype.tc=function(t,e){var n=this;return this.Ho.Di(t,e).next((function(r){var i=n.Xo(t,e,r),o=Za();return i.forEach((function(t,e){e||(e=new Eo(t,Vi.min())),o=o.Ht(t,e)})),o}))},t.prototype.jr=function(t,e,n){return function(t){return Hi.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):Qo(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new Hi(e)).next((function(t){var e=ns();return t instanceof _o&&(e=e.Ht(t.key,t)),e}))},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=ns();return this.Ii.Ks(t,i).next((function(a){return eu.forEach(a,(function(a){var s=function(t,e){return new Go(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.sc(t,s,n).next((function(t){t.forEach((function(t,e){o=o.Ht(t,e)}))}))})).next((function(){return o}))}))},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.Eo.jr(t,e,n).next((function(n){return r=n,o.Ho.xi(t,e)})).next((function(e){return i=e,o.ic(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,h=r.get(c),f=Oa(u,h,h,o.Ds);r=f instanceof _o?r.Ht(c,f):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){oa(e,n)||(r=r.remove(t))})),r}))},t.prototype.ic=function(t,e,n){for(var r=as(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof La&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Eo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof _o&&(c=c.Ht(t,e))})),c}))},t}(),qc=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=as(),i=as(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),zc=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(Vi.min())?this.hc(t,e):this.uc.Zo(t,r).next((function(o){var a=i.lc(e,o);return(Jo(e)||Xo(e))&&i._c(e.limitType,a,r,n)?i.hc(t,e):(si()<=P.DEBUG&&ui("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ia(e)),i.uc.jr(t,e,n).next((function(t){return a.forEach((function(e){t=t.Ht(e.key,e)})),t})))}))},t.prototype.lc=function(t,e){var n=new Ya(aa(t));return e.forEach((function(e,r){r instanceof _o&&oa(t,r)&&(n=n.add(r))})),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return si()<=P.DEBUG&&ui("QueryEngine","Using full collection scan to execute query:",ia(e)),this.uc.jr(t,e,Vi.min())},t}(),Hc=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new Wa(mi),this.wc=new uc((function(t){return ko(t)}),xo),this.Ec=Vi.min(),this.Ho=t.Wo(n),this.Tc=t.kr(),this.wo=t.Cr(),this.Ic=new Fc(this.Tc,this.Ho,this.persistence.jo()),this.To=t.Go(),this.fc.ac(this.Ic)}return t.prototype.Ar=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.br(n,e.dc)}))},t}();function Bc(t,e,n,r){return new Hc(t,e,n,r)}function Gc(t,e){return s(this,void 0,void 0,(function(){var n,r,i,o;return u(this,(function(a){switch(a.label){case 0:return n=di(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.Ho.vi(t).next((function(a){return o=a,r=n.persistence.Wo(e),i=new Fc(n.Tc,r,n.persistence.jo()),r.vi(t)})).next((function(e){for(var n=[],r=[],a=as(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var h=0,f=c.mutations;h<f.length;h++){var l=f[h];a=a.add(l.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var y=0,m=v.mutations;y<m.length;y++){var g=m[y];a=a.add(g.key)}}return i.Zo(t,a).next((function(t){return{mc:t,Ac:n,Rc:r}}))}))}))];case 1:return o=a.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}}))}))}function Kc(t,e){var n=di(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Tc.Or({Gr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=eu.resolve();return o.forEach((function(t){a=a.next((function(){return r.di(e,t)})).next((function(e){var o=e,a=n.ks.get(t);pi(null!==a),(!o||o.version.u(a)<0)&&(o=i.Cs(t,o,n))&&r.hi(o,n.Os)}))})),a.next((function(){return t.Ho.Ni(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Ho.ki(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}function Wc(t){var e=di(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.wo.Wi(t)}))}function Jc(t,e){var n=di(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Tc.Or({Gr:!0});i=n.dc;var a=[];e.Oe.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.wo.rr(t,e.Ke,o).next((function(){return n.wo.sr(t,e.Ue,o)})));var u=e.resumeToken;if(u.o()>0){var c=s.$t(u,r).Lt(t.Ss);i=i.Ht(o,c),function(t,e,n){return pi(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.j()-t.Mt.j()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(s,c,e)&&a.push(n.wo.Yi(t,c))}}}));var s=Za();if(e.Me.forEach((function(r,i){e.Le.has(r)&&a.push(n.persistence.mi.Mr(t,r))})),a.push(Xc(t,o,e.Me,r,void 0).next((function(t){s=t}))),!r.isEqual(Vi.min())){var u=n.wo.Wi(t).next((function(e){return n.wo.Gi(t,t.Ss,r)}));a.push(u)}return eu.$n(a).next((function(){return o.apply(t)})).next((function(){return n.Ic.tc(t,s)}))})).then((function(t){return n.dc=i,t}))}function Xc(t,e,n,r,i){var o=as();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Za();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a instanceof Eo&&a.version.isEqual(Vi.min())?(e.fi(n,u),o=o.Ht(n,a)):null==s||a.version.u(s.version)>0||0===a.version.u(s.version)&&s.hasPendingWrites?(e.hi(a,u),o=o.Ht(n,a)):ui("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Yc(t,e){var n=di(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Ho.pi(t,e)}))}function $c(t,e){var n=di(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.wo.nr(t,e).next((function(i){return i?(r=i,eu.resolve(r)):n.wo.Ui(t).next((function(i){return r=new ua(e,i,0,t.Ss),n.wo.zi(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t}))}function Qc(t,e,n){return s(this,void 0,void 0,(function(){var r,i,o,a;return u(this,(function(s){switch(s.label){case 0:r=di(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.mi.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!au(a=s.sent()))throw a;return ui("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}}))}))}function Zc(t,e,n){var r=di(t),i=Vi.min(),o=as();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=di(t),i=r.wc.get(n);return void 0!==i?eu.resolve(r.dc.get(i)):r.wo.nr(e,n)}(r,t,ta(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.wo.ar(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.fc.jr(t,e,n?i:Vi.min(),n?o:as())})).next((function(t){return{documents:t,Pc:o}}))}))}function th(t,e){var n=di(t),r=di(n.wo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Dn(t,e).next((function(t){return t?t.target:null}))}))}function eh(t){var e=di(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=di(t),i=Za(),o=Bu(n),a=Pc(e),s=IDBKeyRange.lowerBound(o,!0);return a.ls({index:ku.readTimeIndex,range:s},(function(t,e){var n=zu(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime})).next((function(){return{gs:i,readTime:Gu(o)}}))}(e.Tc,t,e.Ec)})).then((function(t){var n=t.gs,r=t.readTime;return e.Ec=r,n}))}function nh(t){return s(this,void 0,void 0,(function(){var e;return u(this,(function(n){return[2,(e=di(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Pc(t),n=Vi.min();return e.ls({index:ku.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Gu(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Ec=t}))]}))}))}function rh(t,e,n,r){return s(this,void 0,void 0,(function(){var i,o,a,s,c,h,f,l,p,d;return u(this,(function(u){switch(u.label){case 0:for(i=di(t),o=as(),a=Za(),s=is(),c=0,h=n;c<h.length;c++)f=h[c],l=e.yc(f.metadata.name),f.document&&(o=o.add(l)),a=a.Ht(l,e.gc(f)),s=s.Ht(l,e.Vc(f.metadata.readTime));return p=i.Tc.Or({Gr:!0}),[4,$c(i,function(t){return ta(Wo(Fi.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=u.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Xc(t,p,a,Vi.min(),s).next((function(e){return p.apply(t),e})).next((function(e){return i.wo.Zi(t,d.targetId).next((function(){return i.wo.sr(t,o,d.targetId)})).next((function(){return i.Ic.tc(t,e)}))}))}))]}}))}))}function ih(t,e,n){return void 0===n&&(n=as()),s(this,void 0,void 0,(function(){var r,i;return u(this,(function(o){switch(o.label){case 0:return[4,$c(t,ta($u(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=di(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=ks(e.readTime);if(r.Mt.u(o)>=0)return i.To.qs(t,e);var a=r.$t(wi.h,o);return i.dc=i.dc.Ht(a.targetId,a),i.wo.Yi(t,a).next((function(){return i.wo.Zi(t,r.targetId)})).next((function(){return i.wo.sr(t,n,r.targetId)})).next((function(){return i.To.qs(t,e)}))}))]}}))}))}var oh=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ls=function(t,e){return eu.resolve(this.bc.get(e))},t.prototype.$s=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:ks(n.createTime)}),eu.resolve()},t.prototype.Bs=function(t,e){return eu.resolve(this.vc.get(e))},t.prototype.qs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:$u(t.bundledQuery),readTime:ks(t.readTime)}}(e)),eu.resolve()},t}(),ah=function(){function t(){this.Sc=new Ya(sh.Dc),this.Cc=new Ya(sh.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.ir=function(t,e){var n=new sh(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach((function(t){return n.ir(t,e)}))},t.prototype.cr=function(t,e){this.Fc(new sh(t,e))},t.prototype.Oc=function(t,e){var n=this;t.forEach((function(t){return n.cr(t,e)}))},t.prototype.kc=function(t){var e=this,n=new Hi(new Fi([])),r=new sh(n,t),i=new sh(n,t+1),o=[];return this.Cc.Ae([r,i],(function(t){e.Fc(t),o.push(t.key)})),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach((function(e){return t.Fc(e)}))},t.prototype.Fc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new Hi(new Fi([])),n=new sh(e,t),r=new sh(e,t+1),i=as();return this.Cc.Ae([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Mi=function(t){var e=new sh(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),sh=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return Hi.J(t.key,e.key)||mi(t.$c,e.$c)},t.xc=function(t,e){return mi(t.$c,e.$c)||Hi.J(t.key,e.key)},t}(),uh=function(){function t(t,e){this.Ii=t,this.mi=e,this.Ho=[],this.Bc=1,this.qc=new Ya(sh.Dc)}return t.prototype.Pi=function(t){return eu.resolve(0===this.Ho.length)},t.prototype.yi=function(t,e,n,r){var i=this.Bc;this.Bc++,this.Ho.length>0&&this.Ho[this.Ho.length-1];var o=new Uu(i,e,n,r);this.Ho.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.qc=this.qc.add(new sh(u.key,i)),this.Ii.Qs(t,u.key.path.Z())}return eu.resolve(o)},t.prototype.gi=function(t,e){return eu.resolve(this.Uc(e))},t.prototype.pi=function(t,e){var n=e+1,r=this.Qc(n),i=r<0?0:r;return eu.resolve(this.Ho.length>i?this.Ho[i]:null)},t.prototype.bi=function(){return eu.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.vi=function(t){return eu.resolve(this.Ho.slice())},t.prototype.Si=function(t,e){var n=this,r=new sh(e,0),i=new sh(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],(function(t){var e=n.Uc(t.$c);o.push(e)})),eu.resolve(o)},t.prototype.Di=function(t,e){var n=this,r=new Ya(mi);return e.forEach((function(t){var e=new sh(t,0),i=new sh(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],(function(t){r=r.add(t.$c)}))})),eu.resolve(this.Kc(r))},t.prototype.xi=function(t,e){var n=e.path,r=n.length+1,i=n;Hi.Et(i)||(i=i.child(""));var o=new sh(new Hi(i),0),a=new Ya(mi);return this.qc.Re((function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(a=a.add(t.$c)),!0)}),o),eu.resolve(this.Kc(a))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Uc(t);null!==r&&n.push(r)})),n},t.prototype.Ni=function(t,e){var n=this;pi(0===this.Wc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return eu.forEach(e.mutations,(function(i){var o=new sh(i.key,e.batchId);return r=r.delete(o),n.mi.Oi(t,i.key)})).next((function(){n.qc=r}))},t.prototype.Fi=function(t){},t.prototype.Mi=function(t,e){var n=new sh(e,0),r=this.qc.Pe(n);return eu.resolve(e.isEqual(r&&r.key))},t.prototype.ki=function(t){return this.Ho.length,eu.resolve()},t.prototype.Wc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),ch=function(){function t(t,e){this.Ii=t,this.jc=e,this.docs=new Wa(Hi.J),this.size=0}return t.prototype.hi=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.jc(e);return this.docs=this.docs.Ht(r,{_i:e,size:a,readTime:n}),this.size+=a-o,this.Ii.Qs(t,r.path.Z())},t.prototype.fi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.di=function(t,e){var n=this.docs.get(e);return eu.resolve(n?n._i:null)},t.prototype.getEntries=function(t,e){var n=this,r=ts();return e.forEach((function(t){var e=n.docs.get(t);r=r.Ht(t,e?e._i:null)})),eu.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=ns(),i=new Hi(e.path.child("")),o=this.docs.ne(i);o.ae();){var a=o.ce(),s=a.key,u=a.value,c=u._i,h=u.readTime;if(!e.path.st(s.path))break;h.u(n)<=0||c instanceof _o&&oa(e,c)&&(r=r.Ht(c.key,c))}return eu.resolve(r)},t.prototype.Gc=function(t,e){return eu.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Or=function(t){return new hh(this)},t.prototype.Lr=function(t){return eu.resolve(this.size)},t}(),hh=function(t){function e(e){var n=this;return(n=t.call(this)||this).zr=e,n}return o(e,t),e.prototype.Ti=function(t){var e=this,n=[];return this.ci.forEach((function(r,i){i&&i._i?n.push(e.zr.hi(t,i._i,e.ui(r))):e.zr.fi(r)})),eu.$n(n)},e.prototype.wi=function(t,e){return this.zr.di(t,e)},e.prototype.Ei=function(t,e){return this.zr.getEntries(t,e)},e}(cc),fh=function(){function t(t){this.persistence=t,this.zc=new uc((function(t){return ko(t)}),xo),this.lastRemoteSnapshotVersion=Vi.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new ah,this.targetCount=0,this.Yc=mc.Bi()}return t.prototype.mn=function(t,e){return this.zc.forEach((function(t,n){return e(n)})),eu.resolve()},t.prototype.Wi=function(t){return eu.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return eu.resolve(this.Hc)},t.prototype.Ui=function(t){return this.highestTargetId=this.Yc.next(),eu.resolve(this.highestTargetId)},t.prototype.Gi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),eu.resolve()},t.prototype.Hi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new mc(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.zi=function(t,e){return this.Hi(e),this.targetCount+=1,eu.resolve()},t.prototype.Yi=function(t,e){return this.Hi(e),eu.resolve()},t.prototype.Xi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,eu.resolve()},t.prototype.tr=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.zc.delete(a),o.push(r.Zi(t,s.targetId)),i++)})),eu.$n(o).next((function(){return i}))},t.prototype.er=function(t){return eu.resolve(this.targetCount)},t.prototype.nr=function(t,e){var n=this.zc.get(e)||null;return eu.resolve(n)},t.prototype.sr=function(t,e,n){return this.Jc.Nc(e,n),eu.resolve()},t.prototype.rr=function(t,e,n){this.Jc.Oc(e,n);var r=this.persistence.mi,i=[];return r&&e.forEach((function(e){i.push(r.Oi(t,e))})),eu.$n(i)},t.prototype.Zi=function(t,e){return this.Jc.kc(e),eu.resolve()},t.prototype.ar=function(t,e){var n=this.Jc.Lc(e);return eu.resolve(n)},t.prototype.Mi=function(t,e){return eu.resolve(this.Jc.Mi(e))},t}(),lh=function(){function t(t,e){var n=this;this.Xc={},this.ro=new Mi(0),this.oo=!1,this.oo=!0,this.mi=t(this),this.wo=new fh(this),this.Ii=new ec,this.Eo=function(t,e){return new ch(t,(function(t){return n.mi.Zc(t)}))}(this.Ii),this.Kt=new qu(e),this.To=new oh(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.$o=function(){return this.oo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Vo=function(){},t.prototype.po=function(){},t.prototype.jo=function(){return this.Ii},t.prototype.Wo=function(t){var e=this.Xc[t.R()];return e||(e=new uh(this.Ii,this.mi),this.Xc[t.R()]=e),e},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r=this;ui("MemoryPersistence","Starting transaction:",t);var i=new ph(this.ro.next());return this.mi.ta(),n(i).next((function(t){return r.mi.ea(i).next((function(){return t}))})).Mn().then((function(t){return i.bs(),t}))},t.prototype.na=function(t,e){return eu.Bn(Object.values(this.Xc).map((function(n){return function(){return n.Mi(t,e)}})))},t}(),ph=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ss=e,n}return o(e,t),e}(vu),dh=function(){function t(t){this.persistence=t,this.sa=new ah,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw li()},enumerable:!1,configurable:!0}),t.prototype.ir=function(t,e,n){return this.sa.ir(n,e),this.oa.delete(n.toString()),eu.resolve()},t.prototype.cr=function(t,e,n){return this.sa.cr(n,e),this.oa.add(n.toString()),eu.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),eu.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach((function(t){return n.oa.add(t.toString())}));var r=this.persistence.Cr();return r.ar(t,e.targetId).next((function(t){t.forEach((function(t){return n.oa.add(t.toString())}))})).next((function(){return r.Xi(t,e)}))},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.kr().Or();return eu.forEach(this.oa,(function(r){var i=Hi.ft(r);return e.ca(t,i).next((function(t){t||n.fi(i)}))})).next((function(){return e.ia=null,n.apply(t)}))},t.prototype.Mr=function(t,e){var n=this;return this.ca(t,e).next((function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())}))},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return eu.Bn([function(){return eu.resolve(n.sa.Mi(e))},function(){return n.persistence.Cr().Mi(t,e)},function(){return n.persistence.na(t,e)}])},t}();function vh(t,e){return"firestore_clients_"+t+"_"+e}function yh(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function mh(t,e){return"firestore_targets_"+t+"_"+e}var gh=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new _i(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(ci("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),bh=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new _i(r.error.code,r.error.message)),i?new t(e,r.state,o):(ci("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),wh=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=us(),a=0;i&&a<r.activeTargetIds.length;++a)i=ro(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(ci("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Ih=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(ci("SharedClientState","Failed to parse online state: "+e),null)},t}(),_h=function(){function t(){this.activeTargetIds=us()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Eh=function(){function t(t,e,n,r,i){this.window=t,this.no=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new Wa(mi),this.Ir=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=vh(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new _h),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.Wn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return s(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,c,h,f,l=this;return u(this,(function(u){switch(u.label){case 0:return[4,this.fa.Ko()];case 1:for(t=u.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(vh(this.persistenceKey,r)))&&(o=wh.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(a=this.storage.getItem(this.ga))&&(s=this.ba(a))&&this.va(s),c=0,h=this.Ia;c<h.length;c++)f=h[c],this.Ea(f);return this.Ia=[],this.window.addEventListener("unload",(function(){return l.$o()})),this.Ir=!0,[2]}}))}))},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Fa=function(t,e,n){this.Na(t,e,n),this.Oa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(mh(this.persistenceKey,t));if(n){var r=bh.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(mh(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach((function(t){r.Oa(t)})),this.currentUser=t,n.forEach((function(t){r.xa(t)}))},t.prototype.Ka=function(t){this.Wa(t)},t.prototype.ja=function(){this.Ga()},t.prototype.$o=function(){this.Ir&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Ir=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return ui("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){ui("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){ui("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(ui("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void ci("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.no.vo((function(){return s(e,void 0,void 0,(function(){var t,e,r,i,o,a;return u(this,(function(s){if(this.Ir){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(a=function(t){var e=Mi.U;if(null!=t)try{var n=JSON.parse(t);pi("number"==typeof n),e=n}catch(t){ci("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Mi.U&&this.L(a);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new gh(this.currentUser,t,e,n),i=yh(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Oa=function(t){var e=yh(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Wa=function(t){var e={clientId:this._a,onlineState:t};this.storage.setItem(this.ga,JSON.stringify(e))},t.prototype.Ua=function(t,e,n){var r=mh(this.persistenceKey,t),i=new bh(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return wh.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return gh.aa(new Oi(i),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return bh.aa(r,e)},t.prototype.ba=function(t){return Ih.aa(t)},t.prototype.Xa=function(t){return s(this,void 0,void 0,(function(){return u(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(ui("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.fa.iu(a,s).then((function(){n.Ta=r}))},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=us();return t.forEach((function(t,n){e=e.ye(n.activeTargetIds)})),e},t}(),Th=function(){function t(){this.ru=new _h,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Fa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new _h,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.$o=function(){},t.prototype.q=function(t){},t.prototype.ja=function(){},t}(),Ah=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.$o=function(){},t}(),Sh=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.$o=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){ui("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){ui("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.Wn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),kh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},xh=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),Nh=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return o(e,t),e.prototype.Du=function(t,e,n,r){return new Promise((function(i,o){var a=new oi;a.listenOnce(ti.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Zr.NO_ERROR:var e=a.getResponseJson();ui("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Zr.TIMEOUT:ui("Connection",'RPC "'+t+'" timed out'),o(new _i(Ii.DEADLINE_EXCEEDED,"Request time out"));break;case Zr.HTTP_ERROR:var n=a.getStatus();if(ui("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Ii).indexOf(e)>=0?e:Ii.UNKNOWN}(r.status);o(new _i(s,r.message))}else o(new _i(Ii.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new _i(Ii.UNAVAILABLE,"Connection failed."));break;default:li()}}finally{ui("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype.xu=function(t,e){var n,r=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new Jr,o=Xe(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(a.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())||"object"==typeof navigator&&"ReactNative"===navigator.product||v().indexOf("Electron/")>=0||function(){var t=v();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||v().indexOf("MSAppHost/")>=0||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(a.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");ui("Connection","Creating WebChannel: "+s,a);var u=i.createWebChannel(s,a),c=!1,h=!1,f=new xh({du:function(t){h?ui("Connection","Not sending because WebChannel is closed:",t):(c||(ui("Connection","Opening WebChannel transport."),u.open(),c=!0),ui("Connection","WebChannel sending:",t),u.send(t))},wu:function(){return u.close()}}),l=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return l(u,ii.EventType.OPEN,(function(){h||ui("Connection","WebChannel transport opened.")})),l(u,ii.EventType.CLOSE,(function(){h||(h=!0,ui("Connection","WebChannel transport closed"),f.Pu())})),l(u,ii.EventType.ERROR,(function(t){h||(h=!0,hi("Connection","WebChannel transport errored:",t),f.Pu(new _i(Ii.UNAVAILABLE,"The operation could not be completed")))})),l(u,ii.EventType.MESSAGE,(function(t){var e;if(!h){var n=t.data[0];pi(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){ui("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=Fa[t];if(void 0!==e)return Ka(e)}(o),s=i.message;void 0===a&&(a=Ii.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),h=!0,f.Pu(new _i(a,s)),u.close()}else ui("Connection","WebChannel received:",n),f.yu(n)}})),l(o,ei.STAT_EVENT,(function(t){t.stat===ni?ui("Connection","Detected buffering proxy"):t.stat===ri&&ui("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Ru()}),0),f},e}(function(){function t(t){this.gu=t,this.T=t.T;var e=t.ssl?"https":"http";this.Vu=e+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);ui("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then((function(t){return ui("RestConnection","Received: ",t),t}),(function(e){throw hi("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.1",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){var n=kh[t];return this.Vu+"/v1/"+e+":"+n},t}());function Oh(){return"undefined"!=typeof window?window:null}function Ph(){return"undefined"!=typeof document?document:null}function Dh(t){return new Es(t,!0)}var Rh=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.no=t,this.ds=e,this.Nu=n,this.Fu=r,this.Ou=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Ou},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&ui("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.no.mr(this.ds,i,(function(){return e.Lu=Date.now(),t()})),this.ku*=this.Fu,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Ou&&(this.ku=this.Ou)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),Ch=function(){function t(t,e,n,r,i,o){this.no=t,this.Qu=n,this.Ku=r,this.Wu=i,this.listener=o,this.state=0,this.ju=0,this.Gu=null,this.stream=null,this.zu=new Rh(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return s(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.no.mr(this.Qu,6e4,(function(){return t.th()})))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return s(this,void 0,void 0,(function(){return u(this,(function(t){return this.Ju()?[2,this.close(0)]:[2]}))}))},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return s(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.ju++,3!==t?this.zu.reset():e&&e.code===Ii.RESOURCE_EXHAUSTED?(ci(e.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===Ii.UNAUTHENTICATED&&this.Wu.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.ju),n=this.ju;this.Wu.getToken().then((function(e){t.ju===n&&t.rh(e)}),(function(n){e((function(){var e=new _i(Ii.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)}))}))},t.prototype.rh=function(t){var e=this,n=this.ih(this.ju);this.stream=this.ah(t),this.stream.Eu((function(){n((function(){return e.state=2,e.listener.Eu()}))})),this.stream.Iu((function(t){n((function(){return e.oh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu((function(){return s(t,void 0,void 0,(function(){return u(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.oh=function(t){return ui("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.no.ys((function(){return e.ju===t?n():(ui("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Lh=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,a}return o(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:li()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(pi(void 0===e||"string"==typeof e),wi.fromBase64String(e||"")):(pi(void 0===e||e instanceof Uint8Array),wi.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?Ii.UNKNOWN:Ka(t.code);return new _i(e,t.message||"")}(s);n=new ys(r,i,o,a||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=Ps(t,r.document.name),o=ks(r.document.updateTime);var s=new go({mapValue:{fields:r.document.fields}}),u=(a=new _o(i,o,s,{}),r.targetIds||[]),c=r.removedTargetIds||[];n=new ds(u,c,a.key,a)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=Ps(t,r.document),o=r.readTime?ks(r.readTime):Vi.min(),s=new Eo(i,o),a=r.removedTargetIds||[],n=new ds([],a,s.key,s);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=Ps(t,r.document),o=r.removedTargetIds||[],n=new ds([],o,i,null);else{if(!("filter"in e))return li();e.filter;var h=e.filter;h.targetId,r=h.count||0,i=new Ba(r),o=h.targetId,n=new vs(o,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return Vi.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Vi.min():e.readTime?ks(e.readTime):Vi.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=Cs(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=No(r)?{documents:Fs(t,r)}:{query:qs(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=As(t,e.resumeToken):e.Mt.u(Vi.min())>0&&(n.readTime=Ts(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return li()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(this.Kt,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=Cs(this.Kt),e.removeTarget=t,this.eh(e)},e}(Ch),Mh=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,a._h=!1,a}return o(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(pi(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(pi(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?ks(t.updateTime):ks(e);n.isEqual(Vi.min())&&(n=ks(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Aa(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=ks(t.commitTime);return this.listener.wh(n,e)}return pi(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=Cs(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Vs(e.Kt,t)}))};this.eh(n)},e}(Ch),jh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return o(e,t),e.prototype.mh=function(){if(this.Ih)throw new _i(Ii.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.bu(t,e,n,i)})).catch((function(t){throw t.code===Ii.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.Cu(t,e,n,i)})).catch((function(t){throw t.code===Ii.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.terminate=function(){this.Ih=!1},e}((function(){})),Vh=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.mr("online_state_timeout",1e4,(function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()})))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(ci(e),this.Ph=!1):ui("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),Uh=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Fh=new Set,this.Oh=[],this.kh=i,this.kh.cu((function(t){n.ys((function(){return s(o,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return Jh(this)?(ui("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return s(this,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:return(e=di(t)).Fh.add(4),[4,qh(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Fh.delete(4),[4,Fh(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Mh=new Vh(n,r)};function Fh(t){return s(this,void 0,void 0,(function(){var e,n;return u(this,(function(r){switch(r.label){case 0:if(!Jh(t))return[3,4];e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function qh(t){return s(this,void 0,void 0,(function(){var e,n;return u(this,(function(r){switch(r.label){case 0:e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function zh(t,e){var n=di(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),Wh(n)?Kh(n):hf(n).Ju()&&Bh(n,e))}function Hh(t,e){var n=di(t),r=hf(n);n.Nh.delete(e),r.Ju()&&Gh(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():Jh(n)&&n.Mh.set("Unknown"))}function Bh(t,e){t.Lh.cn(e.targetId),hf(t).hh(e)}function Gh(t,e){t.Lh.cn(e),hf(t).lh(e)}function Kh(t){t.Lh=new gs({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),hf(t).start(),t.Mh.yh()}function Wh(t){return Jh(t)&&!hf(t).Hu()&&t.Nh.size>0}function Jh(t){return 0===di(t).Fh.size}function Xh(t){t.Lh=void 0}function Yh(t){return s(this,void 0,void 0,(function(){return u(this,(function(e){return t.Nh.forEach((function(e,n){Bh(t,e)})),[2]}))}))}function $h(t,e){return s(this,void 0,void 0,(function(){return u(this,(function(n){return Xh(t),Wh(t)?(t.Mh.ph(e),Kh(t)):t.Mh.set("Unknown"),[2]}))}))}function Qh(t,e,n){return s(this,void 0,void 0,(function(){var r,i,o;return u(this,(function(a){switch(a.label){case 0:if(t.Mh.set("Online"),!(e instanceof ys&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return s(this,void 0,void 0,(function(){var n,r,i,o;return u(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.Nh.has(o)?[4,t.Ch.$h(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),ui("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Zh(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ds?t.Lh.wn(e):e instanceof vs?t.Lh.yn(e):t.Lh.In(e),n.isEqual(Vi.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Wc(t.Sh)];case 8:return i=a.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Oe.forEach((function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}})),n.ke.forEach((function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(wi.h,n.Mt)),Gh(t,e);var r=new ua(n.target,e,1,n.sequenceNumber);Bh(t,r)}})),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return ui("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Zh(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Zh(t,e,n){return s(this,void 0,void 0,(function(){var r=this;return u(this,(function(i){switch(i.label){case 0:if(!au(e))throw e;return t.Fh.add(1),[4,qh(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return Wc(t.Sh)}),t.fs.vo((function(){return s(r,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return ui("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Fh.delete(1),[4,Fh(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function tf(t,e){return e().catch((function(n){return Zh(t,n,e)}))}function ef(t){return s(this,void 0,void 0,(function(){var e,n,r,i,o;return u(this,(function(a){switch(a.label){case 0:e=di(t),n=ff(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return Jh(t)&&t.xh.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Yc(e.Sh,r)];case 3:return null===(i=a.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=ff(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,Zh(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return nf(e)&&rf(e),[2]}}))}))}function nf(t){return Jh(t)&&!ff(t).Hu()&&t.xh.length>0}function rf(t){ff(t).start()}function of(t){return s(this,void 0,void 0,(function(){return u(this,(function(e){return ff(t).Th(),[2]}))}))}function af(t){return s(this,void 0,void 0,(function(){var e,n,r,i;return u(this,(function(o){for(e=ff(t),n=0,r=t.xh;n<r.length;n++)i=r[n],e.dh(i.mutations);return[2]}))}))}function sf(t,e,n){return s(this,void 0,void 0,(function(){var r,i;return u(this,(function(o){switch(o.label){case 0:return r=t.xh.shift(),i=Fu.from(r,e,n),[4,tf(t,(function(){return t.Ch.qh(i)}))];case 1:return o.sent(),[4,ef(t)];case 2:return o.sent(),[2]}}))}))}function uf(t,e){return s(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return e&&ff(t).fh?[4,function(t,e){return s(this,void 0,void 0,(function(){var n,r;return u(this,(function(i){switch(i.label){case 0:return Ga(r=e.code)&&r!==Ii.ABORTED?(n=t.xh.shift(),ff(t).Xu(),[4,tf(t,(function(){return t.Ch.Uh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,ef(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return nf(t)&&rf(t),[2]}}))}))}function cf(t,e){return s(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:return n=di(t),e?(n.Fh.delete(2),[4,Fh(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Fh.add(2),[4,qh(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function hf(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=di(t);return r.mh(),new Lh(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Yh.bind(null,t),Iu:$h.bind(null,t),uh:Qh.bind(null,t)}),t.Oh.push((function(n){return s(e,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),Wh(t)?Kh(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),Xh(t),e.label=3;case 3:return[2]}}))}))}))),t.Qh}function ff(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=di(t);return r.mh(),new Mh(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:of.bind(null,t),Iu:uf.bind(null,t),Eh:af.bind(null,t),wh:sf.bind(null,t)}),t.Oh.push((function(n){return s(e,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,ef(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(ui("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kh}var lf=function(){this.Wh=void 0,this.listeners=[]},pf=function(){this.queries=new uc((function(t){return ra(t)}),na),this.onlineState="Unknown",this.jh=new Set};function df(t,e){return s(this,void 0,void 0,(function(){var n,r,i,o,a,s,c;return u(this,(function(u){switch(u.label){case 0:if(n=di(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new lf),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),a=o,[4,n.Gh(r)];case 2:return a.Wh=u.sent(),[3,4];case 3:return s=u.sent(),c=lu(s,"Initialization of query '"+ia(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.Wh&&e.Hh(o.Wh)&&gf(n),[2]}}))}))}function vf(t,e){return s(this,void 0,void 0,(function(){var n,r,i,o,a;return u(this,(function(s){return n=di(t),r=e.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]}))}))}function yf(t,e){for(var n=di(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,h=u.listeners;c<h.length;c++)h[c].Hh(a)&&(r=!0);u.Wh=a}}r&&gf(n)}function mf(t,e,n){var r=di(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function gf(t){t.jh.forEach((function(t){t.next()}))}var bf=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new fs(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.sl&&n||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){if(t.docChanges.length>0)return!0;var e=this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites;return!(!t.xe&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=fs.Fe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),wf=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),If=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return Ps(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?js(this.Kt,t.document,!1):new Eo(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return ks(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new If(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.yc(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],h=(e.get(c)||as()).add(a);e.set(c,h)}}return e},t.prototype.complete=function(){return s(this,void 0,void 0,(function(){var t,e,n,r,i;return u(this,(function(o){switch(o.label){case 0:return[4,rh(this.Sh,new If(this.Kt),this.documents,this.rl.id)];case 1:t=o.sent(),e=this.cl(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,ih(this.Sh,i,e.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new pu(Object.assign({},this.progress),t))]}}))}))}}();var _f=function(t){this.key=t},Ef=function(t){this.key=t},Tf=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=as(),this.Ce=as(),this.ll=aa(t),this._l=new cs(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new hs,i=e?e._l:this._l,o=e?e.Ce:this.Ce,a=i,s=!1,u=Jo(this.query)&&i.size===this.query.limit?i.last():null,c=Xo(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt((function(t,e){var h=i.get(t),f=e instanceof _o?e:null;f&&(f=oa(n.query,f)?f:null);var l=!!h&&n.Ce.has(h.key),p=!!f&&(f.bt||n.Ce.has(f.key)&&f.hasCommittedMutations),d=!1;h&&f?h.data().isEqual(f.data())?l!==p&&(r.track({type:3,doc:f}),d=!0):n.El(h,f)||(r.track({type:2,doc:f}),d=!0,(u&&n.ll(f,u)>0||c&&n.ll(f,c)<0)&&(s=!0)):!h&&f?(r.track({type:0,doc:f}),d=!0):h&&!f&&(r.track({type:1,doc:h}),d=!0,(u||c)&&(s=!0)),d&&(f?(a=a.add(f),o=p?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),Jo(this.query)||Xo(this.query))for(;a.size>this.query.limit;){var h=Jo(this.query)?a.last():a.first();a=a.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{_l:a,wl:r,_c:s,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ti=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return li()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)})),this.Tl(n);var a=e?this.Il():[],s=0===this.hl.size&&this.qe?1:0,u=s!==this.ul;return this.ul=s,0!==o.length||u?{snapshot:new fs(this.query,t._l,i,o,t.Ce,0===s,u,!1),ml:a}:{ml:a}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ti({_l:this._l,wl:new hs,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach((function(t){return e.al=e.al.add(t)})),t.Qe.forEach((function(t){})),t.Ke.forEach((function(t){return e.al=e.al.delete(t)})),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=as(),this._l.forEach((function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))}));var n=[];return e.forEach((function(e){t.hl.has(e)||n.push(new Ef(e))})),this.hl.forEach((function(t){e.has(t)||n.push(new _f(t))})),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=as();var e=this.dl(t.documents);return this.Ti(e,!0)},t.prototype.Pl=function(){return fs.Fe(this.query,this._l,this.Ce,0===this.ul)},t}(),Af=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Sf=function(t){this.key=t,this.yl=!1},kf=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new uc((function(t){return ra(t)}),na),this.Dl=new Map,this.Cl=[],this.xl=new Wa(Hi.J),this.Nl=new Map,this.Fl=new ah,this.Ol={},this.kl=new Map,this.Ml=mc.qi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function xf(t,e){return s(this,void 0,void 0,(function(){var n,r,i,o,a,s;return u(this,(function(u){switch(u.label){case 0:return n=rl(t),(o=n.Sl.get(e))?(r=o.targetId,n.pl.ka(r),i=o.view.Pl(),[3,4]):[3,1];case 1:return[4,$c(n.Sh,ta(e))];case 2:return a=u.sent(),s=n.pl.ka(a.targetId),r=a.targetId,[4,Nf(n,e,r,"current"===s)];case 3:i=u.sent(),n.$l&&zh(n.gl,a),u.label=4;case 4:return[2,i]}}))}))}function Nf(t,e,n,r){return s(this,void 0,void 0,(function(){var i,o,a,c,h,f;return u(this,(function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return s(this,void 0,void 0,(function(){var i,o,a;return u(this,(function(s){switch(s.label){case 0:return(i=e.view.dl(n))._c?[4,Zc(t.Sh,e.query,!1).then((function(t){var n=t.documents;return e.view.dl(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.Oe.get(e.targetId),a=e.view.Ti(i,t.$l,o),[2,(zf(t,e.targetId,a.ml),a.snapshot)]}}))}))}(t,e,n,r)},[4,Zc(t.Sh,e,!0)];case 1:return i=l.sent(),o=new Tf(e,i.Pc),a=o.dl(i.documents),c=ps.Be(n,r&&"Offline"!==t.onlineState),h=o.Ti(a,t.$l,c),zf(t,n,h.ml),f=new Af(e,n,o),[2,(t.Sl.set(e,f),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),h.snapshot)]}}))}))}function Of(t,e){return s(this,void 0,void 0,(function(){var n,r,i;return u(this,(function(o){switch(o.label){case 0:return n=di(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter((function(t){return!na(t,e)}))),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,Qc(n.Sh,r.targetId,!1).then((function(){n.pl.Ba(r.targetId),Hh(n.gl,r.targetId),Ff(n,r.targetId)})).catch(sc)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Ff(n,r.targetId),[4,Qc(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Pf(t,e,n){return s(this,void 0,void 0,(function(){var r,i,o,a;return u(this,(function(s){switch(s.label){case 0:r=il(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=di(t),i=ji.now(),o=e.reduce((function(t,e){return t.add(e.key)}),as());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ic.Zo(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],h=Pa(c,n.get(c.key));null!=h&&a.push(new La(c.key,h,wo(h.proto.mapValue),Sa.exists(!0)))}return r.Ho.yi(t,i,a,e)}))})).then((function(t){var e=t.Fs(n);return{batchId:t.batchId,ci:e}}))}(r.Sh,e)];case 2:return i=s.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Ol[t.currentUser.R()];r||(r=new Wa(mi)),r=r.Ht(e,n),t.Ol[t.currentUser.R()]=r}(r,i.batchId,n),[4,Gf(r,i.ci)];case 3:return s.sent(),[4,ef(r.gl)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=lu(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Df(t,e){return s(this,void 0,void 0,(function(){var n,r;return u(this,(function(i){switch(i.label){case 0:n=di(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Jc(n.Sh,e)];case 2:return r=i.sent(),e.Oe.forEach((function(t,e){var r=n.Nl.get(e);r&&(pi(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?pi(r.yl):t.Ke.size>0&&(pi(r.yl),r.yl=!1))})),[4,Gf(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,sc(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Rf(t,e,n){var r=di(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach((function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=di(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)})),r&&gf(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function Cf(t,e,n){return s(this,void 0,void 0,(function(){var r,i,o,a,s,c;return u(this,(function(u){switch(u.label){case 0:return(r=di(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(a=(a=new Wa(Hi.J)).Ht(o,new Eo(o,Vi.min())),s=as().add(o),c=new ls(Vi.min(),new Map,new Ya(mi),a,s),[4,Df(r,c)]):[3,2];case 1:return u.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),Bf(r),[3,4];case 2:return[4,Qc(r.Sh,e,!1).then((function(){return Ff(r,e,n)})).catch(sc)];case 3:u.sent(),u.label=4;case 4:return[2]}}))}))}function Lf(t,e){return s(this,void 0,void 0,(function(){var n,r,i;return u(this,(function(o){switch(o.label){case 0:n=di(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Kc(n.Sh,e)];case 2:return i=o.sent(),Uf(n,r,null),Vf(n,r),n.pl.Fa(r,"acknowledged"),[4,Gf(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,sc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Mf(t,e,n){return s(this,void 0,void 0,(function(){var r,i;return u(this,(function(o){switch(o.label){case 0:r=di(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=di(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Ho.gi(t,e).next((function(e){return pi(null!==e),r=e.keys(),n.Ho.Ni(t,e)})).next((function(){return n.Ho.ki(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}(r.Sh,e)];case 2:return i=o.sent(),Uf(r,e,n),Vf(r,e),r.pl.Fa(e,"rejected",n),[4,Gf(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,sc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function jf(t,e){return s(this,void 0,void 0,(function(){var n,r,i,o,a;return u(this,(function(s){switch(s.label){case 0:Jh((n=di(t)).gl)||ui("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=di(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Ho.bi(t)}))}(n.Sh)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=s.sent(),a=lu(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function Vf(t,e){(t.kl.get(e)||[]).forEach((function(t){t.resolve()})),t.kl.delete(e)}function Uf(t,e,n){var r=di(t),i=r.Ol[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ol[r.currentUser.R()]=i}}function Ff(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Fl.kc(e).forEach((function(e){t.Fl.Mi(e)||qf(t,e)}))}function qf(t,e){var n=t.xl.get(e);null!==n&&(Hh(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),Bf(t))}function zf(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof _f?(t.Fl.ir(o.key,e),Hf(t,o)):o instanceof Ef?(ui("SyncEngine","Document no longer in limbo: "+o.key),t.Fl.cr(o.key,e),t.Fl.Mi(o.key)||qf(t,o.key)):li()}}function Hf(t,e){var n=e.key;t.xl.get(n)||(ui("SyncEngine","New document in limbo: "+n),t.Cl.push(n),Bf(t))}function Bf(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new Sf(e)),t.xl=t.xl.Ht(e,n),zh(t.gl,new ua(ta(Wo(e.path)),n,2,Mi.U))}}function Gf(t,e,n){return s(this,void 0,void 0,(function(){var r,i,o,a;return u(this,(function(c){switch(c.label){case 0:return r=di(t),i=[],o=[],a=[],r.Sl.nt()?[3,3]:(r.Sl.forEach((function(t,s){a.push(r.Bl(s,e,n).then((function(t){if(t){r.$l&&r.pl.qa(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=qc.cc(s.targetId,t);o.push(e)}})))})),[4,Promise.all(a)]);case 1:return c.sent(),r.vl.uh(i),[4,function(t,e){return s(this,void 0,void 0,(function(){var n,r,i,o,a,s,c,h,f;return u(this,(function(u){switch(u.label){case 0:n=di(t),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return eu.forEach(e,(function(e){return eu.forEach(e.rc,(function(r){return n.persistence.mi.ir(t,e.targetId,r)})).next((function(){return eu.forEach(e.oc,(function(r){return n.persistence.mi.cr(t,e.targetId,r)}))}))}))}))];case 2:return u.sent(),[3,4];case 3:if(!au(r=u.sent()))throw r;return ui("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(c=n.dc.get(s),h=c.Mt,f=c.Bt(h),n.dc=n.dc.Ht(s,f));return[2]}}))}))}(r.Sh,o)];case 2:c.sent(),c.label=3;case 3:return[2]}}))}))}function Kf(t,e){return s(this,void 0,void 0,(function(){var n,r;return u(this,(function(i){switch(i.label){case 0:return(n=di(t)).currentUser.isEqual(e)?[3,3]:(ui("SyncEngine","User change. New user:",e.R()),[4,Gc(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach((function(t){t.forEach((function(t){t.reject(new _i(Ii.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,Gf(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Wf(t,e){var n=di(t),r=n.Nl.get(e);if(r&&r.yl)return as().add(r.key);var i=as(),o=n.Dl.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Sl.get(u);i=i.ye(c.view.fl)}return i}function Jf(t,e){return s(this,void 0,void 0,(function(){var n,r,i;return u(this,(function(o){switch(o.label){case 0:return[4,Zc((n=di(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&zf(n,e.targetId,i.ml),i)]}}))}))}function Xf(t){return s(this,void 0,void 0,(function(){var e;return u(this,(function(n){return[2,eh((e=di(t)).Sh).then((function(t){return Gf(e,t)}))]}))}))}function Yf(t,e,n,r){return s(this,void 0,void 0,(function(){var i,o;return u(this,(function(a){switch(a.label){case 0:return[4,function(t,e){var n=di(t),r=di(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Vi(t,e).next((function(e){return e?n.Ic.Zo(t,e):eu.resolve(null)}))}))}((i=di(t)).Sh,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,ef(i.gl)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Uf(i,e,r||null),Vf(i,e),function(t,e){di(di(t).Ho).Fi(e)}(i.Sh,e)):li(),a.label=4;case 4:return[4,Gf(i,o)];case 5:return a.sent(),[3,7];case 6:ui("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}}))}))}function $f(t,e){return s(this,void 0,void 0,(function(){var n,r,i,o,a,s,c,h;return u(this,(function(u){switch(u.label){case 0:return rl(n=di(t)),il(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,Qf(n,r.rt())]);case 1:return i=u.sent(),n.Ll=!0,[4,cf(n.gl,!0)];case 2:for(u.sent(),o=0,a=i;o<a.length;o++)s=a[o],zh(n.gl,s);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(c=[],h=Promise.resolve(),n.Dl.forEach((function(t,e){n.pl.$a(e)?c.push(e):h=h.then((function(){return Ff(n,e),Qc(n.Sh,e,!0)})),Hh(n.gl,e)})),[4,h]);case 4:return u.sent(),[4,Qf(n,c)];case 5:return u.sent(),function(t){var e=di(t);e.Nl.forEach((function(t,n){Hh(e.gl,n)})),e.Fl.Mc(),e.Nl=new Map,e.xl=new Wa(Hi.J)}(n),n.Ll=!1,[4,cf(n.gl,!1)];case 6:u.sent(),u.label=7;case 7:return[2]}}))}))}function Qf(t,e,n){return s(this,void 0,void 0,(function(){var n,r,i,o,a,s,c,h,f,l,p,d,v,y;return u(this,(function(u){switch(u.label){case 0:n=di(t),r=[],i=[],o=0,a=e,u.label=1;case 1:return o<a.length?(s=a[o],c=void 0,(h=n.Dl.get(s))&&0!==h.length?[4,$c(n.Sh,ta(h[0]))]:[3,7]):[3,13];case 2:c=u.sent(),f=0,l=h,u.label=3;case 3:return f<l.length?(p=l[f],d=n.Sl.get(p),[4,Jf(n,d)]):[3,6];case 4:(v=u.sent()).snapshot&&i.push(v.snapshot),u.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,th(n.Sh,s)];case 8:return y=u.sent(),[4,$c(n.Sh,y)];case 9:return c=u.sent(),[4,Nf(n,Zf(y),s,!1)];case 10:u.sent(),u.label=11;case 11:r.push(c),u.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}}))}))}function Zf(t){return Ko(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function tl(t){var e=di(t);return di(di(e.Sh).persistence).Ko()}function el(t,e,n,r){return s(this,void 0,void 0,(function(){var i,o,a;return u(this,(function(s){switch(s.label){case 0:return(i=di(t)).Ll?(ui("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,eh(i.Sh)];case 3:return o=s.sent(),a=ls.$e(e,"current"===n),[4,Gf(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Qc(i.Sh,e,!0)];case 6:return s.sent(),Ff(i,e,r),[3,8];case 7:li(),s.label=8;case 8:return[2]}}))}))}function nl(t,e,n){return s(this,void 0,void 0,(function(){var r,i,o,a,s,c,h,f,l,p;return u(this,(function(d){switch(d.label){case 0:if(!(r=rl(t)).Ll)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?(a=o[i],r.Dl.has(a)?(ui("SyncEngine","Adding an already active target "+a),[3,5]):[4,th(r.Sh,a)]):[3,6];case 2:return s=d.sent(),[4,$c(r.Sh,s)];case 3:return c=d.sent(),[4,Nf(r,Zf(s),c.targetId,!1)];case 4:d.sent(),zh(r.gl,c),d.label=5;case 5:return i++,[3,1];case 6:h=function(t){return u(this,(function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,Qc(r.Sh,t,!1).then((function(){Hh(r.gl,t),Ff(r,t)})).catch(sc)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},f=0,l=n,d.label=7;case 7:return f<l.length?(p=l[f],[5,h(p)]):[3,10];case 8:d.sent(),d.label=9;case 9:return f++,[3,7];case 10:return[2]}}))}))}function rl(t){var e=di(t);return e.gl.Ch.Bh=Df.bind(null,e),e.gl.Ch.Sn=Wf.bind(null,e),e.gl.Ch.$h=Cf.bind(null,e),e.vl.uh=yf.bind(null,e.Vl),e.vl.ql=mf.bind(null,e.Vl),e}function il(t){var e=di(t);return e.gl.Ch.qh=Lf.bind(null,e),e.gl.Ch.Uh=Mf.bind(null,e),e}var ol=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return this.Kt=Dh(t.gu.T),this.pl=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return Bc(this.persistence,new zc,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new lh(dh.ra,this.Kt)},t.prototype.jl=function(t){return new Th},t.prototype.terminate=function(){return s(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.$o()];case 1:return t.sent(),[4,this.persistence.$o()];case 2:return t.sent(),[2]}}))}))},t}(),al=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return o(e,t),e.prototype.initialize=function(e){return s(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,nh(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,il(this.Xl.fa)];case 4:return n.sent(),[4,ef(this.Xl.gl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return Bc(this.persistence,new zc,t.Yl,this.Kt)},e.prototype.Hl=function(t){var e=this.persistence.mi.dr;return new Tc(e,t.fs)},e.prototype.Gl=function(t){var e=Uc(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?ac.Zs(this.cacheSizeBytes):ac.ni;return new Mc(this.synchronizeTabs,e,t.clientId,n,t.fs,Oh(),Ph(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.jl=function(t){return new Th},e}(ol),sl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return o(e,t),e.prototype.initialize=function(e){return s(this,void 0,void 0,(function(){var n,r=this;return u(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof Eh?(this.pl.fa={nu:Yf.bind(null,n),su:el.bind(null,n),iu:nl.bind(null,n),Ko:tl.bind(null,n),eu:Xf.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.yo((function(t){return s(r,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,$f(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Ir?this.zl.start(this.Sh):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.jl=function(t){var e=Oh();if(!Eh.Wn(e))throw new _i(Ii.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Uc(t.gu.T,t.gu.persistenceKey);return new Eh(e,t.fs,n,t.clientId,t.Yl)},e}(al),ul=function(){function t(){}return t.prototype.initialize=function(t,e){return s(this,void 0,void 0,(function(){var n=this;return u(this,(function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return Rf(n.fa,t,1)},this.gl.Ch.s_=Kf.bind(null,this.fa),[4,cf(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new pf},t.prototype.Zl=function(t){var e,n=Dh(t.gu.T),r=(e=t.gu,new Nh(e));return function(t,e,n){return new jh(t,e,n)}(t.credentials,r,n)},t.prototype.t_=function(t){var e,n,r,i,o,a=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return Rf(a.fa,t,0)},o=Sh.Wn()?new Sh:new Ah,new Uh(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,a){var s=new kf(t,e,n,r,i,o);return a&&(s.Ll=!0),s}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return s(this,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:return e=di(t),ui("RemoteStore","RemoteStore shutting down."),e.Fh.add(5),[4,qh(e)];case 1:return n.sent(),e.kh.$o(),e.Mh.set("Unknown"),[2]}}))}))}(this.gl)},t}(),cl=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),hl=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new tu,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then((function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return s(this,void 0,void 0,(function(){return u(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Kl=function(){return s(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}}))}))},t.prototype.a_=function(){return s(this,void 0,void 0,(function(){var t,e,n,r;return u(this,(function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new wf(JSON.parse(r),t.length+n)]}}))}))},t.prototype.__=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.u_=function(){return s(this,void 0,void 0,(function(){var t,e;return u(this,(function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.l_=function(t){return s(this,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return s(this,void 0,void 0,(function(){var t,e;return u(this,(function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new _i(Ii.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new zi(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),fl=function(t){this._methodName=t};function ll(t,e,n){if(!n)throw new _i(Ii.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function pl(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new _i(Ii.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function dl(t,e,n,r){if(!0===e&&!0===r)throw new _i(Ii.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function vl(t){if(!Hi.Et(t))throw new _i(Ii.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function yl(t){if(Hi.Et(t))throw new _i(Ii.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function ml(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":li()}function gl(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new _i(Ii.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ml(t);throw new _i(Ii.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function bl(t,e){if(e<=0)throw new _i(Ii.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var wl=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new _i(Ii.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new _i(Ii.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,dl("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Il=new Map,_l=function(){function t(t,e){this.w_="(lite)",this.E_=new wl({}),this.T_=!1,t instanceof Ni?(this.I_=t,this.m_=new Di):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new _i(Ii.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ni(t.options.projectId)}(t),this.m_=new Ri(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new _i(Ii.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new _i(Ii.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new wl(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Di;switch(t.type){case"gapi":var e=t.client;return pi(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Li(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new _i(Ii.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=Il.get(this))&&(ui("ComponentProvider","Removing Datastore"),Il.delete(this),t.terminate()),Promise.resolve();var t},t}(),El=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Al(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Tl=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Al=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Wo(r))||this).firestore=e,i.D_=r,i.type="collection",i}return o(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new El(this.firestore,null,new Hi(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Tl);function Sl(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Ti&&(t=t._),ll("collection","path",e),t instanceof _l)return yl(n=Fi.ct.apply(Fi,l([e],r))),new Al(t,null,n);if(!(t instanceof El||t instanceof Al))throw new _i(Ii.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return yl(n=Fi.ct.apply(Fi,l([t.path],r)).child(Fi.ct(e))),new Al(t.firestore,null,n)}function kl(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Ti&&(t=t._),1===arguments.length&&(e=yi.t()),ll("doc","path",e),t instanceof _l)return vl(n=Fi.ct.apply(Fi,l([e],r))),new El(t,null,new Hi(n));if(!(t instanceof El||t instanceof Al))throw new _i(Ii.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return vl(n=t.D_.child(Fi.ct.apply(Fi,l([e],r)))),new El(t.firestore,t instanceof Al?t.v_:null,new Hi(n))}function xl(t,e){return t instanceof Ti&&(t=t._),e instanceof Ti&&(e=e._),(t instanceof El||t instanceof Al)&&(e instanceof El||e instanceof Al)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Nl(t,e){return t instanceof Ti&&(t=t._),e instanceof Ti&&(e=e._),t instanceof Tl&&e instanceof Tl&&t.firestore===e.firestore&&na(t.C_,e.C_)&&t.v_===e.v_}var Ol=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new _i(Ii.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new _i(Ii.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return mi(this.x_,t.x_)||mi(this.N_,t.N_)},t}(),Pl=/^__.*__$/,Dl=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.zt?new La(t,this.data,this.zt,e,this.fieldTransforms):new Ca(t,this.data,e,this.fieldTransforms)},t}(),Rl=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new La(t,this.data,this.zt,e,this.fieldTransforms)},t}();function Cl(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw li()}}var Ll=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return ep(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.zt.find((function(e){return t.st(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.st(e.field)}))},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Cl(this.k_)&&Pl.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),Ml=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||Dh(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new Ll({k_:t,methodName:e,j_:n,path:zi.at(),B_:!1,W_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function jl(t){var e=t.p_(),n=Dh(t.I_);return new Ml(t.I_,!!e.ignoreUndefinedProperties,n)}function Vl(t,e,n,r,i,o){void 0===o&&(o={});var a=t.G_(o.merge||o.mergeFields?2:0,e,n,i);$l("Data must be an object, but it was:",a,r);var s,u,c=Xl(r,a);if(o.merge)s=new Wi(a.zt),u=a.fieldTransforms;else if(o.mergeFields){for(var h=[],f=0,l=o.mergeFields;f<l.length;f++){var p=Ql(e,l[f],n);if(!a.contains(p))throw new _i(Ii.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");np(h,p)||h.push(p)}s=new Wi(h),u=a.fieldTransforms.filter((function(t){return s.It(t.field)}))}else s=null,u=a.fieldTransforms;return new Dl(new go(c),s,u)}var Ul=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw 1===t.k_?t.K_(this._methodName+"() can only appear at the top level of your update data"):t.K_(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(fl);function Fl(t,e,n){return new Ll({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var ql=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.z_=function(t){return new Ta(t.path,new ya)},e.prototype.isEqual=function(t){return t instanceof e},e}(fl),zl=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return o(e,t),e.prototype.z_=function(t){var e=Fl(this,t,!0),n=this.H_.map((function(t){return Jl(t,e)})),r=new ma(n);return new Ta(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(fl),Hl=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return o(e,t),e.prototype.z_=function(t){var e=Fl(this,t,!0),n=this.H_.map((function(t){return Jl(t,e)})),r=new ba(n);return new Ta(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(fl),Bl=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return o(e,t),e.prototype.z_=function(t){var e=new Ia(t.Kt,fa(t.Kt,this.J_));return new Ta(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(fl);function Gl(t,e,n,r){var i=t.G_(1,e,n);$l("Data must be an object, but it was:",i,r);var o=[],a=new bo;Gi(r,(function(t,r){var s=tp(e,t,n);r instanceof Ti&&(r=r._);var u=i.U_(s);if(r instanceof Ul)o.push(s);else{var c=Jl(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new Wi(o);return new Rl(a.yt(),s,i.fieldTransforms)}function Kl(t,e,n,r,i,o){var a=t.G_(1,e,n),s=[Ql(e,r,n)],u=[i];if(o.length%2!=0)throw new _i(Ii.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Ql(e,o[c])),u.push(o[c+1]);for(var h=[],f=new bo,l=s.length-1;l>=0;--l)if(!np(h,s[l])){var p=s[l],d=u[l];d instanceof Ti&&(d=d._);var v=a.U_(p);if(d instanceof Ul)h.push(p);else{var y=Jl(d,v);null!=y&&(h.push(p),f.set(p,y))}}var m=new Wi(h);return new Rl(f.yt(),m,a.fieldTransforms)}function Wl(t,e,n,r){return void 0===r&&(r=!1),Jl(n,t.G_(r?4:3,e))}function Jl(t,e){if(t instanceof Ti&&(t=t._),Yl(t))return $l("Unsupported field value:",e,t),Xl(t,e);if(t instanceof fl)return function(t,e){if(!Cl(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=Jl(o[i],e.Q_(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Ti&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return fa(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=ji.fromDate(t);return{timestampValue:Ts(e.Kt,n)}}if(t instanceof ji)return n=new ji(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Ts(e.Kt,n)};if(t instanceof Ol)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ei)return{bytesValue:As(e.Kt,t.l)};if(t instanceof El){n=e.T;var r=t.firestore.I_;if(!r.isEqual(n))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:xs(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+ml(t))}(t,e)}function Xl(t,e){var n={};return Ki(t)?e.path&&e.path.length>0&&e.zt.push(e.path):Gi(t,(function(t,r){var i=Jl(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Yl(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ji||t instanceof Ol||t instanceof Ei||t instanceof El||t instanceof fl)}function $l(t,e,n){if(!Yl(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=ml(n);throw"an object"===r?e.K_(t+" a custom object"):e.K_(t+" "+r)}}function Ql(t,e,n){if(e instanceof Ti&&(e=e._),e instanceof hl)return e.d_;if("string"==typeof e)return tp(t,e);throw ep("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Zl=new RegExp("[~\\*/\\[\\]]");function tp(t,e,n){if(e.search(Zl)>=0)throw ep("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(hl.bind.apply(hl,l([void 0],e.split("."))))).d_}catch(r){throw ep("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function ep(t,e,n,r,i){var o=r&&!r.nt(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new _i(Ii.INVALID_ARGUMENT,(s+=". ")+t+u)}function np(t,e){return t.some((function(t){return t.isEqual(e)}))}var rp=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return s(this,void 0,void 0,(function(){var e,n=this;return u(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new _i(Ii.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return s(this,void 0,void 0,(function(){var n,r,i,o,a,s;return u(this,(function(u){switch(u.label){case 0:return n=di(t),r=Cs(n.Kt)+"/documents",i={documents:e.map((function(t){return Os(n.Kt,t)}))},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){pi(!!e.found),e.found.name,e.found.updateTime;var n=Ps(t,e.found.name),r=ks(e.found.updateTime),i=new go({mapValue:{fields:e.found.fields}});return new _o(n,r,i,{})}(t,e):"missing"in e?function(t,e){pi(!!e.missing),pi(!!e.readTime);var n=Ps(t,e.missing),r=ks(e.readTime);return new Eo(n,r)}(t,e):li()}(n.Kt,t);a.set(e.key.toString(),e)})),s=[],[2,(e.forEach((function(t){var e=a.get(t.toString());pi(!!e),s.push(e)})),s)]}}))}))}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof Eo||t instanceof _o?n.sf(t):li()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.F_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new za(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return s(this,void 0,void 0,(function(){var t,e=this;return u(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Hi.ft(n);e.mutations.push(new Ha(r,e.Gt(r)))})),[4,function(t,e){return s(this,void 0,void 0,(function(){var n,r,i;return u(this,(function(o){switch(o.label){case 0:return n=di(t),r=Cs(n.Kt)+"/documents",i={writes:e.map((function(t){return Vs(n.Kt,t)}))},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof _o)e=t.version;else{if(!(t instanceof Eo))throw li();e=Vi.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new _i(Ii.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Sa.updateTime(e):Sa.Wt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Vi.min()))throw new _i(Ii.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Sa.updateTime(e)}return Sa.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),ip=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new Rh(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu((function(){return s(t,void 0,void 0,(function(){var t,e,n=this;return u(this,(function(r){return t=new rp(this.Dh),(e=this.uf(t))&&e.then((function(e){n.fs.ys((function(){return t.commit().then((function(){n.Ts.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!eo(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys((function(){return e.af(),Promise.resolve()}))):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ga(e)}return!1},t}(),op=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=Oi.UNAUTHENTICATED,this.clientId=yi.t(),this._f=function(){},this.N=new tu,this.credentials.S((function(t){ui("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()}))}return t.prototype.getConfiguration=function(){return s(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this.fs.wf)throw new _i(Ii.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new tu;return this.fs.Tf((function(){return s(t,void 0,void 0,(function(){var t,n;return u(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=lu(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function ap(t,e){return s(this,void 0,void 0,(function(){var n,r,i=this;return u(this,(function(o){switch(o.label){case 0:return t.fs.Af(),ui("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff((function(n){r.isEqual(n)||(r=n,t.fs.vo((function(){return s(i,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,Gc(e.Sh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.Vo((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function sp(t,e){return s(this,void 0,void 0,(function(){var n,r;return u(this,(function(i){switch(i.label){case 0:return t.fs.Af(),[4,up(t)];case 1:return n=i.sent(),ui("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t.fs.vo((function(){return function(t,e){return s(this,void 0,void 0,(function(){var n,r;return u(this,(function(i){switch(i.label){case 0:return(n=di(t)).fs.Af(),ui("RemoteStore","RemoteStore received new credentials"),r=Jh(n),n.Fh.add(3),[4,qh(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Fh.delete(3),[4,Fh(n)];case 3:return i.sent(),[2]}}))}))}(e.gl,n)}))})),t.If=e,[2]}}))}))}function up(t){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(ui("FirestoreClient","Using default OfflineComponentProvider"),[4,ap(t,new ol)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function cp(t){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(ui("FirestoreClient","Using default OnlineComponentProvider"),[4,sp(t,new ul)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function hp(t){return up(t).then((function(t){return t.persistence}))}function fp(t){return up(t).then((function(t){return t.Sh}))}function lp(t){return cp(t).then((function(t){return t.gl}))}function pp(t){return cp(t).then((function(t){return t.fa}))}function dp(t){return s(this,void 0,void 0,(function(){var e,n;return u(this,(function(r){switch(r.label){case 0:return[4,cp(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=xf.bind(null,e.fa),n.Jh=Of.bind(null,e.fa),n)]}}))}))}function vp(t,e,n){var r=this;void 0===n&&(n={});var i=new tu;return t.fs.ys((function(){return s(r,void 0,void 0,(function(){var r;return u(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new cl({next:function(o){e.ys((function(){return vf(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new _i(Ii.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new _i(Ii.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new bf(Wo(n.path),o,{includeMetadataChanges:!0,sl:!0});return df(t,a)},[4,dp(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}function yp(t,e,n){var r=this;void 0===n&&(n={});var i=new tu;return t.fs.ys((function(){return s(r,void 0,void 0,(function(){var r;return u(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new cl({next:function(n){e.ys((function(){return vf(t,a)})),n.fromCache&&"server"===r.source?i.reject(new _i(Ii.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new bf(n,o,{includeMetadataChanges:!0,sl:!0});return df(t,a)},[4,dp(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}var mp=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new Rh(this,"async_queue_retry"),this.vf=function(){var e=Ph();e&&ui("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=Ph();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Ph();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.vo=function(t){var e=this;this.ys((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return s(this,void 0,void 0,(function(){var t,e=this;return u(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!au(t=n.sent()))throw t;return ui("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,ci("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.mr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=fu.Is(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&li()},t.prototype.Af=function(){},t.prototype.Nf=function(){return s(this,void 0,void 0,(function(){var t;return u(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ws-e.ws}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()}))},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),gp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new mp,r.w_="name"in e?e.name:"[DEFAULT]",r}return o(e,t),e.prototype.b_=function(){return this.Lf||wp(this),this.Lf.terminate()},e}(_l);function bp(t){return t.Lf||wp(t),t.Lf.df(),t.Lf}function wp(t){var e=t.p_(),n=function(t,e,n){return new xi(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new op(t.m_,t.Mf,n)}function Ip(t,e,n){var r=this,i=new tu;return t.fs.enqueue((function(){return s(r,void 0,void 0,(function(){var r;return u(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,ap(t,n)];case 1:return o.sent(),[4,sp(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Ii.FAILED_PRECONDITION||t.code===Ii.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function _p(t){if(t.R_||t.P_)throw new _i(Ii.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ep=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),io(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Yi(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf($i(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw li()}},t.prototype.jf=function(t,e){var n=this,r={};return Gi(t.fields||{},(function(t,i){r[t]=n.$f(i,e)})),r},t.prototype.Kf=function(t){return new Ol(Yi(t.latitude),Yi(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.$f(t,e)}))},t.prototype.qf=function(t,e){switch(e){case"previous":var n=Zi(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(to(t));default:return null}},t.prototype.Bf=function(t){var e=Xi(t);return new ji(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=Fi.ct(t);pi(Zs(n));var r=new Ni(n.get(1),n.get(3)),i=new Hi(n.X(5));return r.isEqual(e)||ci("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Tp=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new El(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new Ap(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(Sp("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),Ap=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Tp);function Sp(t,e){return"string"==typeof e?tp(t,e):e instanceof Ti?e._.d_:e.d_}function kp(t){if(Xo(t)&&0===t.Nt.length)throw new _i(Ii.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var xp=function(){};function Np(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var Op=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return o(e,t),e.prototype.Yf=function(t){var e=jl(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new _i(Ii.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){jp(a,o);for(var u=[],c=0,h=a;c<h.length;c++){var f=h[c];u.push(Mp(r,t,f))}s={arrayValue:{values:u}}}else s=Mp(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||jp(a,o),s=Wl(n,"where",a,"in"===o||"not-in"===o);var l=Oo.create(i,o,s);return function(t,e){if(e.xt()){var n=$o(t);if(null!==n&&!n.isEqual(e.field))throw new _i(Ii.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Yo(t);null!==r&&Vp(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new _i(Ii.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new _i(Ii.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,l),l}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new Tl(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Go(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(xp),Pp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return o(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new _i(Ii.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new _i(Ii.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new qo(e,n);return function(t,e){if(null===Yo(t)){var n=$o(t);null!==n&&Vp(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new Tl(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new Go(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(xp),Dp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return o(e,t),e.prototype.Yf=function(t){return new Tl(t.firestore,t.v_,ea(t.C_,this.nd,this.sd))},e}(xp),Rp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return o(e,t),e.prototype.Yf=function(t){var e=Lp(t,this.type,this.rd,this.od);return new Tl(t.firestore,t.v_,function(t,e){return new Go(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(xp),Cp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return o(e,t),e.prototype.Yf=function(t){var e=Lp(t,this.type,this.rd,this.od);return new Tl(t.firestore,t.v_,function(t,e){return new Go(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(xp);function Lp(t,e,n,r){if(n[0]instanceof Ti&&(n[0]=n[0]._),n[0]instanceof Tp)return function(t,e,n,r,i){if(!r)throw new _i(Ii.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Zo(t);a<s.length;a++){var u=s[a];if(u.field.ht())o.push(fo(e,r.key));else{var c=r.field(u.field);if(Qi(c))throw new _i(Ii.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var h=u.field.ot();throw new _i(Ii.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+h+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Uo(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=jl(t.firestore);return function(t,e,n,r,i,o){var a=t.Nt;if(i.length>a.length)throw new _i(Ii.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.ht()){if("string"!=typeof c)throw new _i(Ii.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Qo(t)&&-1!==c.indexOf("/"))throw new _i(Ii.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var h=t.path.child(Fi.ct(c));if(!Hi.Et(h))throw new _i(Ii.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");var f=new Hi(h);s.push(fo(e,f))}else{var l=Wl(n,r,c);s.push(l)}}return new Uo(s,o)}(t.C_,t.firestore.I_,i,e,n,r)}function Mp(t,e,n){if(n instanceof Ti&&(n=n._),"string"==typeof n){if(""===n)throw new _i(Ii.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qo(e)&&-1!==n.indexOf("/"))throw new _i(Ii.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Fi.ct(n));if(!Hi.Et(r))throw new _i(Ii.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return fo(t,new Hi(r))}if(n instanceof El)return fo(t,n.S_);throw new _i(Ii.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ml(n)+".")}function jp(t,e){if(!Array.isArray(t)||0===t.length)throw new _i(Ii.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new _i(Ii.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Vp(t,e,n){if(!n.isEqual(e))throw new _i(Ii.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Up(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function Fp(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var qp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return o(e,t),e.prototype.Uf=function(t){return new Ei(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new El(this.firestore,null,e)},e}(Ep),zp=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Hp=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this).zf=e,s.ad=e,s.metadata=o,s}return o(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new Bp(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(Sp("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(Tp),Bp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Hp),Gp=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new zp(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach((function(r){t.call(e,new Bp(n.zf,n.Hf,r.key,r,new zp(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new _i(Ii.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map((function(e){var r=new Bp(t.zf,t.Hf,e.doc.key,e.doc,new zp(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t.ud.De;return t.ud.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Bp(t.zf,t.Hf,e.doc.key,e.doc,new zp(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Kp(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.ld=e),this.hd},t}();function Kp(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return li()}}function Wp(t,e){return t instanceof Hp&&e instanceof Hp?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof Gp&&e instanceof Gp&&t.zf===e.zf&&Nl(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var Jp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return o(e,t),e.prototype.Uf=function(t){return new Ei(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new El(this.firestore,null,e)},e}(Ep);function Xp(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=gl(t,El);var o=gl(t.firestore,gp),a=jl(o);return e instanceof Ti&&(e=e._),$p(o,[("string"==typeof e||e instanceof hl?Kl(a,"updateDoc",t.S_,e,n,r):Gl(a,"updateDoc",t.S_,e)).F_(t.S_,Sa.exists(!0))])}function Yp(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Ti&&(t=t._);var a={includeMetadataChanges:!1},c=0;"object"!=typeof i[c]||Up(i[c])||(a=i[c],c++);var h,f,l,p={includeMetadataChanges:a.includeMetadataChanges};if(Up(i[c])){var d=i[c];i[c]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[c+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[c+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof El)f=gl(t.firestore,gp),l=Wo(t.S_.path),h={next:function(e){i[c]&&i[c](Qp(f,t,e))},error:i[c+1],complete:i[c+2]};else{var v=gl(t,Tl);f=gl(v.firestore,gp),l=v.C_;var y=new Jp(f);h={next:function(t){i[c]&&i[c](new Gp(f,y,v,t))},error:i[c+1],complete:i[c+2]},kp(t.C_)}return function(t,e,n,r){var i=this,o=new cl(r),a=new bf(e,o,n);return t.fs.ys((function(){return s(i,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:return e=df,[4,dp(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.r_(),t.fs.ys((function(){return s(i,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:return e=vf,[4,dp(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}(bp(f),l,p,h)}function $p(t,e){return function(t,e){var n=this,r=new tu;return t.fs.ys((function(){return s(n,void 0,void 0,(function(){var n;return u(this,(function(i){switch(i.label){case 0:return n=Pf,[4,pp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(bp(t),e)}function Qp(t,e,n){var r=n.docs.get(e.S_),i=new Jp(t);return new Hp(t,i,e.S_,r,new zp(n.hasPendingWrites,n.fromCache),e.v_)}var Zp=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=jl(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=td(t,this.zf),i=Fp(r.v_,e,n),o=Vl(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.F_(r.S_,Sa.Wt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,a=td(t,this.zf);return e instanceof Ti&&(e=e._),o="string"==typeof e||e instanceof hl?Kl(this.wd,"WriteBatch.update",a.S_,e,n,r):Gl(this.wd,"WriteBatch.update",a.S_,e),this.fd.push(o.F_(a.S_,Sa.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=td(t,this.zf);return this.fd=this.fd.concat(new za(e.S_,Sa.Wt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new _i(Ii.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function td(t,e){if(t instanceof Ti&&(t=t._),t.firestore!==e)throw new _i(Ii.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var ed=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return o(e,t),e.prototype.get=function(e){var n=this,r=td(e,this.zf),i=new Jp(this.zf);return t.prototype.get.call(this,e).then((function(t){return new Hp(n.zf,i,r.S_,t.Jf,new zp(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=jl(t)}return t.prototype.get=function(t){var e=this,n=td(t,this.zf),r=new qp(this.zf);return this.Td.ef([n.S_]).then((function(t){if(!t||1!==t.length)return li();var i=t[0];if(i instanceof Eo)return new Tp(e.zf,r,n.S_,null,n.v_);if(i instanceof _o)return new Tp(e.zf,r,i.key,i,n.v_);throw li()}))},t.prototype.set=function(t,e,n){var r=td(t,this.zf),i=Fp(r.v_,e,n),o=Vl(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=td(t,this.zf);return e instanceof Ti&&(e=e._),o="string"==typeof e||e instanceof hl?Kl(this.wd,"Transaction.update",a.S_,e,n,r):Gl(this.wd,"Transaction.update",a.S_,e),this.Td.update(a.S_,o),this},t.prototype.delete=function(t){var e=td(t,this.zf);return this.Td.delete(e.S_),this},t}()),nd=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){_p(t=gl(t,gp));var n=bp(t),r=t.p_(),i=new ul;return Ip(n,i,new al(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){_p(t=gl(t,gp));var e=bp(t),n=t.p_(),r=new ul;return Ip(e,r,new sl(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new _i(Ii.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new tu;return t.Mf.Tf((function(){return s(e,void 0,void 0,(function(){var e;return u(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return s(this,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:return ru.Wn()?(e=t+"main",[4,ru.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Uc(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._)},t}(),rd=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Ni||(i.md=e),i}return o(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this._.V_().host&&hi("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return s(e,void 0,void 0,(function(){var e,n;return u(this,(function(r){switch(r.label){case 0:return[4,hp(t)];case 1:return e=r.sent(),[4,lp(t)];case 2:return n=r.sent(),[2,(e.po(!0),function(t){var e=di(t);return e.Fh.delete(0),Fh(e)}(n))]}}))}))}))}(bp(gl(this._,gp)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return s(e,void 0,void 0,(function(){var e,n;return u(this,(function(r){switch(r.label){case 0:return[4,hp(t)];case 1:return e=r.sent(),[4,lp(t)];case 2:return n=r.sent(),[2,(e.po(!1),function(t){return s(this,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:return(e=di(t)).Fh.add(0),[4,qh(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(bp(gl(this._,gp)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&dl("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new tu;return t.fs.ys((function(){return s(e,void 0,void 0,(function(){var e;return u(this,(function(r){switch(r.label){case 0:return e=jf,[4,pp(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(bp(gl(this._,gp)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new cl(e);return t.fs.ys((function(){return s(n,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:return e=function(t,e){di(t).jh.add(e),e.next()},[4,dp(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.r_(),t.fs.ys((function(){return s(n,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:return e=function(t,e){di(t).jh.delete(e)},[4,dp(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(bp(t=gl(t,gp)),Up(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new _i(Ii.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new yd(this,Sl(this._,t))}catch(t){throw ud(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new sd(this,kl(this._,t))}catch(t){throw ud(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new pd(this,function(t,e){if(t=gl(t,_l),ll("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _i(Ii.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Tl(t,null,function(t){return new Go(Fi.at(),t)}(e))}(this._,t))}catch(t){throw ud(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new tu;return t.fs.ys((function(){return s(n,void 0,void 0,(function(){var n;return u(this,(function(i){switch(i.label){case 0:return[4,function(t){return cp(t).then((function(t){return t.Dh}))}(t)];case 1:return n=i.sent(),new ip(t.fs,n,e,r).run(),[2]}}))}))})),r.promise}(bp(t),(function(n){return e(new ed(t,n))}))}(this._,(function(n){return t(new od(e,n))}))},e.prototype.batch=function(){var t=this;return bp(this._),new ad(new Zp(this._,(function(e){return $p(t._,e)})))},e.prototype.loadBundle=function(t){throw new _i(Ii.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new _i(Ii.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Ti),id=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return o(e,t),e.prototype.Uf=function(t){return new ki(new Ei(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return sd.Ad(e,this.firestore,null)},e}(Ep),od=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return o(e,t),e.prototype.get=function(t){var e=this,n=md(t);return this._.get(n).then((function(t){return new fd(e.zf,t)}))},e.prototype.set=function(t,e,n){var r=md(t);return n?(pl("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=md(t);return 2===arguments.length?this._.update(a,e):(r=this._).update.apply(r,l([a,e,n],i)),this},e.prototype.delete=function(t){var e=md(t);return this._.delete(e),this},e}(Ti),ad=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.set=function(t,e,n){var r=md(t);return n?(pl("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=md(t);return 2===arguments.length?this._.update(a,e):(r=this._).update.apply(r,l([a,e,n],i)),this},e.prototype.delete=function(t){var e=md(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(Ti),sd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new id(e),r}return o(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new _i(Ii.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new El(n._,r,new Hi(t)))},e.Ad=function(t,n,r){return new e(n,new El(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new yd(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new yd(this.firestore,Sl(this._,t))}catch(t){throw ud(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Ti&&(t=t._),t instanceof El&&xl(this._,t)},e.prototype.set=function(t,e){e=pl("DocumentReference.set",e);try{return function(t,e,n){t=gl(t,El);var r=gl(t.firestore,gp),i=Fp(t.v_,e,n);return $p(r,[Vl(jl(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Sa.Wt())])}(this._,t,e)}catch(t){throw ud(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Xp(this._,t):Xp.apply(void 0,l([this._,t,e],n))}catch(t){throw ud(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return $p(gl((t=this._).firestore,gp),[new za(t.S_,Sa.Wt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=cd(e),i=hd(e,(function(e){return new fd(t.firestore,new Hp(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))}));return Yp(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=gl(t,El);var e=gl(t.firestore,gp),n=bp(e),r=new Jp(e);return function(t,e){var n=this,r=new tu;return t.fs.ys((function(){return s(n,void 0,void 0,(function(){var n;return u(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return s(this,void 0,void 0,(function(){var r,i;return u(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=di(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ic.Jo(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof _o?n.resolve(i):i instanceof Eo?n.resolve(null):n.reject(new _i(Ii.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=lu(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,fp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new Hp(e,r,t.S_,n,new zp(n instanceof _o&&n.bt,!0),t.v_)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=gl(t,El);var e=gl(t.firestore,gp);return vp(bp(e),t.S_,{source:"server"}).then((function(n){return Qp(e,t,n)}))}(this._):function(t){t=gl(t,El);var e=gl(t.firestore,gp);return vp(bp(e),t.S_).then((function(n){return Qp(e,t,n)}))}(this._)).then((function(t){return new fd(e.firestore,new Hp(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Ti);function ud(t,e,n){return t.message=t.message.replace(e,n),t}function cd(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Up(r))return r}return{}}function hd(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Up(t[0])?t[0]:Up(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var fd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return o(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new sd(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return Wp(this._,t._)},e}(Ti),ld=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.data=function(t){return this._.data(t)},e}(fd),pd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new id(e),r}return o(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Np(this._,function(t,e,n){var r=e,i=Sp("where",t);return new Op(i,r,n)}(t,n,r)))}catch(t){throw ud(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Np(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=Sp("orderBy",t);return new Pp(r,n)}(t,n)))}catch(t){throw ud(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Np(this._,function(t){return bl("limit",t),new Dp("limit",t,"F")}(t)))}catch(t){throw ud(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Np(this._,function(t){return bl("limitToLast",t),new Dp("limitToLast",t,"L")}(t)))}catch(t){throw ud(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Np(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Rp("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw ud(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Np(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Rp("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw ud(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Np(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Cp("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw ud(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Np(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Cp("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw ud(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Nl(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=gl(t,Tl);var e=gl(t.firestore,gp),n=bp(e),r=new Jp(e);return function(t,e){var n=this,r=new tu;return t.fs.ys((function(){return s(n,void 0,void 0,(function(){var n;return u(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return s(this,void 0,void 0,(function(){var r,i,o,a,s;return u(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Zc(t,e,!0)];case 1:return s=u.sent(),r=new Tf(e,s.Pc),i=r.dl(s.documents),o=r.Ti(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=lu(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,fp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new Gp(e,r,t,n)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=gl(t,Tl);var e=gl(t.firestore,gp),n=bp(e),r=new Jp(e);return yp(n,t.C_,{source:"server"}).then((function(n){return new Gp(e,r,t,n)}))}(this._):function(t){t=gl(t,Tl);var e=gl(t.firestore,gp),n=bp(e),r=new Jp(e);return kp(t.C_),yp(n,t.C_).then((function(n){return new Gp(e,r,t,n)}))}(this._)).then((function(t){return new vd(e.firestore,new Gp(e.firestore._,e.Hf,e._,t.ud))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=cd(e),i=hd(e,(function(e){return new vd(t.firestore,new Gp(t.firestore._,t.Hf,t._,e.ud))}));return Yp(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Ti),dd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new ld(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(Ti),vd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return o(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new pd(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map((function(e){return new ld(t.zf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map((function(t){return new dd(e.zf,t)}))},e.prototype.forEach=function(t,e){var n=this;this._.forEach((function(r){t.call(e,new ld(n.zf,r))}))},e.prototype.isEqual=function(t){return Wp(this._,t._)},e}(Ti),yd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return o(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new sd(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new sd(this.firestore,void 0===t?kl(this._):kl(this._,t))}catch(t){throw ud(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=gl(t.firestore,gp),r=kl(t),i=Fp(t.v_,e);return $p(n,[Vl(jl(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Sa.exists(!1))]).then((function(){return r}))}(this._,t).then((function(t){return new sd(e.firestore,t)}))},e.prototype.isEqual=function(t){return xl(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(pd);function md(t){return t instanceof Ti&&(t=t._),gl(t,El)}var gd=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(hl.bind.apply(hl,l([void 0],e))))||this}return o(e,t),e.documentId=function(){return new e(zi.lt().ot())},e.prototype.isEqual=function(t){return t instanceof Ti&&(t=t._),t instanceof hl&&this._.d_.isEqual(t.d_)},e}(Ti),bd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.serverTimestamp=function(){var t=new ql("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Ul("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zl("arrayUnion",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hl("arrayRemove",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Bl("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(Ti);!function(){function t(){this.Pd={},this.yd=new tu,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.Wl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var wd,Id={Firestore:rd,GeoPoint:Ol,Timestamp:ji,Blob:ki,Transaction:od,WriteBatch:ad,DocumentReference:sd,DocumentSnapshot:fd,Query:pd,QueryDocumentSnapshot:ld,QuerySnapshot:vd,CollectionReference:yd,FieldPath:gd,FieldValue:bd,setLogLevel:function(t){var e;e=t,ai.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};function _d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ed(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function Td(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Ed(o,r,i,a,s,"next",t)}function s(t){Ed(o,r,i,a,s,"throw",t)}a(void 0)}))}}function Ad(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(function(t,e){t.INTERNAL.registerComponent(new S("firestore",(function(t){return function(t,e){return new rd(t,new gp(t,e),new nd)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Id)))})(wd=Z),wd.registerVersion("@firebase/firestore","2.1.1");var Sd=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r,i;return e=t,(n=[{key:"initialize",value:function(t){this.db=Z.firestore().collection("users").doc(t)}},{key:"uninitialize",value:function(){this.db=null}},{key:"get",value:(i=Td(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.db.get();case 2:return t.abrupt("return",t.sent.data());case 3:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"updateDOM",value:(r=Td(regeneratorRuntime.mark((function t(){var e,n,r,i,o,a,s,u=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.db.collection("lessons").get();case 2:e=t.sent.docs.reduce((function(t,e){return t[e.id]=e.data().progress,t}),{}),n={},r={"not-started":0,"in-progress":0,complete:1},Object.entries(e).forEach((function(t){var e,i,o=(i=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,i)||function(t,e){if(t){if("string"==typeof t)return _d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_d(t,e):void 0}}(e,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],s=o[1],c=u._convertID(a).split("/").slice(0,-2).join("/")+"/";void 0===n[c]?n[c]={sum:r[s],total:1}:(n[c].sum+=r[s],n[c].total+=1);try{document.querySelector('#site-nav .progress[name="'.concat(u._convertID(a),'"]')).className="progress ".concat(s)}catch(t){}if(a===u._convertPath(window.location.pathname))for(var h=document.getElementById("progress_select").getElementsByTagName("option"),f=0;f<h.length;f++){var l=h[f];l.value===s&&l.setAttribute("selected","selected")}})),t.t0=regeneratorRuntime.keys(n);case 7:if((t.t1=t.t0()).done){t.next=17;break}if(i=t.t1.value,null!=(o=document.querySelector('#site-nav #nav-list-head .nav-list-item .progress-ring__circle[name="'.concat(i,'"]')))){t.next=12;break}return t.abrupt("continue",7);case 12:a=n[i],100==(s=a.sum/a.total*100)?o.classList.add("complete"):o.style.setProperty("--percent","".concat(s)),t.next=7;break;case 17:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"updateProgress",value:function(t,e){var n=this;this.db.collection("lessons").doc(this._convertPath(t)).set({progress:e},{merge:!0}).then((function(){return n.updateDOM()}))}},{key:"delete",value:function(){this.db.delete()}},{key:"_convertPath",value:function(t){var e=t.split("/");return e.slice(2,e.length-1).join("\\")}},{key:"_convertID",value:function(t){return"/content/"+t.replace(/\\/g,"/")+"/"}},{key:"isReady",get:function(){return null!=this.db}}])&&Ad(e.prototype,n),t}());function kd(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function xd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Nd={apiKey:"AIzaSyB75zRrXt9rHoi9mObhTnRfenK6g5bnHTk",authDomain:"incendium-academy.firebaseapp.com",databaseURL:"https://incendium-academy.firebaseio.com",projectId:"incendium-academy",storageBucket:"incendium-academy.appspot.com",messagingSenderId:"941896137375",appId:"1:941896137375:web:75ea163837beb0a42800aa"},Od=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Z.initializeApp(Nd)}var e,n;return e=t,(n=[{key:"validateEmail",value:function(t){return/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/gi.test(t)}},{key:"validatePassword",value:function(t){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&#])[A-Za-z\d@$!%*?&#]{8,}$/g.test(t)}},{key:"createUserWithEmailAndPassword",value:function(t,e,n){var r=Z.auth.EmailAuthProvider.credential(t,e);Z.auth().currentUser.linkWithCredential(r).then((function(t){t.user.updateProfile({displayName:n}).then((function(){window.location.reload()})),t.user.sendEmailVerification()})).catch((function(t){console.error(t.code,t.message)}))}},{key:"signInWithEmailAndPassword",value:function(t,e){return Z.auth().signInWithEmailAndPassword(t,e)}},{key:"signInWithGoogle",value:function(){var t=new Z.auth.GoogleAuthProvider;Z.auth().useDeviceLanguage(),Z.auth().currentUser.linkWithRedirect(t).catch((function(t){console.error(t.code,t.message)}))}},{key:"signInAnonymously",value:function(){return Z.auth().signInAnonymously().catch((function(t){console.error(t.code,t.message)}))}},{key:"signOut",value:function(){return Z.auth().signOut()}},{key:"onAuthStateChanged",value:function(t){Z.auth().onAuthStateChanged(t)}},{key:"getRedirectResult",value:function(){Z.auth().getRedirectResult().catch(function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){kd(o,r,i,a,s,"next",t)}function s(t){kd(o,r,i,a,s,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("auth/credential-already-in-use"!=e.code){t.next=7;break}return n=Z.auth().currentUser,t.next=4,Sd.get();case 4:r=t.sent,Sd.delete(),Z.auth().signInWithCredential(e.credential).then((function(t){Object.keys(r).forEach((function(t){r[t]||delete r[t]})),Sd.initialize(t.user.uid),Sd.updateProgress(r),n.delete().catch((function(t){console.error(t)}))})).catch((function(t){console.error(t)}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"currentUser",get:function(){return Z.auth().currentUser}}])&&xd(e.prototype,n),t}());function Pd(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}window.addEventListener("load",(function(){var t,e,n=new r("authModal");n.modal.querySelector("#loginForm").addEventListener("submit",(function(t){t.preventDefault();var e=t.target.email.value,r=t.target.password.value;n.modal.querySelectorAll(".errormsg").forEach((function(t){return t.remove()})),""==e?t.target.email.insertAdjacentHTML("afterend",'<sub class="errormsg">An email is required to login.</sub>'):""==r?t.target.password.insertAdjacentHTML("afterend",'<sub class="errormsg">Password cannot be blank.</sub>'):Od.signInWithEmailAndPassword(e,r).catch((function(e){t.target.insertAdjacentHTML("afterend",'<sub class="errormsg">Incorrect email or password.</sub>')}))})),n.modal.querySelector("#signupForm").addEventListener("submit",(function(t){t.preventDefault();var e=t.target.name.value,r=t.target.email.value,i=t.target.password.value;n.modal.querySelectorAll(".errormsg").forEach((function(t){return t.remove()})),""!==r&&Od.validateEmail(r)?""!==i&&Od.validatePassword(i)?Od.createUserWithEmailAndPassword(r,i,e):t.target.password.insertAdjacentHTML("afterend",'<sub class="errormsg">Password must contain at least one uppercase letter, one lowercase letter, one number, and one speecial symbol (@,$,!,%,*,?,&,#).</sub>'):t.target.email.insertAdjacentHTML("afterend",'<sub class="errormsg">Please enter a valid email address.</sub>')})),null===(t=document.getElementById("googleLoginBtn"))||void 0===t||t.addEventListener("click",(function(){Od.signInWithGoogle()})),Od.onAuthStateChanged((function(t){var e;t?(n.hide(),t.isAnonymous||(document.querySelector(".aux-nav-list").innerHTML='\n      <li class="aux-nav-list-item">\n        <a href="#" class="site-button" id="logoutBtn">Logout</a>\n      </li>\n      ',null===(e=document.getElementById("logoutBtn"))||void 0===e||e.addEventListener("click",(function(t){t.preventDefault(),Od.signOut().then((function(){window.location.reload()}))}))),Sd.initialize(t.uid),Sd.updateDOM()):Sd.uninitialize(),Od.getRedirectResult()})),null===(e=document.getElementById("progress_select"))||void 0===e||e.addEventListener("change",function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Pd(o,r,i,a,s,"next",t)}function s(t){Pd(o,r,i,a,s,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Od.currentUser){t.next=3;break}return t.next=3,Od.signInAnonymously();case 3:Sd.updateProgress(e.target.name,e.target.value);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))})()})();